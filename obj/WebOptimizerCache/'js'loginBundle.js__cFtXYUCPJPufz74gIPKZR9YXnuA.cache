{"Headers":{"Last-Modified":"Tue, 07 Aug 2018 03:37:02 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My4zLjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCmZ1bmN0aW9uIGJsb2NrVUkoKXskLmJsb2NrVUkoe21lc3NhZ2U6IjxpbWcgc3JjPSciK2xvY2F0aW9uLnByb3RvY29sKyIvaW1hZ2VzL2xvYWRpbmcuZ2lmJy8+Iixjc3M6e3RvcDooJCh3aW5kb3cpLmhlaWdodCgpLTIwMCkvMisicHgiLGxlZnQ6KCQod2luZG93KS53aWR0aCgpLTQwMCkvMisicHgiLHdpZHRoOiI0MDBweCJ9fSl9IWZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiOyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4uZG9jdW1lbnQ/dChuLCEwKTpmdW5jdGlvbihuKXtpZighbi5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gdChuKX06dChuKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaHIobix0LGkpe3ZhciByLHU9KHQ9dHx8ZikuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aWYodS50ZXh0PW4saSlmb3IociBpbiBkZilpW3JdJiYodVtyXT1pW3JdKTt0LmhlYWQuYXBwZW5kQ2hpbGQodSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbnVsbD09bj9uKyIiOiJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4/YnRbb3IuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufWZ1bmN0aW9uIGhpKG4pe3ZhciB0PSEhbiYmImxlbmd0aCJpbiBuJiZuLmxlbmd0aCxpPWl0KG4pO3JldHVybiF1KG4pJiYhdHQobikmJigiYXJyYXkiPT09aXx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmdD4wJiZ0LTEgaW4gbil9ZnVuY3Rpb24gdihuLHQpe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gbGkobix0LHIpe3JldHVybiB1KHQpP2kuZ3JlcChuLGZ1bmN0aW9uKG4saSl7cmV0dXJuISF0LmNhbGwobixpLG4pIT09cn0pOnQubm9kZVR5cGU/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10IT09cn0pOiJzdHJpbmciIT10eXBlb2YgdD9pLmdyZXAobixmdW5jdGlvbihuKXtyZXR1cm4gd3QuY2FsbCh0LG4pPi0xIT09cn0pOmkuZmlsdGVyKHQsbixyKX1mdW5jdGlvbiB3cihuLHQpe3doaWxlKChuPW5bdF0pJiYxIT09bi5ub2RlVHlwZSk7cmV0dXJuIG59ZnVuY3Rpb24gbmUobil7dmFyIHQ9e307cmV0dXJuIGkuZWFjaChuLm1hdGNoKGwpfHxbXSxmdW5jdGlvbihuLGkpe3RbaV09ITB9KSx0fWZ1bmN0aW9uIHV0KG4pe3JldHVybiBufWZ1bmN0aW9uIGR0KG4pe3Rocm93IG47fWZ1bmN0aW9uIGJyKG4sdCxpLHIpe3ZhciBmO3RyeXtuJiZ1KGY9bi5wcm9taXNlKT9mLmNhbGwobikuZG9uZSh0KS5mYWlsKGkpOm4mJnUoZj1uLnRoZW4pP2YuY2FsbChuLHQsaSk6dC5hcHBseSh2b2lkIDAsW25dLnNsaWNlKHIpKX1jYXRjaChuKXtpLmFwcGx5KHZvaWQgMCxbbl0pfX1mdW5jdGlvbiBuaSgpe2YucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsbmkpO24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsbmkpO2kucmVhZHkoKX1mdW5jdGlvbiByZShuLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24geShuKXtyZXR1cm4gbi5yZXBsYWNlKHRlLCJtcy0iKS5yZXBsYWNlKGllLHJlKX1mdW5jdGlvbiBhdCgpe3RoaXMuZXhwYW5kbz1pLmV4cGFuZG8rYXQudWlkKyt9ZnVuY3Rpb24gZWUobil7cmV0dXJuInRydWUiPT09bnx8ImZhbHNlIiE9PW4mJigibnVsbCI9PT1uP251bGw6bj09PStuKyIiPytuOnVlLnRlc3Qobik/SlNPTi5wYXJzZShuKTpuKX1mdW5jdGlvbiBkcihuLHQsaSl7dmFyIHI7aWYodm9pZCAwPT09aSYmMT09PW4ubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShmZSwiLSQmIikudG9Mb3dlckNhc2UoKSwic3RyaW5nIj09dHlwZW9mKGk9bi5nZXRBdHRyaWJ1dGUocikpKXt0cnl7aT1lZShpKX1jYXRjaChuKXt9by5zZXQobix0LGkpfWVsc2UgaT12b2lkIDA7cmV0dXJuIGl9ZnVuY3Rpb24gdHUobix0LHIsdSl7dmFyIHMsaCxjPTIwLGw9dT9mdW5jdGlvbigpe3JldHVybiB1LmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBpLmNzcyhuLHQsIiIpfSxvPWwoKSxlPXImJnJbM118fChpLmNzc051bWJlclt0XT8iIjoicHgiKSxmPShpLmNzc051bWJlclt0XXx8InB4IiE9PWUmJitvKSYmdnQuZXhlYyhpLmNzcyhuLHQpKTtpZihmJiZmWzNdIT09ZSl7Zm9yKG8vPTIsZT1lfHxmWzNdLGY9K298fDE7Yy0tOylpLnN0eWxlKG4sdCxmK2UpLCgxLWgpKigxLShoPWwoKS9vfHwuNSkpPD0wJiYoYz0wKSxmLz1oO2YqPTI7aS5zdHlsZShuLHQsZitlKTtyPXJ8fFtdfXJldHVybiByJiYoZj0rZnx8K298fDAscz1yWzFdP2YrKHJbMV0rMSkqclsyXTorclsyXSx1JiYodS51bml0PWUsdS5zdGFydD1mLHUuZW5kPXMpKSxzfWZ1bmN0aW9uIG9lKG4pe3ZhciByLGY9bi5vd25lckRvY3VtZW50LHU9bi5ub2RlTmFtZSx0PWFpW3VdO3JldHVybiB0fHwocj1mLmJvZHkuYXBwZW5kQ2hpbGQoZi5jcmVhdGVFbGVtZW50KHUpKSx0PWkuY3NzKHIsImRpc3BsYXkiKSxyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQociksIm5vbmUiPT09dCYmKHQ9ImJsb2NrIiksYWlbdV09dCx0KX1mdW5jdGlvbiBmdChuLHQpe2Zvcih2YXIgZSx1LGY9W10saT0wLG89bi5sZW5ndGg7aTxvO2krKykodT1uW2ldKS5zdHlsZSYmKGU9dS5zdHlsZS5kaXNwbGF5LHQ/KCJub25lIj09PWUmJihmW2ldPXIuZ2V0KHUsImRpc3BsYXkiKXx8bnVsbCxmW2ldfHwodS5zdHlsZS5kaXNwbGF5PSIiKSksIiI9PT11LnN0eWxlLmRpc3BsYXkmJnRpKHUpJiYoZltpXT1vZSh1KSkpOiJub25lIiE9PWUmJihmW2ldPSJub25lIixyLnNldCh1LCJkaXNwbGF5IixlKSkpO2ZvcihpPTA7aTxvO2krKyludWxsIT1mW2ldJiYobltpXS5zdHlsZS5kaXNwbGF5PWZbaV0pO3JldHVybiBufWZ1bmN0aW9uIHMobix0KXt2YXIgcjtyZXR1cm4gcj0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/bi5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsP24ucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJnYobix0KT9pLm1lcmdlKFtuXSxyKTpyfWZ1bmN0aW9uIHZpKG4sdCl7Zm9yKHZhciBpPTAsdT1uLmxlbmd0aDtpPHU7aSsrKXIuc2V0KG5baV0sImdsb2JhbEV2YWwiLCF0fHxyLmdldCh0W2ldLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIGV1KG4sdCxyLHUsZil7Zm9yKHZhciBlLG8scCxhLHcsdixoPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHk9W10sbD0wLGI9bi5sZW5ndGg7bDxiO2wrKylpZigoZT1uW2xdKXx8MD09PWUpaWYoIm9iamVjdCI9PT1pdChlKSlpLm1lcmdlKHksZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihmdS50ZXN0KGUpKXtmb3Iobz1vfHxoLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHA9KHJ1LmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYT1jW3BdfHxjLl9kZWZhdWx0LG8uaW5uZXJIVE1MPWFbMV0raS5odG1sUHJlZmlsdGVyKGUpK2FbMl0sdj1hWzBdO3YtLTspbz1vLmxhc3RDaGlsZDtpLm1lcmdlKHksby5jaGlsZE5vZGVzKTsobz1oLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgeS5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoZSkpO2ZvcihoLnRleHRDb250ZW50PSIiLGw9MDtlPXlbbCsrXTspaWYodSYmaS5pbkFycmF5KGUsdSk+LTEpZiYmZi5wdXNoKGUpO2Vsc2UgaWYodz1pLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSxvPXMoaC5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksdyYmdmkobykscilmb3Iodj0wO2U9b1t2KytdOyl1dS50ZXN0KGUudHlwZXx8IiIpJiZyLnB1c2goZSk7cmV0dXJuIGh9ZnVuY3Rpb24gcmkoKXtyZXR1cm4hMH1mdW5jdGlvbiBldCgpe3JldHVybiExfWZ1bmN0aW9uIHN1KCl7dHJ5e3JldHVybiBmLmFjdGl2ZUVsZW1lbnR9Y2F0Y2gobil7fX1mdW5jdGlvbiB5aShuLHQscix1LGYsZSl7dmFyIG8scztpZigib2JqZWN0Ij09dHlwZW9mIHQpeyJzdHJpbmciIT10eXBlb2YgciYmKHU9dXx8cixyPXZvaWQgMCk7Zm9yKHMgaW4gdCl5aShuLHMscix1LHRbc10sZSk7cmV0dXJuIG59aWYobnVsbD09dSYmbnVsbD09Zj8oZj1yLHU9cj12b2lkIDApOm51bGw9PWYmJigic3RyaW5nIj09dHlwZW9mIHI/KGY9dSx1PXZvaWQgMCk6KGY9dSx1PXIscj12b2lkIDApKSwhMT09PWYpZj1ldDtlbHNlIGlmKCFmKXJldHVybiBuO3JldHVybiAxPT09ZSYmKG89ZiwoZj1mdW5jdGlvbihuKXtyZXR1cm4gaSgpLm9mZihuKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9by5ndWlkfHwoby5ndWlkPWkuZ3VpZCsrKSksbi5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5hZGQodGhpcyx0LGYsdSxyKX0pfWZ1bmN0aW9uIGh1KG4sdCl7cmV0dXJuIHYobiwidGFibGUiKSYmdigxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsInRyIik/aShuKS5jaGlsZHJlbigidGJvZHkiKVswXXx8bjpufWZ1bmN0aW9uIHllKG4pe3JldHVybiBuLnR5cGU9KG51bGwhPT1uLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrbi50eXBlLG59ZnVuY3Rpb24gcGUobil7cmV0dXJuInRydWUvIj09PShuLnR5cGV8fCIiKS5zbGljZSgwLDUpP24udHlwZT1uLnR5cGUuc2xpY2UoNSk6bi5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxufWZ1bmN0aW9uIGN1KG4sdCl7dmFyIHUsYyxmLHMsaCxsLGEsZTtpZigxPT09dC5ub2RlVHlwZSl7aWYoci5oYXNEYXRhKG4pJiYocz1yLmFjY2VzcyhuKSxoPXIuc2V0KHQscyksZT1zLmV2ZW50cykpe2RlbGV0ZSBoLmhhbmRsZTtoLmV2ZW50cz17fTtmb3IoZiBpbiBlKWZvcih1PTAsYz1lW2ZdLmxlbmd0aDt1PGM7dSsrKWkuZXZlbnQuYWRkKHQsZixlW2ZdW3VdKX1vLmhhc0RhdGEobikmJihsPW8uYWNjZXNzKG4pLGE9aS5leHRlbmQoe30sbCksby5zZXQodCxhKSl9fWZ1bmN0aW9uIHdlKG4sdCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOyJpbnB1dCI9PT1pJiZpdS50ZXN0KG4udHlwZSk/dC5jaGVja2VkPW4uY2hlY2tlZDoiaW5wdXQiIT09aSYmInRleHRhcmVhIiE9PWl8fCh0LmRlZmF1bHRWYWx1ZT1uLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gb3Qobix0LGYsbyl7dD1lci5hcHBseShbXSx0KTt2YXIgbCx3LGEsdixoLGIsYz0wLHk9bi5sZW5ndGgsZD15LTEscD10WzBdLGs9dShwKTtpZihrfHx5PjEmJiJzdHJpbmciPT10eXBlb2YgcCYmIWUuY2hlY2tDbG9uZSYmYWUudGVzdChwKSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGkpe3ZhciByPW4uZXEoaSk7ayYmKHRbMF09cC5jYWxsKHRoaXMsaSxyLmh0bWwoKSkpO290KHIsdCxmLG8pfSk7aWYoeSYmKGw9ZXUodCxuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSx3PWwuZmlyc3RDaGlsZCwxPT09bC5jaGlsZE5vZGVzLmxlbmd0aCYmKGw9dyksd3x8bykpe2Zvcih2PShhPWkubWFwKHMobCwic2NyaXB0IikseWUpKS5sZW5ndGg7Yzx5O2MrKyloPWwsYyE9PWQmJihoPWkuY2xvbmUoaCwhMCwhMCksdiYmaS5tZXJnZShhLHMoaCwic2NyaXB0IikpKSxmLmNhbGwobltjXSxoLGMpO2lmKHYpZm9yKGI9YVthLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LGkubWFwKGEscGUpLGM9MDtjPHY7YysrKWg9YVtjXSx1dS50ZXN0KGgudHlwZXx8IiIpJiYhci5hY2Nlc3MoaCwiZ2xvYmFsRXZhbCIpJiZpLmNvbnRhaW5zKGIsaCkmJihoLnNyYyYmIm1vZHVsZSIhPT0oaC50eXBlfHwiIikudG9Mb3dlckNhc2UoKT9pLl9ldmFsVXJsJiZpLl9ldmFsVXJsKGguc3JjKTpocihoLnRleHRDb250ZW50LnJlcGxhY2UodmUsIiIpLGIsaCkpfXJldHVybiBufWZ1bmN0aW9uIGx1KG4sdCxyKXtmb3IodmFyIHUsZT10P2kuZmlsdGVyKHQsbik6bixmPTA7bnVsbCE9KHU9ZVtmXSk7ZisrKXJ8fDEhPT11Lm5vZGVUeXBlfHxpLmNsZWFuRGF0YShzKHUpKSx1LnBhcmVudE5vZGUmJihyJiZpLmNvbnRhaW5zKHUub3duZXJEb2N1bWVudCx1KSYmdmkocyh1LCJzY3JpcHQiKSksdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpKTtyZXR1cm4gbn1mdW5jdGlvbiB5dChuLHQscil7dmFyIG8scyxoLGYsdT1uLnN0eWxlO3JldHVybihyPXJ8fHVpKG4pKSYmKCIiIT09KGY9ci5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxyW3RdKXx8aS5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbil8fChmPWkuc3R5bGUobix0KSksIWUucGl4ZWxCb3hTdHlsZXMoKSYmcGkudGVzdChmKSYmYmUudGVzdCh0KSYmKG89dS53aWR0aCxzPXUubWluV2lkdGgsaD11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWYsZj1yLndpZHRoLHUud2lkdGg9byx1Lm1pbldpZHRoPXMsdS5tYXhXaWR0aD1oKSksdm9pZCAwIT09Zj9mKyIiOmZ9ZnVuY3Rpb24gYXUobix0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIW4oKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fWZ1bmN0aW9uIGdlKG4pe2lmKG4gaW4gd3UpcmV0dXJuIG47Zm9yKHZhciBpPW5bMF0udG9VcHBlckNhc2UoKStuLnNsaWNlKDEpLHQ9cHUubGVuZ3RoO3QtLTspaWYoKG49cHVbdF0raSlpbiB3dSlyZXR1cm4gbn1mdW5jdGlvbiBidShuKXt2YXIgdD1pLmNzc1Byb3BzW25dO3JldHVybiB0fHwodD1pLmNzc1Byb3BzW25dPWdlKG4pfHxuKSx0fWZ1bmN0aW9uIGt1KG4sdCxpKXt2YXIgcj12dC5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0oaXx8MCkpKyhyWzNdfHwicHgiKTp0fWZ1bmN0aW9uIHdpKG4sdCxyLHUsZixlKXt2YXIgbz0id2lkdGgiPT09dD8xOjAsaD0wLHM9MDtpZihyPT09KHU/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO288NDtvKz0yKSJtYXJnaW4iPT09ciYmKHMrPWkuY3NzKG4scit3W29dLCEwLGYpKSx1PygiY29udGVudCI9PT1yJiYocy09aS5jc3MobiwicGFkZGluZyIrd1tvXSwhMCxmKSksIm1hcmdpbiIhPT1yJiYocy09aS5jc3MobiwiYm9yZGVyIit3W29dKyJXaWR0aCIsITAsZikpKToocys9aS5jc3MobiwicGFkZGluZyIrd1tvXSwhMCxmKSwicGFkZGluZyIhPT1yP3MrPWkuY3NzKG4sImJvcmRlciIrd1tvXSsiV2lkdGgiLCEwLGYpOmgrPWkuY3NzKG4sImJvcmRlciIrd1tvXSsiV2lkdGgiLCEwLGYpKTtyZXR1cm4hdSYmZT49MCYmKHMrPU1hdGgubWF4KDAsTWF0aC5jZWlsKG5bIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLWUtcy1oLS41KSkpLHN9ZnVuY3Rpb24gZHUobix0LHIpe3ZhciBmPXVpKG4pLHU9eXQobix0LGYpLHM9ImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxvPXM7aWYocGkudGVzdCh1KSl7aWYoIXIpcmV0dXJuIHU7dT0iYXV0byJ9cmV0dXJuIG89byYmKGUuYm94U2l6aW5nUmVsaWFibGUoKXx8dT09PW4uc3R5bGVbdF0pLCgiYXV0byI9PT11fHwhcGFyc2VGbG9hdCh1KSYmImlubGluZSI9PT1pLmNzcyhuLCJkaXNwbGF5IiwhMSxmKSkmJih1PW5bIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLG89ITApLCh1PXBhcnNlRmxvYXQodSl8fDApK3dpKG4sdCxyfHwocz8iYm9yZGVyIjoiY29udGVudCIpLG8sZix1KSsicHgifWZ1bmN0aW9uIGgobix0LGkscix1KXtyZXR1cm4gbmV3IGgucHJvdG90eXBlLmluaXQobix0LGkscix1KX1mdW5jdGlvbiBiaSgpe2ZpJiYoITE9PT1mLmhpZGRlbiYmbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYmkpOm4uc2V0VGltZW91dChiaSxpLmZ4LmludGVydmFsKSxpLmZ4LnRpY2soKSl9ZnVuY3Rpb24gdGYoKXtyZXR1cm4gbi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c3Q9dm9pZCAwfSksc3Q9RGF0ZS5ub3coKX1mdW5jdGlvbiBlaShuLHQpe3ZhciB1LHI9MCxpPXtoZWlnaHQ6bn07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyh1PXdbcl0pXT1pWyJwYWRkaW5nIit1XT1uO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9biksaX1mdW5jdGlvbiByZihuLHQsaSl7Zm9yKHZhciB1LGY9KGEudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoYS50d2VlbmVyc1siKiJdKSxyPTAsZT1mLmxlbmd0aDtyPGU7cisrKWlmKHU9ZltyXS5jYWxsKGksdCxuKSlyZXR1cm4gdX1mdW5jdGlvbiBubyhuLHQsdSl7dmFyIGYseSx3LGMsYixoLG8sbCxrPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQsdj10aGlzLHA9e30scz1uLnN0eWxlLGE9bi5ub2RlVHlwZSYmdGkobiksZT1yLmdldChuLCJmeHNob3ciKTt1LnF1ZXVlfHwobnVsbD09KGM9aS5fcXVldWVIb29rcyhuLCJmeCIpKS51bnF1ZXVlZCYmKGMudW5xdWV1ZWQ9MCxiPWMuZW1wdHkuZmlyZSxjLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtjLnVucXVldWVkfHxiKCl9KSxjLnVucXVldWVkKyssdi5hbHdheXMoZnVuY3Rpb24oKXt2LmFsd2F5cyhmdW5jdGlvbigpe2MudW5xdWV1ZWQtLTtpLnF1ZXVlKG4sImZ4IikubGVuZ3RofHxjLmVtcHR5LmZpcmUoKX0pfSkpO2ZvcihmIGluIHQpaWYoeT10W2ZdLGd1LnRlc3QoeSkpe2lmKGRlbGV0ZSB0W2ZdLHc9d3x8InRvZ2dsZSI9PT15LHk9PT0oYT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09eXx8IWV8fHZvaWQgMD09PWVbZl0pY29udGludWU7YT0hMH1wW2ZdPWUmJmVbZl18fGkuc3R5bGUobixmKX1pZigoaD0haS5pc0VtcHR5T2JqZWN0KHQpKXx8IWkuaXNFbXB0eU9iamVjdChwKSl7ayYmMT09PW4ubm9kZVR5cGUmJih1Lm92ZXJmbG93PVtzLm92ZXJmbG93LHMub3ZlcmZsb3dYLHMub3ZlcmZsb3dZXSxudWxsPT0obz1lJiZlLmRpc3BsYXkpJiYobz1yLmdldChuLCJkaXNwbGF5IikpLCJub25lIj09PShsPWkuY3NzKG4sImRpc3BsYXkiKSkmJihvP2w9bzooZnQoW25dLCEwKSxvPW4uc3R5bGUuZGlzcGxheXx8byxsPWkuY3NzKG4sImRpc3BsYXkiKSxmdChbbl0pKSksKCJpbmxpbmUiPT09bHx8ImlubGluZS1ibG9jayI9PT1sJiZudWxsIT1vKSYmIm5vbmUiPT09aS5jc3MobiwiZmxvYXQiKSYmKGh8fCh2LmRvbmUoZnVuY3Rpb24oKXtzLmRpc3BsYXk9b30pLG51bGw9PW8mJihsPXMuZGlzcGxheSxvPSJub25lIj09PWw/IiI6bCkpLHMuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpO3Uub3ZlcmZsb3cmJihzLm92ZXJmbG93PSJoaWRkZW4iLHYuYWx3YXlzKGZ1bmN0aW9uKCl7cy5vdmVyZmxvdz11Lm92ZXJmbG93WzBdO3Mub3ZlcmZsb3dYPXUub3ZlcmZsb3dbMV07cy5vdmVyZmxvd1k9dS5vdmVyZmxvd1syXX0pKTtoPSExO2ZvcihmIGluIHApaHx8KGU/ImhpZGRlbiJpbiBlJiYoYT1lLmhpZGRlbik6ZT1yLmFjY2VzcyhuLCJmeHNob3ciLHtkaXNwbGF5Om99KSx3JiYoZS5oaWRkZW49IWEpLGEmJmZ0KFtuXSwhMCksdi5kb25lKGZ1bmN0aW9uKCl7YXx8ZnQoW25dKTtyLnJlbW92ZShuLCJmeHNob3ciKTtmb3IoZiBpbiBwKWkuc3R5bGUobixmLHBbZl0pfSkpLGg9cmYoYT9lW2ZdOjAsZix2KSxmIGluIGV8fChlW2ZdPWguc3RhcnQsYSYmKGguZW5kPWguc3RhcnQsaC5zdGFydD0wKSl9fWZ1bmN0aW9uIHRvKG4sdCl7dmFyIHIsZixlLHUsbztmb3IociBpbiBuKWlmKGY9eShyKSxlPXRbZl0sdT1uW3JdLEFycmF5LmlzQXJyYXkodSkmJihlPXVbMV0sdT1uW3JdPXVbMF0pLHIhPT1mJiYobltmXT11LGRlbGV0ZSBuW3JdKSwobz1pLmNzc0hvb2tzW2ZdKSYmImV4cGFuZCJpbiBvKXt1PW8uZXhwYW5kKHUpO2RlbGV0ZSBuW2ZdO2ZvcihyIGluIHUpciBpbiBufHwobltyXT11W3JdLHRbcl09ZSl9ZWxzZSB0W2ZdPWV9ZnVuY3Rpb24gYShuLHQscil7dmFyIG8scyxoPTAsdj1hLnByZWZpbHRlcnMubGVuZ3RoLGU9aS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBsLmVsZW19KSxsPWZ1bmN0aW9uKCl7aWYocylyZXR1cm4hMTtmb3IodmFyIG89c3R8fHRmKCksdD1NYXRoLm1heCgwLGYuc3RhcnRUaW1lK2YuZHVyYXRpb24tbyksaT0xLSh0L2YuZHVyYXRpb258fDApLHI9MCx1PWYudHdlZW5zLmxlbmd0aDtyPHU7cisrKWYudHdlZW5zW3JdLnJ1bihpKTtyZXR1cm4gZS5ub3RpZnlXaXRoKG4sW2YsaSx0XSksaTwxJiZ1P3Q6KHV8fGUubm90aWZ5V2l0aChuLFtmLDEsMF0pLGUucmVzb2x2ZVdpdGgobixbZl0pLCExKX0sZj1lLnByb21pc2Uoe2VsZW06bixwcm9wczppLmV4dGVuZCh7fSx0KSxvcHRzOmkuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzppLmVhc2luZy5fZGVmYXVsdH0sciksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOnIsc3RhcnRUaW1lOnN0fHx0ZigpLGR1cmF0aW9uOnIuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKHQscil7dmFyIHU9aS5Ud2VlbihuLGYub3B0cyx0LHIsZi5vcHRzLnNwZWNpYWxFYXNpbmdbdF18fGYub3B0cy5lYXNpbmcpO3JldHVybiBmLnR3ZWVucy5wdXNoKHUpLHV9LHN0b3A6ZnVuY3Rpb24odCl7dmFyIGk9MCxyPXQ/Zi50d2VlbnMubGVuZ3RoOjA7aWYocylyZXR1cm4gdGhpcztmb3Iocz0hMDtpPHI7aSsrKWYudHdlZW5zW2ldLnJ1bigxKTtyZXR1cm4gdD8oZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmLHRdKSk6ZS5yZWplY3RXaXRoKG4sW2YsdF0pLHRoaXN9fSksYz1mLnByb3BzO2Zvcih0byhjLGYub3B0cy5zcGVjaWFsRWFzaW5nKTtoPHY7aCsrKWlmKG89YS5wcmVmaWx0ZXJzW2hdLmNhbGwoZixuLGMsZi5vcHRzKSlyZXR1cm4gdShvLnN0b3ApJiYoaS5fcXVldWVIb29rcyhmLmVsZW0sZi5vcHRzLnF1ZXVlKS5zdG9wPW8uc3RvcC5iaW5kKG8pKSxvO3JldHVybiBpLm1hcChjLHJmLGYpLHUoZi5vcHRzLnN0YXJ0KSYmZi5vcHRzLnN0YXJ0LmNhbGwobixmKSxmLnByb2dyZXNzKGYub3B0cy5wcm9ncmVzcykuZG9uZShmLm9wdHMuZG9uZSxmLm9wdHMuY29tcGxldGUpLmZhaWwoZi5vcHRzLmZhaWwpLmFsd2F5cyhmLm9wdHMuYWx3YXlzKSxpLmZ4LnRpbWVyKGkuZXh0ZW5kKGwse2VsZW06bixhbmltOmYscXVldWU6Zi5vcHRzLnF1ZXVlfSkpLGZ9ZnVuY3Rpb24gZyhuKXtyZXR1cm4obi5tYXRjaChsKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBudChuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiBraShuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uOiJzdHJpbmciPT10eXBlb2Ygbj9uLm1hdGNoKGwpfHxbXTpbXX1mdW5jdGlvbiB0cihuLHQscix1KXt2YXIgZjtpZihBcnJheS5pc0FycmF5KHQpKWkuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7cnx8aW8udGVzdChuKT91KG4saSk6dHIobisiWyIrKCJvYmplY3QiPT10eXBlb2YgaSYmbnVsbCE9aT90OiIiKSsiXSIsaSxyLHUpfSk7ZWxzZSBpZihyfHwib2JqZWN0IiE9PWl0KHQpKXUobix0KTtlbHNlIGZvcihmIGluIHQpdHIobisiWyIrZisiXSIsdFtmXSxyLHUpfWZ1bmN0aW9uIGFmKG4pe3JldHVybiBmdW5jdGlvbih0LGkpeyJzdHJpbmciIT10eXBlb2YgdCYmKGk9dCx0PSIqIik7dmFyIHIsZj0wLGU9dC50b0xvd2VyQ2FzZSgpLm1hdGNoKGwpfHxbXTtpZih1KGkpKXdoaWxlKHI9ZVtmKytdKSIrIj09PXJbMF0/KHI9ci5zbGljZSgxKXx8IioiLChuW3JdPW5bcl18fFtdKS51bnNoaWZ0KGkpKToobltyXT1uW3JdfHxbXSkucHVzaChpKX19ZnVuY3Rpb24gdmYobix0LHIsdSl7ZnVuY3Rpb24gZShzKXt2YXIgaDtyZXR1cm4gZltzXT0hMCxpLmVhY2gobltzXXx8W10sZnVuY3Rpb24obixpKXt2YXIgcz1pKHQscix1KTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHN8fG98fGZbc10/bz8hKGg9cyk6dm9pZCAwOih0LmRhdGFUeXBlcy51bnNoaWZ0KHMpLGUocyksITEpfSksaH12YXIgZj17fSxvPW49PT1pcjtyZXR1cm4gZSh0LmRhdGFUeXBlc1swXSl8fCFmWyIqIl0mJmUoIioiKX1mdW5jdGlvbiB1cihuLHQpe3ZhciByLHUsZj1pLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKHIgaW4gdCl2b2lkIDAhPT10W3JdJiYoKGZbcl0/bjp1fHwodT17fSkpW3JdPXRbcl0pO3JldHVybiB1JiZpLmV4dGVuZCghMCxuLHUpLG59ZnVuY3Rpb24gbG8obix0LGkpe2Zvcih2YXIgZSx1LGYsbyxzPW4uY29udGVudHMscj1uLmRhdGFUeXBlczsiKiI9PT1yWzBdOylyLnNoaWZ0KCksdm9pZCAwPT09ZSYmKGU9bi5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKGUpZm9yKHUgaW4gcylpZihzW3VdJiZzW3VdLnRlc3QoZSkpe3IudW5zaGlmdCh1KTticmVha31pZihyWzBdaW4gaSlmPXJbMF07ZWxzZXtmb3IodSBpbiBpKXtpZighclswXXx8bi5jb252ZXJ0ZXJzW3UrIiAiK3JbMF1dKXtmPXU7YnJlYWt9b3x8KG89dSl9Zj1mfHxvfWlmKGYpcmV0dXJuIGYhPT1yWzBdJiZyLnVuc2hpZnQoZiksaVtmXX1mdW5jdGlvbiBhbyhuLHQsaSxyKXt2YXIgaCx1LGYscyxlLG89e30sYz1uLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGYgaW4gbi5jb252ZXJ0ZXJzKW9bZi50b0xvd2VyQ2FzZSgpXT1uLmNvbnZlcnRlcnNbZl07Zm9yKHU9Yy5zaGlmdCgpO3U7KWlmKG4ucmVzcG9uc2VGaWVsZHNbdV0mJihpW24ucmVzcG9uc2VGaWVsZHNbdV1dPXQpLCFlJiZyJiZuLmRhdGFGaWx0ZXImJih0PW4uZGF0YUZpbHRlcih0LG4uZGF0YVR5cGUpKSxlPXUsdT1jLnNoaWZ0KCkpaWYoIioiPT09dSl1PWU7ZWxzZSBpZigiKiIhPT1lJiZlIT09dSl7aWYoIShmPW9bZSsiICIrdV18fG9bIiogIit1XSkpZm9yKGggaW4gbylpZigocz1oLnNwbGl0KCIgIikpWzFdPT09dSYmKGY9b1tlKyIgIitzWzBdXXx8b1siKiAiK3NbMF1dKSl7ITA9PT1mP2Y9b1toXTohMCE9PW9baF0mJih1PXNbMF0sYy51bnNoaWZ0KHNbMV0pKTticmVha31pZighMCE9PWYpaWYoZiYmbi50aHJvd3MpdD1mKHQpO2Vsc2UgdHJ5e3Q9Zih0KX1jYXRjaChuKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpmP246Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2UrIiB0byAiK3V9fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6dH19dmFyIGs9W10sZj1uLmRvY3VtZW50LGJmPU9iamVjdC5nZXRQcm90b3R5cGVPZixkPWsuc2xpY2UsZXI9ay5jb25jYXQsc2k9ay5wdXNoLHd0PWsuaW5kZXhPZixidD17fSxvcj1idC50b1N0cmluZyxrdD1idC5oYXNPd25Qcm9wZXJ0eSxzcj1rdC50b1N0cmluZyxrZj1zci5jYWxsKE9iamVjdCksZT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYibnVtYmVyIiE9dHlwZW9mIG4ubm9kZVR5cGV9LHR0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZuPT09bi53aW5kb3d9LGRmPXt0eXBlOiEwLHNyYzohMCxub01vZHVsZTohMH0saT1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgaS5mbi5pbml0KG4sdCl9LGdmPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxiLGNpLGFyLHZyLHlyLHByLGwsa3IsZ3QsbHQsYWksZnUsc3QsZmksZ3UsbmYsdWYsaHQsZmYsZWYsb2YsZGksZ2kseWYsY3QsZnIsb2kscGYsd2Y7aS5mbj1pLnByb3RvdHlwZT17anF1ZXJ5OiIzLjMuMSIsY29uc3RydWN0b3I6aSxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP2QuY2FsbCh0aGlzKTpuPDA/dGhpc1tuK3RoaXMubGVuZ3RoXTp0aGlzW25dfSxwdXNoU3RhY2s6ZnVuY3Rpb24obil7dmFyIHQ9aS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksbik7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24obil7cmV0dXJuIGkuZWFjaCh0aGlzLG4pfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkubWFwKHRoaXMsZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5jYWxsKHQsaSx0KX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLmxlbmd0aCx0PStuKyhuPDA/aTowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sodD49MCYmdDxpP1t0aGlzW3RdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpzaSxzb3J0Omsuc29ydCxzcGxpY2U6ay5zcGxpY2V9O2kuZXh0ZW5kPWkuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIG8sZSx0LHIscyxoLG49YXJndW1lbnRzWzBdfHx7fSxmPTEsbD1hcmd1bWVudHMubGVuZ3RoLGM9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIG4mJihjPW4sbj1hcmd1bWVudHNbZl18fHt9LGYrKyksIm9iamVjdCI9PXR5cGVvZiBufHx1KG4pfHwobj17fSksZj09PWwmJihuPXRoaXMsZi0tKTtmPGw7ZisrKWlmKG51bGwhPShvPWFyZ3VtZW50c1tmXSkpZm9yKGUgaW4gbyl0PW5bZV0sbiE9PShyPW9bZV0pJiYoYyYmciYmKGkuaXNQbGFpbk9iamVjdChyKXx8KHM9QXJyYXkuaXNBcnJheShyKSkpPyhzPyhzPSExLGg9dCYmQXJyYXkuaXNBcnJheSh0KT90OltdKTpoPXQmJmkuaXNQbGFpbk9iamVjdCh0KT90Ont9LG5bZV09aS5leHRlbmQoYyxoLHIpKTp2b2lkIDAhPT1yJiYobltlXT1yKSk7cmV0dXJuIG59O2kuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKygiMy4zLjEiK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKG4pO30sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihuKXt2YXIgdCxpO3JldHVybiEoIW58fCJbb2JqZWN0IE9iamVjdF0iIT09b3IuY2FsbChuKSkmJighKHQ9YmYobikpfHwiZnVuY3Rpb24iPT10eXBlb2YoaT1rdC5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZzci5jYWxsKGkpPT09a2YpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKG4pe2hyKG4pfSxlYWNoOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT0wO2lmKGhpKG4pKXtmb3Iocj1uLmxlbmd0aDtpPHI7aSsrKWlmKCExPT09dC5jYWxsKG5baV0saSxuW2ldKSlicmVha31lbHNlIGZvcihpIGluIG4paWYoITE9PT10LmNhbGwobltpXSxpLG5baV0pKWJyZWFrO3JldHVybiBufSx0cmltOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOihuKyIiKS5yZXBsYWNlKGdmLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dHx8W107cmV0dXJuIG51bGwhPW4mJihoaShPYmplY3QobikpP2kubWVyZ2Uociwic3RyaW5nIj09dHlwZW9mIG4/W25dOm4pOnNpLmNhbGwocixuKSkscn0saW5BcnJheTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIG51bGw9PXQ/LTE6d3QuY2FsbCh0LG4saSl9LG1lcmdlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciB1PSt0Lmxlbmd0aCxpPTAscj1uLmxlbmd0aDtpPHU7aSsrKW5bcisrXT10W2ldO3JldHVybiBuLmxlbmd0aD1yLG59LGdyZXA6ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgZix1PVtdLHI9MCxlPW4ubGVuZ3RoLG89IWk7cjxlO3IrKykoZj0hdChuW3JdLHIpKSE9PW8mJnUucHVzaChuW3JdKTtyZXR1cm4gdX0sbWFwOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZSx1LHI9MCxmPVtdO2lmKGhpKG4pKWZvcihlPW4ubGVuZ3RoO3I8ZTtyKyspbnVsbCE9KHU9dChuW3JdLHIsaSkpJiZmLnB1c2godSk7ZWxzZSBmb3IociBpbiBuKW51bGwhPSh1PXQobltyXSxyLGkpKSYmZi5wdXNoKHUpO3JldHVybiBlci5hcHBseShbXSxmKX0sZ3VpZDoxLHN1cHBvcnQ6ZX0pOyJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihpLmZuW1N5bWJvbC5pdGVyYXRvcl09a1tTeW1ib2wuaXRlcmF0b3JdKTtpLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7YnRbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7Yj1mdW5jdGlvbihuKXtmdW5jdGlvbiB1KG4sdCxyLHUpe3ZhciBzLHAsbCxhLHcsZCxnLHk9dCYmdC5vd25lckRvY3VtZW50LHY9dD90Lm5vZGVUeXBlOjk7aWYocj1yfHxbXSwic3RyaW5nIiE9dHlwZW9mIG58fCFufHwxIT09diYmOSE9PXYmJjExIT09dilyZXR1cm4gcjtpZighdSYmKCh0P3Qub3duZXJEb2N1bWVudHx8dDpjKSE9PWkmJmIodCksdD10fHxpLGgpKXtpZigxMSE9PXYmJih3PWNyLmV4ZWMobikpKWlmKHM9d1sxXSl7aWYoOT09PXYpe2lmKCEobD10LmdldEVsZW1lbnRCeUlkKHMpKSlyZXR1cm4gcjtpZihsLmlkPT09cylyZXR1cm4gci5wdXNoKGwpLHJ9ZWxzZSBpZih5JiYobD15LmdldEVsZW1lbnRCeUlkKHMpKSYmZXQodCxsKSYmbC5pZD09PXMpcmV0dXJuIHIucHVzaChsKSxyfWVsc2V7aWYod1syXSlyZXR1cm4gay5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobikpLHI7aWYoKHM9d1szXSkmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHMpKSxyfWlmKGUucXNhJiYhbHRbbisiICJdJiYoIW98fCFvLnRlc3QobikpKXtpZigxIT09dil5PXQsZz1uO2Vsc2UgaWYoIm9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2ZvcigoYT10LmdldEF0dHJpYnV0ZSgiaWQiKSk/YT1hLnJlcGxhY2UodmkseWkpOnQuc2V0QXR0cmlidXRlKCJpZCIsYT1mKSxwPShkPWZ0KG4pKS5sZW5ndGg7cC0tOylkW3BdPSIjIithKyIgIit5dChkW3BdKTtnPWQuam9pbigiLCIpO3k9bmkudGVzdChuKSYmcmkodC5wYXJlbnROb2RlKXx8dH1pZihnKXRyeXtyZXR1cm4gay5hcHBseShyLHkucXVlcnlTZWxlY3RvckFsbChnKSkscn1jYXRjaChuKXt9ZmluYWxseXthPT09ZiYmdC5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gc2kobi5yZXBsYWNlKGF0LCIkMSIpLHQscix1KX1mdW5jdGlvbiB0aSgpe2Z1bmN0aW9uIG4ocix1KXtyZXR1cm4gaS5wdXNoKHIrIiAiKT50LmNhY2hlTGVuZ3RoJiZkZWxldGUgbltpLnNoaWZ0KCldLG5bcisiICJdPXV9dmFyIGk9W107cmV0dXJuIG59ZnVuY3Rpb24gbChuKXtyZXR1cm4gbltmXT0hMCxufWZ1bmN0aW9uIGEobil7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIW4odCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt0PW51bGx9fWZ1bmN0aW9uIGlpKG4saSl7Zm9yKHZhciByPW4uc3BsaXQoInwiKSx1PXIubGVuZ3RoO3UtLTspdC5hdHRySGFuZGxlW3JbdV1dPWl9ZnVuY3Rpb24gd2kobix0KXt2YXIgaT10JiZuLHI9aSYmMT09PW4ubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZuLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihpKXdoaWxlKGk9aS5uZXh0U2libGluZylpZihpPT09dClyZXR1cm4tMTtyZXR1cm4gbj8xOi0xfWZ1bmN0aW9uIGFyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iaW5wdXQiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1ufX1mdW5jdGlvbiB2cihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09aXx8ImJ1dHRvbiI9PT1pKSYmdC50eXBlPT09bn19ZnVuY3Rpb24gYmkobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJmb3JtImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/ImxhYmVsImluIHQ/ImxhYmVsImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1uOnQuZGlzYWJsZWQ9PT1uOnQuaXNEaXNhYmxlZD09PW58fHQuaXNEaXNhYmxlZCE9PSFuJiZscih0KT09PW46dC5kaXNhYmxlZD09PW46ImxhYmVsImluIHQmJnQuZGlzYWJsZWQ9PT1ufX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsKGZ1bmN0aW9uKGkscil7Zm9yKHZhciB1LGY9bihbXSxpLmxlbmd0aCx0KSxlPWYubGVuZ3RoO2UtLTspaVt1PWZbZV1dJiYoaVt1XT0hKHJbdV09aVt1XSkpfSl9KX1mdW5jdGlvbiByaShuKXtyZXR1cm4gbiYmInVuZGVmaW5lZCIhPXR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZufWZ1bmN0aW9uIGtpKCl7fWZ1bmN0aW9uIHl0KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gcHQobix0LGkpe3ZhciByPXQuZGlyLHU9dC5uZXh0LGU9dXx8cixvPWkmJiJwYXJlbnROb2RlIj09PWUscz1kaSsrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsaSx1KXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIG4odCxpLHUpO3JldHVybiExfTpmdW5jdGlvbih0LGksaCl7dmFyIGMsbCxhLHk9W3Ysc107aWYoaCl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8bykmJm4odCxpLGgpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKWlmKGE9dFtmXXx8KHRbZl09e30pLGw9YVt0LnVuaXF1ZUlEXXx8KGFbdC51bmlxdWVJRF09e30pLHUmJnU9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGM9bFtlXSkmJmNbMF09PT12JiZjWzFdPT09cylyZXR1cm4geVsyXT1jWzJdO2lmKGxbZV09eSx5WzJdPW4odCxpLGgpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1aShuKXtyZXR1cm4gbi5sZW5ndGg+MT9mdW5jdGlvbih0LGkscil7Zm9yKHZhciB1PW4ubGVuZ3RoO3UtLTspaWYoIW5bdV0odCxpLHIpKXJldHVybiExO3JldHVybiEwfTpuWzBdfWZ1bmN0aW9uIHlyKG4sdCxpKXtmb3IodmFyIHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdShuLHRbcl0saSk7cmV0dXJuIGl9ZnVuY3Rpb24gd3Qobix0LGkscix1KXtmb3IodmFyIGUsbz1bXSxmPTAscz1uLmxlbmd0aCxoPW51bGwhPXQ7ZjxzO2YrKykoZT1uW2ZdKSYmKGkmJiFpKGUscix1KXx8KG8ucHVzaChlKSxoJiZ0LnB1c2goZikpKTtyZXR1cm4gb31mdW5jdGlvbiBmaShuLHQsaSxyLHUsZSl7cmV0dXJuIHImJiFyW2ZdJiYocj1maShyKSksdSYmIXVbZl0mJih1PWZpKHUsZSkpLGwoZnVuY3Rpb24oZixlLG8scyl7dmFyIGwsYyxhLHA9W10seT1bXSx3PWUubGVuZ3RoLGI9Znx8eXIodHx8IioiLG8ubm9kZVR5cGU/W29dOm8sW10pLHY9IW58fCFmJiZ0P2I6d3QoYixwLG4sbyxzKSxoPWk/dXx8KGY/bjp3fHxyKT9bXTplOnY7aWYoaSYmaSh2LGgsbyxzKSxyKWZvcihsPXd0KGgseSkscihsLFtdLG8scyksYz1sLmxlbmd0aDtjLS07KShhPWxbY10pJiYoaFt5W2NdXT0hKHZbeVtjXV09YSkpO2lmKGYpe2lmKHV8fG4pe2lmKHUpe2ZvcihsPVtdLGM9aC5sZW5ndGg7Yy0tOykoYT1oW2NdKSYmbC5wdXNoKHZbY109YSk7dShudWxsLGg9W10sbCxzKX1mb3IoYz1oLmxlbmd0aDtjLS07KShhPWhbY10pJiYobD11P250KGYsYSk6cFtjXSk+LTEmJihmW2xdPSEoZVtsXT1hKSl9fWVsc2UgaD13dChoPT09ZT9oLnNwbGljZSh3LGgubGVuZ3RoKTpoKSx1P3UobnVsbCxlLGgscyk6ay5hcHBseShlLGgpfSl9ZnVuY3Rpb24gZWkobil7Zm9yKHZhciBvLHUscixzPW4ubGVuZ3RoLGg9dC5yZWxhdGl2ZVtuWzBdLnR5cGVdLGM9aHx8dC5yZWxhdGl2ZVsiICJdLGk9aD8xOjAsbD1wdChmdW5jdGlvbihuKXtyZXR1cm4gbj09PW99LGMsITApLGE9cHQoZnVuY3Rpb24obil7cmV0dXJuIG50KG8sbik+LTF9LGMsITApLGU9W2Z1bmN0aW9uKG4sdCxpKXt2YXIgcj0haCYmKGl8fHQhPT1odCl8fCgobz10KS5ub2RlVHlwZT9sKG4sdCxpKTphKG4sdCxpKSk7cmV0dXJuIG89bnVsbCxyfV07aTxzO2krKylpZih1PXQucmVsYXRpdmVbbltpXS50eXBlXSllPVtwdCh1aShlKSx1KV07ZWxzZXtpZigodT10LmZpbHRlcltuW2ldLnR5cGVdLmFwcGx5KG51bGwsbltpXS5tYXRjaGVzKSlbZl0pe2ZvcihyPSsraTtyPHM7cisrKWlmKHQucmVsYXRpdmVbbltyXS50eXBlXSlicmVhaztyZXR1cm4gZmkoaT4xJiZ1aShlKSxpPjEmJnl0KG4uc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09bltpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoYXQsIiQxIiksdSxpPHImJmVpKG4uc2xpY2UoaSxyKSkscjxzJiZlaShuPW4uc2xpY2UocikpLHI8cyYmeXQobikpfWUucHVzaCh1KX1yZXR1cm4gdWkoZSl9ZnVuY3Rpb24gcHIobixyKXt2YXIgZj1yLmxlbmd0aD4wLGU9bi5sZW5ndGg+MCxvPWZ1bmN0aW9uKG8scyxjLGwsYSl7dmFyIHksbnQsZCxnPTAscD0iMCIsdHQ9byYmW10sdz1bXSxpdD1odCxydD1vfHxlJiZ0LmZpbmQuVEFHKCIqIixhKSx1dD12Kz1udWxsPT1pdD8xOk1hdGgucmFuZG9tKCl8fC4xLGZ0PXJ0Lmxlbmd0aDtmb3IoYSYmKGh0PXM9PT1pfHxzfHxhKTtwIT09ZnQmJm51bGwhPSh5PXJ0W3BdKTtwKyspe2lmKGUmJnkpe2ZvcihudD0wLHN8fHkub3duZXJEb2N1bWVudD09PWl8fChiKHkpLGM9IWgpO2Q9bltudCsrXTspaWYoZCh5LHN8fGksYykpe2wucHVzaCh5KTticmVha31hJiYodj11dCl9ZiYmKCh5PSFkJiZ5KSYmZy0tLG8mJnR0LnB1c2goeSkpfWlmKGcrPXAsZiYmcCE9PWcpe2ZvcihudD0wO2Q9cltudCsrXTspZCh0dCx3LHMsYyk7aWYobyl7aWYoZz4wKXdoaWxlKHAtLSl0dFtwXXx8d1twXXx8KHdbcF09bnIuY2FsbChsKSk7dz13dCh3KX1rLmFwcGx5KGwsdyk7YSYmIW8mJncubGVuZ3RoPjAmJmcrci5sZW5ndGg+MSYmdS51bmlxdWVTb3J0KGwpfXJldHVybiBhJiYodj11dCxodD1pdCksdHR9O3JldHVybiBmP2wobyk6b312YXIgcnQsZSx0LHN0LG9pLGZ0LGJ0LHNpLGh0LHcsdXQsYixpLHMsaCxvLGQsY3QsZXQsZj0ic2l6emxlIisxKm5ldyBEYXRlLGM9bi5kb2N1bWVudCx2PTAsZGk9MCxoaT10aSgpLGNpPXRpKCksbHQ9dGkoKSxrdD1mdW5jdGlvbihuLHQpe3JldHVybiBuPT09dCYmKHV0PSEwKSwwfSxnaT17fS5oYXNPd25Qcm9wZXJ0eSxnPVtdLG5yPWcucG9wLHRyPWcucHVzaCxrPWcucHVzaCxsaT1nLnNsaWNlLG50PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKWlmKG5baV09PT10KXJldHVybiBpO3JldHVybi0xfSxkdD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHI9IltcXHgyMFxcdFxcclxcblxcZl0iLHR0PSIoPzpcXFxcLnxbXFx3LV18W15cMC1cXHhhMF0pKyIsYWk9IlxcWyIrcisiKigiK3R0KyIpKD86IityKyIqKFsqXiR8IX5dPz0pIityKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrdHQrIikpfCkiK3IrIipcXF0iLGd0PSI6KCIrdHQrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK2FpKyIpKil8LiopXFwpfCkiLGlyPW5ldyBSZWdFeHAocisiKyIsImciKSxhdD1uZXcgUmVnRXhwKCJeIityKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK3IrIiskIiwiZyIpLHJyPW5ldyBSZWdFeHAoIl4iK3IrIiosIityKyIqIiksdXI9bmV3IFJlZ0V4cCgiXiIrcisiKihbPit+XXwiK3IrIikiK3IrIioiKSxmcj1uZXcgUmVnRXhwKCI9IityKyIqKFteXFxdJ1wiXSo/KSIrcisiKlxcXSIsImciKSxlcj1uZXcgUmVnRXhwKGd0KSxvcj1uZXcgUmVnRXhwKCJeIit0dCsiJCIpLHZ0PXtJRDpuZXcgUmVnRXhwKCJeIygiK3R0KyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK3R0KyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIit0dCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK2FpKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrZ3QpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrcisiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrcisiKig/OihbKy1dfCkiK3IrIiooXFxkKyl8KSkiK3IrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2R0KyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrcisiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIityKyIqKCg/Oi1cXGQpP1xcZCopIityKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxzcj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGhyPS9eaFxkJC9pLG90PS9eW157XStce1xzKlxbbmF0aXZlIFx3Lyxjcj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLG5pPS9bK35dLyx5PW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrcisiP3woIityKyIpfC4pIiwiaWciKSxwPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPT1yfHxpP3Q6cjwwP1N0cmluZy5mcm9tQ2hhckNvZGUocis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShyPj4xMHw1NTI5NiwxMDIzJnJ8NTYzMjApfSx2aT0vKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZyx5aT1mdW5jdGlvbihuLHQpe3JldHVybiB0PyJcMCI9PT1uPyLvv70iOm4uc2xpY2UoMCwtMSkrIlxcIituLmNoYXJDb2RlQXQobi5sZW5ndGgtMSkudG9TdHJpbmcoMTYpKyIgIjoiXFwiK259LHBpPWZ1bmN0aW9uKCl7YigpfSxscj1wdChmdW5jdGlvbihuKXtyZXR1cm4hMD09PW4uZGlzYWJsZWQmJigiZm9ybSJpbiBufHwibGFiZWwiaW4gbil9LHtkaXI6InBhcmVudE5vZGUiLG5leHQ6ImxlZ2VuZCJ9KTt0cnl7ay5hcHBseShnPWxpLmNhbGwoYy5jaGlsZE5vZGVzKSxjLmNoaWxkTm9kZXMpO2dbYy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2gobil7az17YXBwbHk6Zy5sZW5ndGg/ZnVuY3Rpb24obix0KXt0ci5hcHBseShuLGxpLmNhbGwodCkpfTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1uLmxlbmd0aCxyPTA7bltpKytdPXRbcisrXTspO24ubGVuZ3RoPWktMX19fWU9dS5zdXBwb3J0PXt9O29pPXUuaXNYTUw9ZnVuY3Rpb24obil7dmFyIHQ9biYmKG4ub3duZXJEb2N1bWVudHx8bikuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhdCYmIkhUTUwiIT09dC5ub2RlTmFtZX07Yj11LnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciB2LHUsbD1uP24ub3duZXJEb2N1bWVudHx8bjpjO3JldHVybiBsIT09aSYmOT09PWwubm9kZVR5cGUmJmwuZG9jdW1lbnRFbGVtZW50PyhpPWwscz1pLmRvY3VtZW50RWxlbWVudCxoPSFvaShpKSxjIT09aSYmKHU9aS5kZWZhdWx0VmlldykmJnUudG9wIT09dSYmKHUuYWRkRXZlbnRMaXN0ZW5lcj91LmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIscGksITEpOnUuYXR0YWNoRXZlbnQmJnUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixwaSkpLGUuYXR0cmlidXRlcz1hKGZ1bmN0aW9uKG4pe3JldHVybiBuLmNsYXNzTmFtZT0iaSIsIW4uZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU9YShmdW5jdGlvbihuKXtyZXR1cm4gbi5hcHBlbmRDaGlsZChpLmNyZWF0ZUNvbW1lbnQoIiIpKSwhbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1vdC50ZXN0KGkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksZS5nZXRCeUlkPWEoZnVuY3Rpb24obil7cmV0dXJuIHMuYXBwZW5kQ2hpbGQobikuaWQ9ZiwhaS5nZXRFbGVtZW50c0J5TmFtZXx8IWkuZ2V0RWxlbWVudHNCeU5hbWUoZikubGVuZ3RofSksZS5nZXRCeUlkPyh0LmZpbHRlci5JRD1mdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LHQuZmluZC5JRD1mdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmaCl7dmFyIGk9dC5nZXRFbGVtZW50QnlJZChuKTtyZXR1cm4gaT9baV06W119fSk6KHQuZmlsdGVyLklEPWZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSh5LHApO3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0QXR0cmlidXRlTm9kZSYmbi5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBpJiZpLnZhbHVlPT09dH19LHQuZmluZC5JRD1mdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmaCl7dmFyIHIsdSxmLGk9dC5nZXRFbGVtZW50QnlJZChuKTtpZihpKXtpZigocj1pLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZyLnZhbHVlPT09bilyZXR1cm5baV07Zm9yKGY9dC5nZXRFbGVtZW50c0J5TmFtZShuKSx1PTA7aT1mW3UrK107KWlmKChyPWkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJnIudmFsdWU9PT1uKXJldHVybltpXX1yZXR1cm5bXX19KSx0LmZpbmQuVEFHPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24obix0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTplLnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwobik6dm9pZCAwfTpmdW5jdGlvbihuLHQpe3ZhciBpLHI9W10sZj0wLHU9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTtpZigiKiI9PT1uKXt3aGlsZShpPXVbZisrXSkxPT09aS5ub2RlVHlwZSYmci5wdXNoKGkpO3JldHVybiByfXJldHVybiB1fSx0LmZpbmQuQ0xBU1M9ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZoKXJldHVybiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobil9LGQ9W10sbz1bXSwoZS5xc2E9b3QudGVzdChpLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGEoZnVuY3Rpb24obil7cy5hcHBlbmRDaGlsZChuKS5pbm5lckhUTUw9IjxhIGlkPSciK2YrIic+PFwvYT48c2VsZWN0IGlkPSciK2YrIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjxcL29wdGlvbj48XC9zZWxlY3Q+IjtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZvLnB1c2goIlsqXiRdPSIrcisiKig/OicnfFwiXCIpIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKig/OnZhbHVlfCIrZHQrIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitmKyItXSIpLmxlbmd0aHx8by5wdXNoKCJ+PSIpO24ucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fG8ucHVzaCgiOmNoZWNrZWQiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitmKyIrKiIpLmxlbmd0aHx8by5wdXNoKCIuIy4rWyt+XSIpfSksYShmdW5jdGlvbihuKXtuLmlubmVySFRNTD0iPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjxcL2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjxcL3NlbGVjdD4iO3ZhciB0PWkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpO24uYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJm8ucHVzaCgibmFtZSIrcisiKlsqXiR8IX5dPz0iKTsyIT09bi5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmby5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpO3MuYXBwZW5kQ2hpbGQobikuZGlzYWJsZWQ9ITA7MiE9PW4ucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iik7by5wdXNoKCIsLio6Iil9KSksKGUubWF0Y2hlc1NlbGVjdG9yPW90LnRlc3QoY3Q9cy5tYXRjaGVzfHxzLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8cy5tb3pNYXRjaGVzU2VsZWN0b3J8fHMub01hdGNoZXNTZWxlY3Rvcnx8cy5tc01hdGNoZXNTZWxlY3RvcikpJiZhKGZ1bmN0aW9uKG4pe2UuZGlzY29ubmVjdGVkTWF0Y2g9Y3QuY2FsbChuLCIqIik7Y3QuY2FsbChuLCJbcyE9JyddOngiKTtkLnB1c2goIiE9IixndCl9KSxvPW8ubGVuZ3RoJiZuZXcgUmVnRXhwKG8uam9pbigifCIpKSxkPWQubGVuZ3RoJiZuZXcgUmVnRXhwKGQuam9pbigifCIpKSx2PW90LnRlc3Qocy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksZXQ9dnx8b3QudGVzdChzLmNvbnRhaW5zKT9mdW5jdGlvbihuLHQpe3ZhciByPTk9PT1uLm5vZGVUeXBlP24uZG9jdW1lbnRFbGVtZW50Om4saT10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIG49PT1pfHwhKCFpfHwxIT09aS5ub2RlVHlwZXx8IShyLmNvbnRhaW5zP3IuY29udGFpbnMoaSk6bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSkpfTpmdW5jdGlvbihuLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PW4pcmV0dXJuITA7cmV0dXJuITF9LGt0PXY/ZnVuY3Rpb24obix0KXtpZihuPT09dClyZXR1cm4gdXQ9ITAsMDt2YXIgcj0hbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gcnx8KDEmKHI9KG4ub3duZXJEb2N1bWVudHx8bik9PT0odC5vd25lckRvY3VtZW50fHx0KT9uLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhZS5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24obik9PT1yP249PT1pfHxuLm93bmVyRG9jdW1lbnQ9PT1jJiZldChjLG4pPy0xOnQ9PT1pfHx0Lm93bmVyRG9jdW1lbnQ9PT1jJiZldChjLHQpPzE6dz9udCh3LG4pLW50KHcsdCk6MDo0JnI/LTE6MSl9OmZ1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHIsdT0wLG89bi5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGY9W25dLGU9W3RdO2lmKCFvfHwhcylyZXR1cm4gbj09PWk/LTE6dD09PWk/MTpvPy0xOnM/MTp3P250KHcsbiktbnQodyx0KTowO2lmKG89PT1zKXJldHVybiB3aShuLHQpO2ZvcihyPW47cj1yLnBhcmVudE5vZGU7KWYudW5zaGlmdChyKTtmb3Iocj10O3I9ci5wYXJlbnROb2RlOyllLnVuc2hpZnQocik7d2hpbGUoZlt1XT09PWVbdV0pdSsrO3JldHVybiB1P3dpKGZbdV0sZVt1XSk6Zlt1XT09PWM/LTE6ZVt1XT09PWM/MTowfSxpKTppfTt1Lm1hdGNoZXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gdShuLG51bGwsbnVsbCx0KX07dS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24obix0KXtpZigobi5vd25lckRvY3VtZW50fHxuKSE9PWkmJmIobiksdD10LnJlcGxhY2UoZnIsIj0nJDEnXSIpLGUubWF0Y2hlc1NlbGVjdG9yJiZoJiYhbHRbdCsiICJdJiYoIWR8fCFkLnRlc3QodCkpJiYoIW98fCFvLnRlc3QodCkpKXRyeXt2YXIgcj1jdC5jYWxsKG4sdCk7aWYocnx8ZS5kaXNjb25uZWN0ZWRNYXRjaHx8bi5kb2N1bWVudCYmMTEhPT1uLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKG4pe31yZXR1cm4gdSh0LGksbnVsbCxbbl0pLmxlbmd0aD4wfTt1LmNvbnRhaW5zPWZ1bmN0aW9uKG4sdCl7cmV0dXJuKG4ub3duZXJEb2N1bWVudHx8bikhPT1pJiZiKG4pLGV0KG4sdCl9O3UuYXR0cj1mdW5jdGlvbihuLHIpeyhuLm93bmVyRG9jdW1lbnR8fG4pIT09aSYmYihuKTt2YXIgZj10LmF0dHJIYW5kbGVbci50b0xvd2VyQ2FzZSgpXSx1PWYmJmdpLmNhbGwodC5hdHRySGFuZGxlLHIudG9Mb3dlckNhc2UoKSk/ZihuLHIsIWgpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dT91OmUuYXR0cmlidXRlc3x8IWg/bi5nZXRBdHRyaWJ1dGUocik6KHU9bi5nZXRBdHRyaWJ1dGVOb2RlKHIpKSYmdS5zcGVjaWZpZWQ/dS52YWx1ZTpudWxsfTt1LmVzY2FwZT1mdW5jdGlvbihuKXtyZXR1cm4obisiIikucmVwbGFjZSh2aSx5aSl9O3UuZXJyb3I9ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK24pO307dS51bmlxdWVTb3J0PWZ1bmN0aW9uKG4pe3ZhciByLHU9W10sdD0wLGk9MDtpZih1dD0hZS5kZXRlY3REdXBsaWNhdGVzLHc9IWUuc29ydFN0YWJsZSYmbi5zbGljZSgwKSxuLnNvcnQoa3QpLHV0KXt3aGlsZShyPW5baSsrXSlyPT09bltpXSYmKHQ9dS5wdXNoKGkpKTt3aGlsZSh0LS0pbi5zcGxpY2UodVt0XSwxKX1yZXR1cm4gdz1udWxsLG59O3N0PXUuZ2V0VGV4dD1mdW5jdGlvbihuKXt2YXIgcixpPSIiLHU9MCx0PW4ubm9kZVR5cGU7aWYodCl7aWYoMT09PXR8fDk9PT10fHwxMT09PXQpe2lmKCJzdHJpbmciPT10eXBlb2Ygbi50ZXh0Q29udGVudClyZXR1cm4gbi50ZXh0Q29udGVudDtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaSs9c3Qobil9ZWxzZSBpZigzPT09dHx8ND09PXQpcmV0dXJuIG4ubm9kZVZhbHVlfWVsc2Ugd2hpbGUocj1uW3UrK10paSs9c3Qocik7cmV0dXJuIGl9Oyh0PXUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bCxtYXRjaDp2dCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKHkscCksblszXT0oblszXXx8bls0XXx8bls1XXx8IiIpLnJlcGxhY2UoeSxwKSwifj0iPT09blsyXSYmKG5bM109IiAiK25bM10rIiAiKSxuLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PW5bMV0uc2xpY2UoMCwzKT8oblszXXx8dS5lcnJvcihuWzBdKSxuWzRdPSsobls0XT9uWzVdKyhuWzZdfHwxKToyKigiZXZlbiI9PT1uWzNdfHwib2RkIj09PW5bM10pKSxuWzVdPSsobls3XStuWzhdfHwib2RkIj09PW5bM10pKTpuWzNdJiZ1LmVycm9yKG5bMF0pLG59LFBTRVVETzpmdW5jdGlvbihuKXt2YXIgaSx0PSFuWzZdJiZuWzJdO3JldHVybiB2dC5DSElMRC50ZXN0KG5bMF0pP251bGw6KG5bM10/blsyXT1uWzRdfHxuWzVdfHwiIjp0JiZlci50ZXN0KHQpJiYoaT1mdCh0LCEwKSkmJihpPXQuaW5kZXhPZigiKSIsdC5sZW5ndGgtaSktdC5sZW5ndGgpJiYoblswXT1uWzBdLnNsaWNlKDAsaSksblsyXT10LnNsaWNlKDAsaSkpLG4uc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZU5hbWUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihuKXt2YXIgdD1oaVtuKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrcisiKSIrbisiKCIrcisifCQpIikpJiZoaShuLGZ1bmN0aW9uKG4pe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBuLmNsYXNzTmFtZSYmbi5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBmPXUuYXR0cihyLG4pO3JldHVybiBudWxsPT1mPyIhPSI9PT10OiF0fHwoZis9IiIsIj0iPT09dD9mPT09aToiIT0iPT09dD9mIT09aToiXj0iPT09dD9pJiYwPT09Zi5pbmRleE9mKGkpOiIqPSI9PT10P2kmJmYuaW5kZXhPZihpKT4tMToiJD0iPT09dD9pJiZmLnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT10PygiICIrZi5yZXBsYWNlKGlyLCIgIikrIiAiKS5pbmRleE9mKGkpPi0xOiJ8PSI9PT10JiYoZj09PWl8fGYuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBzPSJudGgiIT09bi5zbGljZSgwLDMpLG89Imxhc3QiIT09bi5zbGljZSgtNCksZT0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PXU/ZnVuY3Rpb24obil7cmV0dXJuISFuLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsaSxoKXt2YXIgcCxkLHksYyxhLHcsYj1zIT09bz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGs9dC5wYXJlbnROb2RlLG50PWUmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPSFoJiYhZSxsPSExO2lmKGspe2lmKHMpe3doaWxlKGIpe2ZvcihjPXQ7Yz1jW2JdOylpZihlP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW50OjE9PT1jLm5vZGVUeXBlKXJldHVybiExO3c9Yj0ib25seSI9PT1uJiYhdyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih3PVtvP2suZmlyc3RDaGlsZDprLmxhc3RDaGlsZF0sbyYmZyl7Zm9yKGw9KGE9KHA9KGQ9KHk9KGM9aylbZl18fChjW2ZdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pJiZwWzJdLGM9YSYmay5jaGlsZE5vZGVzW2FdO2M9KythJiZjJiZjW2JdfHwobD1hPTApfHx3LnBvcCgpOylpZigxPT09Yy5ub2RlVHlwZSYmKytsJiZjPT09dCl7ZFtuXT1bdixhLGxdO2JyZWFrfX1lbHNlIGlmKGcmJihsPWE9KHA9KGQ9KHk9KGM9dClbZl18fChjW2ZdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pLCExPT09bCl3aGlsZShjPSsrYSYmYyYmY1tiXXx8KGw9YT0wKXx8dy5wb3AoKSlpZigoZT9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1udDoxPT09Yy5ub2RlVHlwZSkmJisrbCYmKGcmJigoZD0oeT1jW2ZdfHwoY1tmXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dPVt2LGxdKSxjPT09dCkpYnJlYWs7cmV0dXJuKGwtPXUpPT09cnx8bCVyPT0wJiZsL3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKG4saSl7dmFyIGUscj10LnBzZXVkb3Nbbl18fHQuc2V0RmlsdGVyc1tuLnRvTG93ZXJDYXNlKCldfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrbik7cmV0dXJuIHJbZl0/cihpKTpyLmxlbmd0aD4xPyhlPVtuLG4sIiIsaV0sdC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KG4udG9Mb3dlckNhc2UoKSk/bChmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSx1PXIobixpKSxmPXUubGVuZ3RoO2YtLTspbltlPW50KG4sdVtmXSldPSEodFtlXT11W2ZdKX0pOmZ1bmN0aW9uKG4pe3JldHVybiByKG4sMCxlKX0pOnJ9fSxwc2V1ZG9zOntub3Q6bChmdW5jdGlvbihuKXt2YXIgdD1bXSxyPVtdLGk9YnQobi5yZXBsYWNlKGF0LCIkMSIpKTtyZXR1cm4gaVtmXT9sKGZ1bmN0aW9uKG4sdCxyLHUpe2Zvcih2YXIgZSxvPWkobixudWxsLHUsW10pLGY9bi5sZW5ndGg7Zi0tOykoZT1vW2ZdKSYmKG5bZl09ISh0W2ZdPWUpKX0pOmZ1bmN0aW9uKG4sdSxmKXtyZXR1cm4gdFswXT1uLGkodCxudWxsLGYsciksdFswXT1udWxsLCFyLnBvcCgpfX0pLGhhczpsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdShuLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmwoZnVuY3Rpb24obil7cmV0dXJuIG49bi5yZXBsYWNlKHkscCksZnVuY3Rpb24odCl7cmV0dXJuKHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxzdCh0KSkuaW5kZXhPZihuKT4tMX19KSxsYW5nOmwoZnVuY3Rpb24obil7cmV0dXJuIG9yLnRlc3Qobnx8IiIpfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKHkscCkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXt2YXIgaTtkbyBpZihpPWg/dC5sYW5nOnQuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHx0LmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybihpPWkudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09aS5pbmRleE9mKG4rIi0iKTt3aGlsZSgodD10LnBhcmVudE5vZGUpJiYxPT09dC5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBpPW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gaSYmaS5zbGljZSgxKT09PXQuaWR9LHJvb3Q6ZnVuY3Rpb24obil7cmV0dXJuIG49PT1zfSxmb2N1czpmdW5jdGlvbihuKXtyZXR1cm4gbj09PWkuYWN0aXZlRWxlbWVudCYmKCFpLmhhc0ZvY3VzfHxpLmhhc0ZvY3VzKCkpJiYhIShuLnR5cGV8fG4uaHJlZnx8fm4udGFiSW5kZXgpfSxlbmFibGVkOmJpKCExKSxkaXNhYmxlZDpiaSghMCksY2hlY2tlZDpmdW5jdGlvbihuKXt2YXIgdD1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhbi5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhbi5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1uLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihuKXtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaWYobi5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24obil7cmV0dXJuIXQucHNldWRvcy5lbXB0eShuKX0saGVhZGVyOmZ1bmN0aW9uKG4pe3JldHVybiBoci50ZXN0KG4ubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gc3IudGVzdChuLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1uLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1uLnR5cGUmJihudWxsPT0odD1uLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6aXQoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Oml0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuW3QtMV19KSxlcTppdChmdW5jdGlvbihuLHQsaSl7cmV0dXJuW2k8MD9pK3Q6aV19KSxldmVuOml0KGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTA7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksb2RkOml0KGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTE7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksbHQ6aXQoZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgcj1pPDA/aSt0Omk7LS1yPj0wOyluLnB1c2gocik7cmV0dXJuIG59KSxndDppdChmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6aTsrK3I8dDspbi5wdXNoKHIpO3JldHVybiBufSl9fSkucHNldWRvcy5udGg9dC5wc2V1ZG9zLmVxO2ZvcihydCBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSl0LnBzZXVkb3NbcnRdPWFyKHJ0KTtmb3IocnQgaW57c3VibWl0OiEwLHJlc2V0OiEwfSl0LnBzZXVkb3NbcnRdPXZyKHJ0KTtyZXR1cm4ga2kucHJvdG90eXBlPXQuZmlsdGVycz10LnBzZXVkb3MsdC5zZXRGaWx0ZXJzPW5ldyBraSxmdD11LnRva2VuaXplPWZ1bmN0aW9uKG4saSl7dmFyIGUsZixzLG8scixoLGMsbD1jaVtuKyIgIl07aWYobClyZXR1cm4gaT8wOmwuc2xpY2UoMCk7Zm9yKHI9bixoPVtdLGM9dC5wcmVGaWx0ZXI7cjspeyghZXx8KGY9cnIuZXhlYyhyKSkpJiYoZiYmKHI9ci5zbGljZShmWzBdLmxlbmd0aCl8fHIpLGgucHVzaChzPVtdKSk7ZT0hMTsoZj11ci5leGVjKHIpKSYmKGU9Zi5zaGlmdCgpLHMucHVzaCh7dmFsdWU6ZSx0eXBlOmZbMF0ucmVwbGFjZShhdCwiICIpfSkscj1yLnNsaWNlKGUubGVuZ3RoKSk7Zm9yKG8gaW4gdC5maWx0ZXIpKGY9dnRbb10uZXhlYyhyKSkmJighY1tvXXx8KGY9Y1tvXShmKSkpJiYoZT1mLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTplLHR5cGU6byxtYXRjaGVzOmZ9KSxyPXIuc2xpY2UoZS5sZW5ndGgpKTtpZighZSlicmVha31yZXR1cm4gaT9yLmxlbmd0aDpyP3UuZXJyb3Iobik6Y2kobixoKS5zbGljZSgwKX0sYnQ9dS5jb21waWxlPWZ1bmN0aW9uKG4sdCl7dmFyIHIsdT1bXSxlPVtdLGk9bHRbbisiICJdO2lmKCFpKXtmb3IodHx8KHQ9ZnQobikpLHI9dC5sZW5ndGg7ci0tOykoaT1laSh0W3JdKSlbZl0/dS5wdXNoKGkpOmUucHVzaChpKTsoaT1sdChuLHByKGUsdSkpKS5zZWxlY3Rvcj1ufXJldHVybiBpfSxzaT11LnNlbGVjdD1mdW5jdGlvbihuLGkscix1KXt2YXIgbyxmLGUsbCxhLGM9ImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4scz0hdSYmZnQobj1jLnNlbGVjdG9yfHxuKTtpZihyPXJ8fFtdLDE9PT1zLmxlbmd0aCl7aWYoKGY9c1swXT1zWzBdLnNsaWNlKDApKS5sZW5ndGg+MiYmIklEIj09PShlPWZbMF0pLnR5cGUmJjk9PT1pLm5vZGVUeXBlJiZoJiZ0LnJlbGF0aXZlW2ZbMV0udHlwZV0pe2lmKCEoaT0odC5maW5kLklEKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksaSl8fFtdKVswXSkpcmV0dXJuIHI7YyYmKGk9aS5wYXJlbnROb2RlKTtuPW4uc2xpY2UoZi5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKG89dnQubmVlZHNDb250ZXh0LnRlc3Qobik/MDpmLmxlbmd0aDtvLS07KXtpZihlPWZbb10sdC5yZWxhdGl2ZVtsPWUudHlwZV0pYnJlYWs7aWYoKGE9dC5maW5kW2xdKSYmKHU9YShlLm1hdGNoZXNbMF0ucmVwbGFjZSh5LHApLG5pLnRlc3QoZlswXS50eXBlKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkpKXtpZihmLnNwbGljZShvLDEpLCEobj11Lmxlbmd0aCYmeXQoZikpKXJldHVybiBrLmFwcGx5KHIsdSkscjticmVha319fXJldHVybihjfHxidChuLHMpKSh1LGksIWgsciwhaXx8bmkudGVzdChuKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkscn0sZS5zb3J0U3RhYmxlPWYuc3BsaXQoIiIpLnNvcnQoa3QpLmpvaW4oIiIpPT09ZixlLmRldGVjdER1cGxpY2F0ZXM9ISF1dCxiKCksZS5zb3J0RGV0YWNoZWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gMSZuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PFwvYT4iLCIjIj09PW4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxpaSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24obix0LGkpe2lmKCFpKXJldHVybiBuLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZS5hdHRyaWJ1dGVzJiZhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGlucHV0Lz4iLG4uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1uLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGlpKCJ2YWx1ZSIsZnVuY3Rpb24obix0LGkpe2lmKCFpJiYiaW5wdXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBuLmRlZmF1bHRWYWx1ZX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGlpKGR0LGZ1bmN0aW9uKG4sdCxpKXt2YXIgcjtpZighaSlyZXR1cm4hMD09PW5bdF0/dC50b0xvd2VyQ2FzZSgpOihyPW4uZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHV9KG4pO2kuZmluZD1iO2kuZXhwcj1iLnNlbGVjdG9ycztpLmV4cHJbIjoiXT1pLmV4cHIucHNldWRvcztpLnVuaXF1ZVNvcnQ9aS51bmlxdWU9Yi51bmlxdWVTb3J0O2kudGV4dD1iLmdldFRleHQ7aS5pc1hNTERvYz1iLmlzWE1MO2kuY29udGFpbnM9Yi5jb250YWlucztpLmVzY2FwZVNlbGVjdG9yPWIuZXNjYXBlO3ZhciBydD1mdW5jdGlvbihuLHQscil7Zm9yKHZhciB1PVtdLGY9dm9pZCAwIT09cjsobj1uW3RdKSYmOSE9PW4ubm9kZVR5cGU7KWlmKDE9PT1uLm5vZGVUeXBlKXtpZihmJiZpKG4pLmlzKHIpKWJyZWFrO3UucHVzaChuKX1yZXR1cm4gdX0sY3I9ZnVuY3Rpb24obix0KXtmb3IodmFyIGk9W107bjtuPW4ubmV4dFNpYmxpbmcpMT09PW4ubm9kZVR5cGUmJm4hPT10JiZpLnB1c2gobik7cmV0dXJuIGl9LGxyPWkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7Y2k9L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7aS5maWx0ZXI9ZnVuY3Rpb24obix0LHIpe3ZhciB1PXRbMF07cmV0dXJuIHImJihuPSI6bm90KCIrbisiKSIpLDE9PT10Lmxlbmd0aCYmMT09PXUubm9kZVR5cGU/aS5maW5kLm1hdGNoZXNTZWxlY3Rvcih1LG4pP1t1XTpbXTppLmZpbmQubWF0Y2hlcyhuLGkuZ3JlcCh0LGZ1bmN0aW9uKG4pe3JldHVybiAxPT09bi5ub2RlVHlwZX0pKX07aS5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24obil7dmFyIHQscix1PXRoaXMubGVuZ3RoLGY9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIHRoaXMucHVzaFN0YWNrKGkobikuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MDt0PHU7dCsrKWlmKGkuY29udGFpbnMoZlt0XSx0aGlzKSlyZXR1cm4hMH0pKTtmb3Iocj10aGlzLnB1c2hTdGFjayhbXSksdD0wO3Q8dTt0KyspaS5maW5kKG4sZlt0XSxyKTtyZXR1cm4gdT4xP2kudW5pcXVlU29ydChyKTpyfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGxpKHRoaXMsbnx8W10sITEpKX0sbm90OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnB1c2hTdGFjayhsaSh0aGlzLG58fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKG4pe3JldHVybiEhbGkodGhpcywic3RyaW5nIj09dHlwZW9mIG4mJmxyLnRlc3Qobik/aShuKTpufHxbXSwhMSkubGVuZ3RofX0pO3ZyPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KGkuZm4uaW5pdD1mdW5jdGlvbihuLHQscil7dmFyIGUsbztpZighbilyZXR1cm4gdGhpcztpZihyPXJ8fGFyLCJzdHJpbmciPT10eXBlb2Ygbil7aWYoIShlPSI8Ij09PW5bMF0mJiI+Ij09PW5bbi5sZW5ndGgtMV0mJm4ubGVuZ3RoPj0zP1tudWxsLG4sbnVsbF06dnIuZXhlYyhuKSl8fCFlWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8cikuZmluZChuKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQobik7aWYoZVsxXSl7aWYodD10IGluc3RhbmNlb2YgaT90WzBdOnQsaS5tZXJnZSh0aGlzLGkucGFyc2VIVE1MKGVbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6ZiwhMCkpLGNpLnRlc3QoZVsxXSkmJmkuaXNQbGFpbk9iamVjdCh0KSlmb3IoZSBpbiB0KXUodGhpc1tlXSk/dGhpc1tlXSh0W2VdKTp0aGlzLmF0dHIoZSx0W2VdKTtyZXR1cm4gdGhpc31yZXR1cm4obz1mLmdldEVsZW1lbnRCeUlkKGVbMl0pKSYmKHRoaXNbMF09byx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBuLm5vZGVUeXBlPyh0aGlzWzBdPW4sdGhpcy5sZW5ndGg9MSx0aGlzKTp1KG4pP3ZvaWQgMCE9PXIucmVhZHk/ci5yZWFkeShuKTpuKGkpOmkubWFrZUFycmF5KG4sdGhpcyl9KS5wcm90b3R5cGU9aS5mbjthcj1pKGYpO3lyPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvO3ByPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2kuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24obil7dmFyIHQ9aShuLHRoaXMpLHI9dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPTA7bjxyO24rKylpZihpLmNvbnRhaW5zKHRoaXMsdFtuXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihuLHQpe3ZhciByLGY9MCxvPXRoaXMubGVuZ3RoLHU9W10sZT0ic3RyaW5nIiE9dHlwZW9mIG4mJmkobik7aWYoIWxyLnRlc3QobikpZm9yKDtmPG87ZisrKWZvcihyPXRoaXNbZl07ciYmciE9PXQ7cj1yLnBhcmVudE5vZGUpaWYoci5ub2RlVHlwZTwxMSYmKGU/ZS5pbmRleChyKT4tMToxPT09ci5ub2RlVHlwZSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihyLG4pKSl7dS5wdXNoKHIpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayh1Lmxlbmd0aD4xP2kudW5pcXVlU29ydCh1KTp1KX0saW5kZXg6ZnVuY3Rpb24obil7cmV0dXJuIG4/InN0cmluZyI9PXR5cGVvZiBuP3d0LmNhbGwoaShuKSx0aGlzWzBdKTp3dC5jYWxsKHRoaXMsbi5qcXVlcnk/blswXTpuKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhpLnVuaXF1ZVNvcnQoaS5tZXJnZSh0aGlzLmdldCgpLGkobix0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9fSk7aS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKG4pe3JldHVybiBydChuLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHJ0KG4sInBhcmVudE5vZGUiLGkpfSxuZXh0OmZ1bmN0aW9uKG4pe3JldHVybiB3cihuLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKG4pe3JldHVybiB3cihuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihuKXtyZXR1cm4gcnQobiwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihuKXtyZXR1cm4gcnQobiwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHJ0KG4sIm5leHRTaWJsaW5nIixpKX0scHJldlVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gcnQobiwicHJldmlvdXNTaWJsaW5nIixpKX0sc2libGluZ3M6ZnVuY3Rpb24obil7cmV0dXJuIGNyKChuLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLG4pfSxjaGlsZHJlbjpmdW5jdGlvbihuKXtyZXR1cm4gY3Iobi5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24obil7cmV0dXJuIHYobiwiaWZyYW1lIik/bi5jb250ZW50RG9jdW1lbnQ6KHYobiwidGVtcGxhdGUiKSYmKG49bi5jb250ZW50fHxuKSxpLm1lcmdlKFtdLG4uY2hpbGROb2RlcykpfX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKHIsdSl7dmFyIGY9aS5tYXAodGhpcyx0LHIpO3JldHVybiJVbnRpbCIhPT1uLnNsaWNlKC01KSYmKHU9ciksdSYmInN0cmluZyI9PXR5cGVvZiB1JiYoZj1pLmZpbHRlcih1LGYpKSx0aGlzLmxlbmd0aD4xJiYocHJbbl18fGkudW5pcXVlU29ydChmKSx5ci50ZXN0KG4pJiZmLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZil9fSk7bD0vW15ceDIwXHRcclxuXGZdKy9nO2kuQ2FsbGJhY2tzPWZ1bmN0aW9uKG4pe249InN0cmluZyI9PXR5cGVvZiBuP25lKG4pOmkuZXh0ZW5kKHt9LG4pO3ZhciBmLHIsYyxlLHQ9W10scz1bXSxvPS0xLGw9ZnVuY3Rpb24oKXtmb3IoZT1lfHxuLm9uY2UsYz1mPSEwO3MubGVuZ3RoO289LTEpZm9yKHI9cy5zaGlmdCgpOysrbzx0Lmxlbmd0aDspITE9PT10W29dLmFwcGx5KHJbMF0sclsxXSkmJm4uc3RvcE9uRmFsc2UmJihvPXQubGVuZ3RoLHI9ITEpO24ubWVtb3J5fHwocj0hMSk7Zj0hMTtlJiYodD1yP1tdOiIiKX0saD17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHQmJihyJiYhZiYmKG89dC5sZW5ndGgtMSxzLnB1c2gocikpLGZ1bmN0aW9uIGYocil7aS5lYWNoKHIsZnVuY3Rpb24oaSxyKXt1KHIpP24udW5pcXVlJiZoLmhhcyhyKXx8dC5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PWl0KHIpJiZmKHIpfSl9KGFyZ3VtZW50cyksciYmIWYmJmwoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24obixyKXtmb3IodmFyIHU7KHU9aS5pbkFycmF5KHIsdCx1KSk+LTE7KXQuc3BsaWNlKHUsMSksdTw9byYmby0tfSksdGhpc30saGFzOmZ1bmN0aW9uKG4pe3JldHVybiBuP2kuaW5BcnJheShuLHQpPi0xOnQubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJih0PVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9cz1bXSx0PXI9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBlPXM9W10scnx8Znx8KHQ9cj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfSxmaXJlV2l0aDpmdW5jdGlvbihuLHQpe3JldHVybiBlfHwodD1bbiwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHMucHVzaCh0KSxmfHxsKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4gaH07aS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBmPVtbIm5vdGlmeSIsInByb2dyZXNzIixpLkNhbGxiYWNrcygibWVtb3J5IiksaS5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxvPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBvfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gci5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24obil7cmV0dXJuIGUudGhlbihudWxsLG4pfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzO3JldHVybiBpLkRlZmVycmVkKGZ1bmN0aW9uKHQpe2kuZWFjaChmLGZ1bmN0aW9uKGksZil7dmFyIGU9dShuW2ZbNF1dKSYmbltmWzRdXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmdShuLnByb21pc2UpP24ucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtmWzBdKyJXaXRoIl0odGhpcyxlP1tuXTphcmd1bWVudHMpfSl9KTtuPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGUpe2Z1bmN0aW9uIHModCxyLGYsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxjPWFyZ3VtZW50cyxhPWZ1bmN0aW9uKCl7dmFyIG4saTtpZighKHQ8bykpe2lmKChuPWYuYXBwbHkoaCxjKSk9PT1yLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtpPW4mJigib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuKSYmbi50aGVuO3UoaSk/ZT9pLmNhbGwobixzKG8scix1dCxlKSxzKG8scixkdCxlKSk6KG8rKyxpLmNhbGwobixzKG8scix1dCxlKSxzKG8scixkdCxlKSxzKG8scix1dCxyLm5vdGlmeVdpdGgpKSk6KGYhPT11dCYmKGg9dm9pZCAwLGM9W25dKSwoZXx8ci5yZXNvbHZlV2l0aCkoaCxjKSl9fSxsPWU/YTpmdW5jdGlvbigpe3RyeXthKCl9Y2F0Y2gobil7aS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sobixsLnN0YWNrVHJhY2UpO3QrMT49byYmKGYhPT1kdCYmKGg9dm9pZCAwLGM9W25dKSxyLnJlamVjdFdpdGgoaCxjKSl9fTt0P2woKTooaS5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihsLnN0YWNrVHJhY2U9aS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksbi5zZXRUaW1lb3V0KGwpKX19dmFyIG89MDtyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbihuKXtmWzBdWzNdLmFkZChzKDAsbix1KGUpP2U6dXQsbi5ub3RpZnlXaXRoKSk7ZlsxXVszXS5hZGQocygwLG4sdSh0KT90OnV0KSk7ZlsyXVszXS5hZGQocygwLG4sdShyKT9yOmR0KSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4/aS5leHRlbmQobixlKTplfX0scj17fTtyZXR1cm4gaS5lYWNoKGYsZnVuY3Rpb24obix0KXt2YXIgaT10WzJdLHU9dFs1XTtlW3RbMV1dPWkuYWRkO3UmJmkuYWRkKGZ1bmN0aW9uKCl7bz11fSxmWzMtbl1bMl0uZGlzYWJsZSxmWzMtbl1bM10uZGlzYWJsZSxmWzBdWzJdLmxvY2ssZlswXVszXS5sb2NrKTtpLmFkZCh0WzNdLmZpcmUpO3JbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gclt0WzBdKyJXaXRoIl0odGhpcz09PXI/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfTtyW3RbMF0rIldpdGgiXT1pLmZpcmVXaXRofSksZS5wcm9taXNlKHIpLHQmJnQuY2FsbChyLHIpLHJ9LHdoZW46ZnVuY3Rpb24obil7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PWUsbz1BcnJheSh0KSxmPWQuY2FsbChhcmd1bWVudHMpLHI9aS5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe29bbl09dGhpcztmW25dPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTp0Oy0tZXx8ci5yZXNvbHZlV2l0aChvLGYpfX07aWYoZTw9MSYmKGJyKG4sci5kb25lKHModCkpLnJlc29sdmUsci5yZWplY3QsIWUpLCJwZW5kaW5nIj09PXIuc3RhdGUoKXx8dShmW3RdJiZmW3RdLnRoZW4pKSlyZXR1cm4gci50aGVuKCk7d2hpbGUodC0tKWJyKGZbdF0scyh0KSxyLnJlamVjdCk7cmV0dXJuIHIucHJvbWlzZSgpfX0pO2tyPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LGkpe24uY29uc29sZSYmbi5jb25zb2xlLndhcm4mJnQmJmtyLnRlc3QodC5uYW1lKSYmbi5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrdC5tZXNzYWdlLHQuc3RhY2ssaSl9O2kucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24odCl7bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdDt9KX07Z3Q9aS5EZWZlcnJlZCgpO2kuZm4ucmVhZHk9ZnVuY3Rpb24obil7cmV0dXJuIGd0LnRoZW4obilbImNhdGNoIl0oZnVuY3Rpb24obil7aS5yZWFkeUV4Y2VwdGlvbihuKX0pLHRoaXN9O2kuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKG4peyghMD09PW4/LS1pLnJlYWR5V2FpdDppLmlzUmVhZHkpfHwoaS5pc1JlYWR5PSEwLCEwIT09biYmLS1pLnJlYWR5V2FpdD4wfHxndC5yZXNvbHZlV2l0aChmLFtpXSkpfX0pO2kucmVhZHkudGhlbj1ndC50aGVuOyJjb21wbGV0ZSI9PT1mLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWYucmVhZHlTdGF0ZSYmIWYuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP24uc2V0VGltZW91dChpLnJlYWR5KTooZi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixuaSksbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixuaSkpO3ZhciBwPWZ1bmN0aW9uKG4sdCxyLGYsZSxvLHMpe3ZhciBoPTAsbD1uLmxlbmd0aCxjPW51bGw9PXI7aWYoIm9iamVjdCI9PT1pdChyKSl7ZT0hMDtmb3IoaCBpbiByKXAobix0LGgscltoXSwhMCxvLHMpfWVsc2UgaWYodm9pZCAwIT09ZiYmKGU9ITAsdShmKXx8KHM9ITApLGMmJihzPyh0LmNhbGwobixmKSx0PW51bGwpOihjPXQsdD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGMuY2FsbChpKG4pLHIpfSkpLHQpKWZvcig7aDxsO2grKyl0KG5baF0scixzP2Y6Zi5jYWxsKG5baF0saCx0KG5baF0scikpKTtyZXR1cm4gZT9uOmM/dC5jYWxsKG4pOmw/dChuWzBdLHIpOm99LHRlPS9eLW1zLS8saWU9Ly0oW2Etel0pL2c7bHQ9ZnVuY3Rpb24obil7cmV0dXJuIDE9PT1uLm5vZGVUeXBlfHw5PT09bi5ub2RlVHlwZXx8IStuLm5vZGVUeXBlfTthdC51aWQ9MTthdC5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKG4pe3ZhciB0PW5bdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sbHQobikmJihuLm5vZGVUeXBlP25bdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihuLHQsaSl7dmFyIHIsdT10aGlzLmNhY2hlKG4pO2lmKCJzdHJpbmciPT10eXBlb2YgdCl1W3kodCldPWk7ZWxzZSBmb3IociBpbiB0KXVbeShyKV09dFtyXTtyZXR1cm4gdX0sZ2V0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShuKTpuW3RoaXMuZXhwYW5kb10mJm5bdGhpcy5leHBhbmRvXVt5KHQpXX0sYWNjZXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1pP3RoaXMuZ2V0KG4sdCk6KHRoaXMuc2V0KG4sdCxpKSx2b2lkIDAhPT1pP2k6dCl9LHJlbW92ZTpmdW5jdGlvbihuLHQpe3ZhciB1LHI9blt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpZm9yKHU9KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcCh5KToodD15KHQpKWluIHI/W3RdOnQubWF0Y2gobCl8fFtdKS5sZW5ndGg7dS0tOylkZWxldGUgclt0W3VdXTsodm9pZCAwPT09dHx8aS5pc0VtcHR5T2JqZWN0KHIpKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgblt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT10JiYhaS5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIHI9bmV3IGF0LG89bmV3IGF0LHVlPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sZmU9L1tBLVpdL2c7aS5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24obil7cmV0dXJuIG8uaGFzRGF0YShuKXx8ci5oYXNEYXRhKG4pfSxkYXRhOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gby5hY2Nlc3Mobix0LGkpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKG4sdCl7by5yZW1vdmUobix0KX0sX2RhdGE6ZnVuY3Rpb24obix0LGkpe3JldHVybiByLmFjY2VzcyhuLHQsaSl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKG4sdCl7ci5yZW1vdmUobix0KX19KTtpLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihuLHQpe3ZhciBmLHUsZSxpPXRoaXNbMF0scz1pJiZpLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09bil7aWYodGhpcy5sZW5ndGgmJihlPW8uZ2V0KGkpLDE9PT1pLm5vZGVUeXBlJiYhci5nZXQoaSwiaGFzRGF0YUF0dHJzIikpKXtmb3IoZj1zLmxlbmd0aDtmLS07KXNbZl0mJjA9PT0odT1zW2ZdLm5hbWUpLmluZGV4T2YoImRhdGEtIikmJih1PXkodS5zbGljZSg1KSksZHIoaSx1LGVbdV0pKTtyLnNldChpLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gZX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG4/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5zZXQodGhpcyxuKX0pOnAodGhpcyxmdW5jdGlvbih0KXt2YXIgcjtpZihpJiZ2b2lkIDA9PT10KXtpZih2b2lkIDAhPT0ocj1vLmdldChpLG4pKXx8dm9pZCAwIT09KHI9ZHIoaSxuKSkpcmV0dXJuIHJ9ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLnNldCh0aGlzLG4sdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5yZW1vdmUodGhpcyxuKX0pfX0pO2kuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihuLHQsdSl7dmFyIGY7aWYobilyZXR1cm4gdD0odHx8ImZ4IikrInF1ZXVlIixmPXIuZ2V0KG4sdCksdSYmKCFmfHxBcnJheS5pc0FycmF5KHUpP2Y9ci5hY2Nlc3Mobix0LGkubWFrZUFycmF5KHUpKTpmLnB1c2godSkpLGZ8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKG4sdCl7dD10fHwiZngiO3ZhciByPWkucXVldWUobix0KSxlPXIubGVuZ3RoLHU9ci5zaGlmdCgpLGY9aS5fcXVldWVIb29rcyhuLHQpLG89ZnVuY3Rpb24oKXtpLmRlcXVldWUobix0KX07ImlucHJvZ3Jlc3MiPT09dSYmKHU9ci5zaGlmdCgpLGUtLSk7dSYmKCJmeCI9PT10JiZyLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLHUuY2FsbChuLG8sZikpOyFlJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24obix0KXt2YXIgdT10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gci5nZXQobix1KXx8ci5hY2Nlc3Mobix1LHtlbXB0eTppLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtyLnJlbW92ZShuLFt0KyJxdWV1ZSIsdV0pfSl9KX19KTtpLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0KXt2YXIgcj0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgbiYmKHQ9bixuPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/aS5xdWV1ZSh0aGlzWzBdLG4pOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1pLnF1ZXVlKHRoaXMsbix0KTtpLl9xdWV1ZUhvb2tzKHRoaXMsbik7ImZ4Ij09PW4mJiJpbnByb2dyZXNzIiE9PXJbMF0mJmkuZGVxdWV1ZSh0aGlzLG4pfSl9LGRlcXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZGVxdWV1ZSh0aGlzLG4pfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucXVldWUobnx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24obix0KXt2YXIgdSxlPTEsbz1pLkRlZmVycmVkKCksZj10aGlzLHM9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZXx8by5yZXNvbHZlV2l0aChmLFtmXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIG4mJih0PW4sbj12b2lkIDApLG49bnx8ImZ4IjtzLS07KSh1PXIuZ2V0KGZbc10sbisicXVldWVIb29rcyIpKSYmdS5lbXB0eSYmKGUrKyx1LmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxvLnByb21pc2UodCl9fSk7dmFyIGdyPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLHZ0PW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitncisiKShbYS16JV0qKSQiLCJpIiksdz1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHRpPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIm5vbmUiPT09KG49dHx8bikuc3R5bGUuZGlzcGxheXx8IiI9PT1uLnN0eWxlLmRpc3BsYXkmJmkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pJiYibm9uZSI9PT1pLmNzcyhuLCJkaXNwbGF5Iil9LG51PWZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBmLHUsZT17fTtmb3IodSBpbiB0KWVbdV09bi5zdHlsZVt1XSxuLnN0eWxlW3VdPXRbdV07Zj1pLmFwcGx5KG4scnx8W10pO2Zvcih1IGluIHQpbi5zdHlsZVt1XT1lW3VdO3JldHVybiBmfTthaT17fTtpLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmdCh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBmdCh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKG4pe3JldHVybiJib29sZWFuIj09dHlwZW9mIG4/bj90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXt0aSh0aGlzKT9pKHRoaXMpLnNob3coKTppKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBpdT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxydT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKykvaSx1dT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYz17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPFwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPFwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjxcL2NvbGdyb3VwPjxcL3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjxcL3Rib2R5PjxcL3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8XC90cj48XC90Ym9keT48XC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2Mub3B0Z3JvdXA9Yy5vcHRpb247Yy50Ym9keT1jLnRmb290PWMuY29sZ3JvdXA9Yy5jYXB0aW9uPWMudGhlYWQ7Yy50aD1jLnRkO2Z1PS88fCYjP1x3KzsvOyFmdW5jdGlvbigpe3ZhciBuPWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgiZGl2IikpLHQ9Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTt0LnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKTt0LnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKTtuLmFwcGVuZENoaWxkKHQpO2UuY2hlY2tDbG9uZT1uLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtuLmlubmVySFRNTD0iPHRleHRhcmVhPng8XC90ZXh0YXJlYT4iO2Uubm9DbG9uZUNoZWNrZWQ9ISFuLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgaWk9Zi5kb2N1bWVudEVsZW1lbnQsc2U9L15rZXkvLGhlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxvdT0vXihbXi5dKikoPzpcLiguKyl8KS87aS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciBwLHYsayx5LHcsaCxzLGMsbyxiLGQsYT1yLmdldChuKTtpZihhKWZvcih1LmhhbmRsZXImJih1PShwPXUpLmhhbmRsZXIsZT1wLnNlbGVjdG9yKSxlJiZpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGlpLGUpLHUuZ3VpZHx8KHUuZ3VpZD1pLmd1aWQrKyksKHk9YS5ldmVudHMpfHwoeT1hLmV2ZW50cz17fSksKHY9YS5oYW5kbGUpfHwodj1hLmhhbmRsZT1mdW5jdGlvbih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGkmJmkuZXZlbnQudHJpZ2dlcmVkIT09dC50eXBlKXJldHVybiBpLmV2ZW50LmRpc3BhdGNoLmFwcGx5KG4sYXJndW1lbnRzKX0pLHc9KHQ9KHR8fCIiKS5tYXRjaChsKXx8WyIiXSkubGVuZ3RoO3ctLTspbz1kPShrPW91LmV4ZWModFt3XSl8fFtdKVsxXSxiPShrWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKHM9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP3MuZGVsZWdhdGVUeXBlOnMuYmluZFR5cGUpfHxvLHM9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxoPWkuZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6ZCxkYXRhOmYsaGFuZGxlcjp1LGd1aWQ6dS5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJmkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6Yi5qb2luKCIuIil9LHApLChjPXlbb10pfHwoKGM9eVtvXT1bXSkuZGVsZWdhdGVDb3VudD0wLHMuc2V0dXAmJiExIT09cy5zZXR1cC5jYWxsKG4sZixiLHYpfHxuLmFkZEV2ZW50TGlzdGVuZXImJm4uYWRkRXZlbnRMaXN0ZW5lcihvLHYpKSxzLmFkZCYmKHMuYWRkLmNhbGwobixoKSxoLmhhbmRsZXIuZ3VpZHx8KGguaGFuZGxlci5ndWlkPXUuZ3VpZCkpLGU/Yy5zcGxpY2UoYy5kZWxlZ2F0ZUNvdW50KyssMCxoKTpjLnB1c2goaCksaS5ldmVudC5nbG9iYWxbb109ITApfSxyZW1vdmU6ZnVuY3Rpb24obix0LHUsZixlKXt2YXIgeSxrLGgsdixwLHMsYyxhLG8sYixkLHc9ci5oYXNEYXRhKG4pJiZyLmdldChuKTtpZih3JiYodj13LmV2ZW50cykpe2ZvcihwPSh0PSh0fHwiIikubWF0Y2gobCl8fFsiIl0pLmxlbmd0aDtwLS07KWlmKGg9b3UuZXhlYyh0W3BdKXx8W10sbz1kPWhbMV0sYj0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2ZvcihjPWkuZXZlbnQuc3BlY2lhbFtvXXx8e30sYT12W289KGY/Yy5kZWxlZ2F0ZVR5cGU6Yy5iaW5kVHlwZSl8fG9dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksaz15PWEubGVuZ3RoO3ktLTspcz1hW3ldLCFlJiZkIT09cy5vcmlnVHlwZXx8dSYmdS5ndWlkIT09cy5ndWlkfHxoJiYhaC50ZXN0KHMubmFtZXNwYWNlKXx8ZiYmZiE9PXMuc2VsZWN0b3ImJigiKioiIT09Znx8IXMuc2VsZWN0b3IpfHwoYS5zcGxpY2UoeSwxKSxzLnNlbGVjdG9yJiZhLmRlbGVnYXRlQ291bnQtLSxjLnJlbW92ZSYmYy5yZW1vdmUuY2FsbChuLHMpKTtrJiYhYS5sZW5ndGgmJihjLnRlYXJkb3duJiYhMSE9PWMudGVhcmRvd24uY2FsbChuLGIsdy5oYW5kbGUpfHxpLnJlbW92ZUV2ZW50KG4sbyx3LmhhbmRsZSksZGVsZXRlIHZbb10pfWVsc2UgZm9yKG8gaW4gdilpLmV2ZW50LnJlbW92ZShuLG8rdFtwXSx1LGYsITApO2kuaXNFbXB0eU9iamVjdCh2KSYmci5yZW1vdmUobiwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24obil7dmFyIHQ9aS5ldmVudC5maXgobiksdSxoLGMsZSxmLGwscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksYT0oci5nZXQodGhpcywiZXZlbnRzIil8fHt9KVt0LnR5cGVdfHxbXSxvPWkuZXZlbnQuc3BlY2lhbFt0LnR5cGVdfHx7fTtmb3Ioc1swXT10LHU9MTt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKXNbdV09YXJndW1lbnRzW3VdO2lmKHQuZGVsZWdhdGVUYXJnZXQ9dGhpcywhby5wcmVEaXNwYXRjaHx8ITEhPT1vLnByZURpc3BhdGNoLmNhbGwodGhpcyx0KSl7Zm9yKGw9aS5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdCxhKSx1PTA7KGU9bFt1KytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspZm9yKHQuY3VycmVudFRhcmdldD1lLmVsZW0saD0wOyhmPWUuaGFuZGxlcnNbaCsrXSkmJiF0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7KXQucm5hbWVzcGFjZSYmIXQucm5hbWVzcGFjZS50ZXN0KGYubmFtZXNwYWNlKXx8KHQuaGFuZGxlT2JqPWYsdC5kYXRhPWYuZGF0YSx2b2lkIDAhPT0oYz0oKGkuZXZlbnQuc3BlY2lhbFtmLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zi5oYW5kbGVyKS5hcHBseShlLmVsZW0scykpJiYhMT09PSh0LnJlc3VsdD1jKSYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKSk7cmV0dXJuIG8ucG9zdERpc3BhdGNoJiZvLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsdCksdC5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihuLHQpe3ZhciBmLGgsdSxlLG8sYz1bXSxzPXQuZGVsZWdhdGVDb3VudCxyPW4udGFyZ2V0O2lmKHMmJnIubm9kZVR5cGUmJiEoImNsaWNrIj09PW4udHlwZSYmbi5idXR0b24+PTEpKWZvcig7ciE9PXRoaXM7cj1yLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PXIubm9kZVR5cGUmJigiY2xpY2siIT09bi50eXBlfHwhMCE9PXIuZGlzYWJsZWQpKXtmb3IoZT1bXSxvPXt9LGY9MDtmPHM7ZisrKXZvaWQgMD09PW9bdT0oaD10W2ZdKS5zZWxlY3RvcisiICJdJiYob1t1XT1oLm5lZWRzQ29udGV4dD9pKHUsdGhpcykuaW5kZXgocik+LTE6aS5maW5kKHUsdGhpcyxudWxsLFtyXSkubGVuZ3RoKSxvW3VdJiZlLnB1c2goaCk7ZS5sZW5ndGgmJmMucHVzaCh7ZWxlbTpyLGhhbmRsZXJzOmV9KX1yZXR1cm4gcj10aGlzLHM8dC5sZW5ndGgmJmMucHVzaCh7ZWxlbTpyLGhhbmRsZXJzOnQuc2xpY2Uocyl9KSxjfSxhZGRQcm9wOmZ1bmN0aW9uKG4sdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRXZlbnQucHJvdG90eXBlLG4se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDp1KHQpP2Z1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0KHRoaXMub3JpZ2luYWxFdmVudCl9OmZ1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbbl19LHNldDpmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9fSl9LGZpeDpmdW5jdGlvbihuKXtyZXR1cm4gbltpLmV4cGFuZG9dP246bmV3IGkuRXZlbnQobil9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1zdSgpJiZ0aGlzLmZvY3VzKXJldHVybiB0aGlzLmZvY3VzKCksITF9LGRlbGVnYXRlVHlwZToiZm9jdXNpbiJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzPT09c3UoKSYmdGhpcy5ibHVyKXJldHVybiB0aGlzLmJsdXIoKSwhMX0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYoImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmdih0aGlzLCJpbnB1dCIpKXJldHVybiB0aGlzLmNsaWNrKCksITF9LF9kZWZhdWx0OmZ1bmN0aW9uKG4pe3JldHVybiB2KG4udGFyZ2V0LCJhIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihuKXt2b2lkIDAhPT1uLnJlc3VsdCYmbi5vcmlnaW5hbEV2ZW50JiYobi5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPW4ucmVzdWx0KX19fX07aS5yZW1vdmVFdmVudD1mdW5jdGlvbihuLHQsaSl7bi5yZW1vdmVFdmVudExpc3RlbmVyJiZuLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxpKX07aS5FdmVudD1mdW5jdGlvbihuLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkuRXZlbnQpKXJldHVybiBuZXcgaS5FdmVudChuLHQpO24mJm4udHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PW4sdGhpcy50eXBlPW4udHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1uLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PW4uZGVmYXVsdFByZXZlbnRlZCYmITE9PT1uLnJldHVyblZhbHVlP3JpOmV0LHRoaXMudGFyZ2V0PW4udGFyZ2V0JiYzPT09bi50YXJnZXQubm9kZVR5cGU/bi50YXJnZXQucGFyZW50Tm9kZTpuLnRhcmdldCx0aGlzLmN1cnJlbnRUYXJnZXQ9bi5jdXJyZW50VGFyZ2V0LHRoaXMucmVsYXRlZFRhcmdldD1uLnJlbGF0ZWRUYXJnZXQpOnRoaXMudHlwZT1uO3QmJmkuZXh0ZW5kKHRoaXMsdCk7dGhpcy50aW1lU3RhbXA9biYmbi50aW1lU3RhbXB8fERhdGUubm93KCk7dGhpc1tpLmV4cGFuZG9dPSEwfTtpLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6aS5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZXQsaXNQcm9wYWdhdGlvblN0b3BwZWQ6ZXQsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6ZXQsaXNTaW11bGF0ZWQ6ITEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cmk7biYmIXRoaXMuaXNTaW11bGF0ZWQmJm4ucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9cmk7biYmIXRoaXMuaXNTaW11bGF0ZWQmJm4uc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXJpO24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3RoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fTtpLmVhY2goe2FsdEtleTohMCxidWJibGVzOiEwLGNhbmNlbGFibGU6ITAsY2hhbmdlZFRvdWNoZXM6ITAsY3RybEtleTohMCxkZXRhaWw6ITAsZXZlbnRQaGFzZTohMCxtZXRhS2V5OiEwLHBhZ2VYOiEwLHBhZ2VZOiEwLHNoaWZ0S2V5OiEwLHZpZXc6ITAsY2hhcjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihuKXt2YXIgdD1uLmJ1dHRvbjtyZXR1cm4gbnVsbD09bi53aGljaCYmc2UudGVzdChuLnR5cGUpP251bGwhPW4uY2hhckNvZGU/bi5jaGFyQ29kZTpuLmtleUNvZGU6IW4ud2hpY2gmJnZvaWQgMCE9PXQmJmhlLnRlc3Qobi50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOm4ud2hpY2h9fSxpLmV2ZW50LmFkZFByb3ApO2kuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKG4pe3ZhciB1LGY9dGhpcyxyPW4ucmVsYXRlZFRhcmdldCxlPW4uaGFuZGxlT2JqO3JldHVybiByJiYocj09PWZ8fGkuY29udGFpbnMoZixyKSl8fChuLnR5cGU9ZS5vcmlnVHlwZSx1PWUuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksbi50eXBlPXQpLHV9fX0pO2kuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4geWkodGhpcyxuLHQsaSxyKX0sb25lOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB5aSh0aGlzLG4sdCxpLHIsMSl9LG9mZjpmdW5jdGlvbihuLHQscil7dmFyIHUsZjtpZihuJiZuLnByZXZlbnREZWZhdWx0JiZuLmhhbmRsZU9iailyZXR1cm4gdT1uLmhhbmRsZU9iaixpKG4uZGVsZWdhdGVUYXJnZXQpLm9mZih1Lm5hbWVzcGFjZT91Lm9yaWdUeXBlKyIuIit1Lm5hbWVzcGFjZTp1Lm9yaWdUeXBlLHUuc2VsZWN0b3IsdS5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2Ygbil7Zm9yKGYgaW4gbil0aGlzLm9mZihmLHQsbltmXSk7cmV0dXJuIHRoaXN9cmV0dXJuITEhPT10JiYiZnVuY3Rpb24iIT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCksITE9PT1yJiYocj1ldCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5yZW1vdmUodGhpcyxuLHIsdCl9KX19KTt2YXIgY2U9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopW14+XSopXC8+L2dpLGxlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHZlPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztpLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKGNlLCI8JDE+PFwvJDI+Iil9LGNsb25lOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxjLG8sZixoPW4uY2xvbmVOb2RlKCEwKSxsPWkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pO2lmKCEoZS5ub0Nsb25lQ2hlY2tlZHx8MSE9PW4ubm9kZVR5cGUmJjExIT09bi5ub2RlVHlwZXx8aS5pc1hNTERvYyhuKSkpZm9yKGY9cyhoKSx1PTAsYz0obz1zKG4pKS5sZW5ndGg7dTxjO3UrKyl3ZShvW3VdLGZbdV0pO2lmKHQpaWYocilmb3Iobz1vfHxzKG4pLGY9Znx8cyhoKSx1PTAsYz1vLmxlbmd0aDt1PGM7dSsrKWN1KG9bdV0sZlt1XSk7ZWxzZSBjdShuLGgpO3JldHVybihmPXMoaCwic2NyaXB0IikpLmxlbmd0aD4wJiZ2aShmLCFsJiZzKG4sInNjcmlwdCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24obil7Zm9yKHZhciB1LHQsZixzPWkuZXZlbnQuc3BlY2lhbCxlPTA7dm9pZCAwIT09KHQ9bltlXSk7ZSsrKWlmKGx0KHQpKXtpZih1PXRbci5leHBhbmRvXSl7aWYodS5ldmVudHMpZm9yKGYgaW4gdS5ldmVudHMpc1tmXT9pLmV2ZW50LnJlbW92ZSh0LGYpOmkucmVtb3ZlRXZlbnQodCxmLHUuaGFuZGxlKTt0W3IuZXhwYW5kb109dm9pZCAwfXRbby5leHBhbmRvXSYmKHRbby5leHBhbmRvXT12b2lkIDApfX19KTtpLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKG4pe3JldHVybiBsdSh0aGlzLG4sITApfSxyZW1vdmU6ZnVuY3Rpb24obil7cmV0dXJuIGx1KHRoaXMsbil9LHRleHQ6ZnVuY3Rpb24obil7cmV0dXJuIHAodGhpcyxmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj9pLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9bil9KX0sbnVsbCxuLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gb3QodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGh1KHRoaXMsbikuYXBwZW5kQ2hpbGQobil9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9aHUodGhpcyxuKTt0Lmluc2VydEJlZm9yZShuLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgbix0PTA7bnVsbCE9KG49dGhpc1t0XSk7dCsrKTE9PT1uLm5vZGVUeXBlJiYoaS5jbGVhbkRhdGEocyhuLCExKSksbi50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49bnVsbCE9biYmbix0PW51bGw9PXQ/bjp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY2xvbmUodGhpcyxuLHQpfSl9LGh0bWw6ZnVuY3Rpb24obil7cmV0dXJuIHAodGhpcyxmdW5jdGlvbihuKXt2YXIgdD10aGlzWzBdfHx7fSxyPTAsdT10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1uJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYhbGUudGVzdChuKSYmIWNbKHJ1LmV4ZWMobil8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtuPWkuaHRtbFByZWZpbHRlcihuKTt0cnl7Zm9yKDtyPHU7cisrKTE9PT0odD10aGlzW3JdfHx7fSkubm9kZVR5cGUmJihpLmNsZWFuRGF0YShzKHQsITEpKSx0LmlubmVySFRNTD1uKTt0PTB9Y2F0Y2gobil7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKG4pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIG90KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMucGFyZW50Tm9kZTtpLmluQXJyYXkodGhpcyxuKTwwJiYoaS5jbGVhbkRhdGEocyh0aGlzKSksciYmci5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LG4pfX0pO2kuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuKXtmb3IodmFyIHUsZj1bXSxlPWkobiksbz1lLmxlbmd0aC0xLHI9MDtyPD1vO3IrKyl1PXI9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCksaShlW3JdKVt0XSh1KSxzaS5hcHBseShmLHUuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmKX19KTt2YXIgcGk9bmV3IFJlZ0V4cCgiXigiK2dyKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksdWk9ZnVuY3Rpb24odCl7dmFyIGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBpJiZpLm9wZW5lcnx8KGk9biksaS5nZXRDb21wdXRlZFN0eWxlKHQpfSxiZT1uZXcgUmVnRXhwKHcuam9pbigifCIpLCJpIik7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe2lmKHQpe28uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O21hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MCI7dC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo2MCU7dG9wOjElIjtpaS5hcHBlbmRDaGlsZChvKS5hcHBlbmRDaGlsZCh0KTt2YXIgaT1uLmdldENvbXB1dGVkU3R5bGUodCk7cz0iMSUiIT09aS50b3A7YT0xMj09PXUoaS5tYXJnaW5MZWZ0KTt0LnN0eWxlLnJpZ2h0PSI2MCUiO2w9MzY9PT11KGkucmlnaHQpO2g9MzY9PT11KGkud2lkdGgpO3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtjPTM2PT09dC5vZmZzZXRXaWR0aHx8ImFic29sdXRlIjtpaS5yZW1vdmVDaGlsZChvKTt0PW51bGx9fWZ1bmN0aW9uIHUobil7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChuKSl9dmFyIHMsaCxjLGwsYSxvPWYuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Quc3R5bGUmJih0LnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsdC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGUuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT10LnN0eWxlLmJhY2tncm91bmRDbGlwLGkuZXh0ZW5kKGUse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxofSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiByKCksbH0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiByKCksc30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxhfSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxjfX0pKX0oKTt2YXIga2U9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLHZ1PS9eLS0vLGRlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSx5dT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0scHU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLHd1PWYuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGU7aS5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24obix0KXtpZih0KXt2YXIgaT15dChuLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1pPyIxIjppfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKG4sdCxyLHUpe2lmKG4mJjMhPT1uLm5vZGVUeXBlJiY4IT09bi5ub2RlVHlwZSYmbi5zdHlsZSl7dmFyIGYsaCxvLGM9eSh0KSxsPXZ1LnRlc3QodCkscz1uLnN0eWxlO2lmKGx8fCh0PWJ1KGMpKSxvPWkuY3NzSG9va3NbdF18fGkuY3NzSG9va3NbY10sdm9pZCAwPT09cilyZXR1cm4gbyYmImdldCJpbiBvJiZ2b2lkIDAhPT0oZj1vLmdldChuLCExLHUpKT9mOnNbdF07InN0cmluZyI9PShoPXR5cGVvZiByKSYmKGY9dnQuZXhlYyhyKSkmJmZbMV0mJihyPXR1KG4sdCxmKSxoPSJudW1iZXIiKTtudWxsIT1yJiZyPT09ciYmKCJudW1iZXIiPT09aCYmKHIrPWYmJmZbM118fChpLmNzc051bWJlcltjXT8iIjoicHgiKSksZS5jbGVhckNsb25lU3R5bGV8fCIiIT09cnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoc1t0XT0iaW5oZXJpdCIpLG8mJiJzZXQiaW4gbyYmdm9pZCAwPT09KHI9by5zZXQobixyLHUpKXx8KGw/cy5zZXRQcm9wZXJ0eSh0LHIpOnNbdF09cikpfX0sY3NzOmZ1bmN0aW9uKG4sdCxyLHUpe3ZhciBmLGUsbyxzPXkodCk7cmV0dXJuIHZ1LnRlc3QodCl8fCh0PWJ1KHMpKSwobz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW3NdKSYmImdldCJpbiBvJiYoZj1vLmdldChuLCEwLHIpKSx2b2lkIDA9PT1mJiYoZj15dChuLHQsdSkpLCJub3JtYWwiPT09ZiYmdCBpbiB5dSYmKGY9eXVbdF0pLCIiPT09cnx8cj8oZT1wYXJzZUZsb2F0KGYpLCEwPT09cnx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pO2kuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24obixyLHUpe2lmKHIpcmV0dXJuIWtlLnRlc3QoaS5jc3MobiwiZGlzcGxheSIpKXx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9kdShuLHQsdSk6bnUobixkZSxmdW5jdGlvbigpe3JldHVybiBkdShuLHQsdSl9KX0sc2V0OmZ1bmN0aW9uKG4scix1KXt2YXIgcyxmPXVpKG4pLGg9ImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxvPXUmJndpKG4sdCx1LGgsZik7cmV0dXJuIGgmJmUuc2Nyb2xsYm94U2l6ZSgpPT09Zi5wb3NpdGlvbiYmKG8tPU1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGZbdF0pLXdpKG4sdCwiYm9yZGVyIiwhMSxmKS0uNSkpLG8mJihzPXZ0LmV4ZWMocikpJiYicHgiIT09KHNbM118fCJweCIpJiYobi5zdHlsZVt0XT1yLHI9aS5jc3Mobix0KSksa3UobixyLG8pfX19KTtpLmNzc0hvb2tzLm1hcmdpbkxlZnQ9YXUoZS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24obix0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KHl0KG4sIm1hcmdpbkxlZnQiKSl8fG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1udShuLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSk7aS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW24rdF09e2V4cGFuZDpmdW5jdGlvbihpKXtmb3IodmFyIHI9MCxmPXt9LHU9InN0cmluZyI9PXR5cGVvZiBpP2kuc3BsaXQoIiAiKTpbaV07cjw0O3IrKylmW24rd1tyXSt0XT11W3JdfHx1W3ItMl18fHVbMF07cmV0dXJuIGZ9fTsibWFyZ2luIiE9PW4mJihpLmNzc0hvb2tzW24rdF0uc2V0PWt1KX0pO2kuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gcCh0aGlzLGZ1bmN0aW9uKG4sdCxyKXt2YXIgZixlLG89e30sdT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihmPXVpKG4pLGU9dC5sZW5ndGg7dTxlO3UrKylvW3RbdV1dPWkuY3NzKG4sdFt1XSwhMSxmKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09cj9pLnN0eWxlKG4sdCxyKTppLmNzcyhuLHQpfSxuLHQsYXJndW1lbnRzLmxlbmd0aD4xKX19KTtpLlR3ZWVuPWg7aC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmgsaW5pdDpmdW5jdGlvbihuLHQscix1LGYsZSl7dGhpcy5lbGVtPW47dGhpcy5wcm9wPXI7dGhpcy5lYXNpbmc9Znx8aS5lYXNpbmcuX2RlZmF1bHQ7dGhpcy5vcHRpb25zPXQ7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPXU7dGhpcy51bml0PWV8fChpLmNzc051bWJlcltyXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIG49aC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gbiYmbi5nZXQ/bi5nZXQodGhpcyk6aC5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24obil7dmFyIHQscj1oLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10aGlzLm9wdGlvbnMuZHVyYXRpb24/dD1pLmVhc2luZ1t0aGlzLmVhc2luZ10obix0aGlzLm9wdGlvbnMuZHVyYXRpb24qbiwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0PW4sdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksciYmci5zZXQ/ci5zZXQodGhpcyk6aC5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fTtoLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1oLnByb3RvdHlwZTtoLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gMSE9PW4uZWxlbS5ub2RlVHlwZXx8bnVsbCE9bi5lbGVtW24ucHJvcF0mJm51bGw9PW4uZWxlbS5zdHlsZVtuLnByb3BdP24uZWxlbVtuLnByb3BdOih0PWkuY3NzKG4uZWxlbSxuLnByb3AsIiIpKSYmImF1dG8iIT09dD90OjB9LHNldDpmdW5jdGlvbihuKXtpLmZ4LnN0ZXBbbi5wcm9wXT9pLmZ4LnN0ZXBbbi5wcm9wXShuKToxIT09bi5lbGVtLm5vZGVUeXBlfHxudWxsPT1uLmVsZW0uc3R5bGVbaS5jc3NQcm9wc1tuLnByb3BdXSYmIWkuY3NzSG9va3Nbbi5wcm9wXT9uLmVsZW1bbi5wcm9wXT1uLm5vdzppLnN0eWxlKG4uZWxlbSxuLnByb3Asbi5ub3crbi51bml0KX19fTtoLnByb3BIb29rcy5zY3JvbGxUb3A9aC5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKG4pe24uZWxlbS5ub2RlVHlwZSYmbi5lbGVtLnBhcmVudE5vZGUmJihuLmVsZW1bbi5wcm9wXT1uLm5vdyl9fTtpLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKG4pe3JldHVybiBufSxzd2luZzpmdW5jdGlvbihuKXtyZXR1cm4uNS1NYXRoLmNvcyhuKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9O2kuZng9aC5wcm90b3R5cGUuaW5pdDtpLmZ4LnN0ZXA9e307Z3U9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvO25mPS9xdWV1ZUhvb2tzJC87aS5BbmltYXRpb249aS5leHRlbmQoYSx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmNyZWF0ZVR3ZWVuKG4sdCk7cmV0dXJuIHR1KGkuZWxlbSxuLHZ0LmV4ZWModCksaSksaX1dfSx0d2VlbmVyOmZ1bmN0aW9uKG4sdCl7dShuKT8odD1uLG49WyIqIl0pOm49bi5tYXRjaChsKTtmb3IodmFyIGkscj0wLGY9bi5sZW5ndGg7cjxmO3IrKylpPW5bcl0sYS50d2VlbmVyc1tpXT1hLnR3ZWVuZXJzW2ldfHxbXSxhLnR3ZWVuZXJzW2ldLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W25vXSxwcmVmaWx0ZXI6ZnVuY3Rpb24obix0KXt0P2EucHJlZmlsdGVycy51bnNoaWZ0KG4pOmEucHJlZmlsdGVycy5wdXNoKG4pfX0pO2kuc3BlZWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmPW4mJiJvYmplY3QiPT10eXBlb2Ygbj9pLmV4dGVuZCh7fSxuKTp7Y29tcGxldGU6cnx8IXImJnR8fHUobikmJm4sZHVyYXRpb246bixlYXNpbmc6ciYmdHx8dCYmIXUodCkmJnR9O3JldHVybiBpLmZ4Lm9mZj9mLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiBmLmR1cmF0aW9uJiYoZi5kdXJhdGlvbj1mLmR1cmF0aW9uIGluIGkuZnguc3BlZWRzP2kuZnguc3BlZWRzW2YuZHVyYXRpb25dOmkuZnguc3BlZWRzLl9kZWZhdWx0KSxudWxsIT1mLnF1ZXVlJiYhMCE9PWYucXVldWV8fChmLnF1ZXVlPSJmeCIpLGYub2xkPWYuY29tcGxldGUsZi5jb21wbGV0ZT1mdW5jdGlvbigpe3UoZi5vbGQpJiZmLm9sZC5jYWxsKHRoaXMpO2YucXVldWUmJmkuZGVxdWV1ZSh0aGlzLGYucXVldWUpfSxmfTtpLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB0aGlzLmZpbHRlcih0aSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxuLGkscil9LGFuaW1hdGU6ZnVuY3Rpb24obix0LHUsZil7dmFyIHM9aS5pc0VtcHR5T2JqZWN0KG4pLG89aS5zcGVlZCh0LHUsZiksZT1mdW5jdGlvbigpe3ZhciB0PWEodGhpcyxpLmV4dGVuZCh7fSxuKSxvKTsoc3x8ci5nZXQodGhpcywiZmluaXNoIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gZS5maW5pc2g9ZSxzfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGUpOnRoaXMucXVldWUoby5xdWV1ZSxlKX0sc3RvcDpmdW5jdGlvbihuLHQsdSl7dmFyIGY9ZnVuY3Rpb24obil7dmFyIHQ9bi5zdG9wO2RlbGV0ZSBuLnN0b3A7dCh1KX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBuJiYodT10LHQ9bixuPXZvaWQgMCksdCYmITEhPT1uJiZ0aGlzLnF1ZXVlKG58fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzPSEwLHQ9bnVsbCE9biYmbisicXVldWVIb29rcyIsbz1pLnRpbWVycyxlPXIuZ2V0KHRoaXMpO2lmKHQpZVt0XSYmZVt0XS5zdG9wJiZmKGVbdF0pO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiZlW3RdLnN0b3AmJm5mLnRlc3QodCkmJmYoZVt0XSk7Zm9yKHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW0hPT10aGlzfHxudWxsIT1uJiZvW3RdLnF1ZXVlIT09bnx8KG9bdF0uYW5pbS5zdG9wKHUpLHM9ITEsby5zcGxpY2UodCwxKSk7IXMmJnV8fGkuZGVxdWV1ZSh0aGlzLG4pfSl9LGZpbmlzaDpmdW5jdGlvbihuKXtyZXR1cm4hMSE9PW4mJihuPW58fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LGU9ci5nZXQodGhpcyksdT1lW24rInF1ZXVlIl0sbz1lW24rInF1ZXVlSG9va3MiXSxmPWkudGltZXJzLHM9dT91Lmxlbmd0aDowO2ZvcihlLmZpbmlzaD0hMCxpLnF1ZXVlKHRoaXMsbixbXSksbyYmby5zdG9wJiZvLnN0b3AuY2FsbCh0aGlzLCEwKSx0PWYubGVuZ3RoO3QtLTspZlt0XS5lbGVtPT09dGhpcyYmZlt0XS5xdWV1ZT09PW4mJihmW3RdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PHM7dCsrKXVbdF0mJnVbdF0uZmluaXNoJiZ1W3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBlLmZpbmlzaH0pfX0pO2kuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24obix0KXt2YXIgcj1pLmZuW3RdO2kuZm5bdF09ZnVuY3Rpb24obixpLHUpe3JldHVybiBudWxsPT1ufHwiYm9vbGVhbiI9PXR5cGVvZiBuP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShlaSh0LCEwKSxuLGksdSl9fSk7aS5lYWNoKHtzbGlkZURvd246ZWkoInNob3ciKSxzbGlkZVVwOmVpKCJoaWRlIiksc2xpZGVUb2dnbGU6ZWkoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsbixpLHIpfX0pO2kudGltZXJzPVtdO2kuZngudGljaz1mdW5jdGlvbigpe3ZhciByLG49MCx0PWkudGltZXJzO2ZvcihzdD1EYXRlLm5vdygpO248dC5sZW5ndGg7bisrKShyPXRbbl0pKCl8fHRbbl0hPT1yfHx0LnNwbGljZShuLS0sMSk7dC5sZW5ndGh8fGkuZnguc3RvcCgpO3N0PXZvaWQgMH07aS5meC50aW1lcj1mdW5jdGlvbihuKXtpLnRpbWVycy5wdXNoKG4pO2kuZnguc3RhcnQoKX07aS5meC5pbnRlcnZhbD0xMztpLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7Zml8fChmaT0hMCxiaSgpKX07aS5meC5zdG9wPWZ1bmN0aW9uKCl7Zmk9bnVsbH07aS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH07aS5mbi5kZWxheT1mdW5jdGlvbih0LHIpe3JldHVybiB0PWkuZng/aS5meC5zcGVlZHNbdF18fHQ6dCxyPXJ8fCJmeCIsdGhpcy5xdWV1ZShyLGZ1bmN0aW9uKGkscil7dmFyIHU9bi5zZXRUaW1lb3V0KGksdCk7ci5zdG9wPWZ1bmN0aW9uKCl7bi5jbGVhclRpbWVvdXQodSl9fSl9LGZ1bmN0aW9uKCl7dmFyIG49Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHQ9Zi5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChmLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtuLnR5cGU9ImNoZWNrYm94IjtlLmNoZWNrT249IiIhPT1uLnZhbHVlO2Uub3B0U2VsZWN0ZWQ9dC5zZWxlY3RlZDsobj1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IjtuLnR5cGU9InJhZGlvIjtlLnJhZGlvVmFsdWU9InQiPT09bi52YWx1ZX0oKTtodD1pLmV4cHIuYXR0ckhhbmRsZTtpLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihuLHQpe3JldHVybiBwKHRoaXMsaS5hdHRyLG4sdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLnJlbW92ZUF0dHIodGhpcyxuKX0pfX0pO2kuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKG4sdCxyKXt2YXIgZix1LGU9bi5ub2RlVHlwZTtpZigzIT09ZSYmOCE9PWUmJjIhPT1lKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGU/aS5wcm9wKG4sdCxyKTooMT09PWUmJmkuaXNYTUxEb2Mobil8fCh1PWkuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChpLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP3VmOnZvaWQgMCkpLHZvaWQgMCE9PXI/bnVsbD09PXI/dm9pZCBpLnJlbW92ZUF0dHIobix0KTp1JiYic2V0ImluIHUmJnZvaWQgMCE9PShmPXUuc2V0KG4scix0KSk/Zjoobi5zZXRBdHRyaWJ1dGUodCxyKyIiKSxyKTp1JiYiZ2V0ImluIHUmJm51bGwhPT0oZj11LmdldChuLHQpKT9mOm51bGw9PShmPWkuZmluZC5hdHRyKG4sdCkpP3ZvaWQgMDpmKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24obix0KXtpZighZS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmdihuLCJpbnB1dCIpKXt2YXIgaT1uLnZhbHVlO3JldHVybiBuLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksaSYmKG4udmFsdWU9aSksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuLHQpe3ZhciBpLHU9MCxyPXQmJnQubWF0Y2gobCk7aWYociYmMT09PW4ubm9kZVR5cGUpd2hpbGUoaT1yW3UrK10pbi5yZW1vdmVBdHRyaWJ1dGUoaSl9fSk7dWY9e3NldDpmdW5jdGlvbihuLHQscil7cmV0dXJuITE9PT10P2kucmVtb3ZlQXR0cihuLHIpOm4uc2V0QXR0cmlidXRlKHIscikscn19O2kuZWFjaChpLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihuLHQpe3ZhciByPWh0W3RdfHxpLmZpbmQuYXR0cjtodFt0XT1mdW5jdGlvbihuLHQsaSl7dmFyIGYsZSx1PXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gaXx8KGU9aHRbdV0saHRbdV09ZixmPW51bGwhPXIobix0LGkpP3U6bnVsbCxodFt1XT1lKSxmfX0pO2ZmPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7ZWY9L14oPzphfGFyZWEpJC9pO2kuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHAodGhpcyxpLnByb3Asbix0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW2kucHJvcEZpeFtuXXx8bl19KX19KTtpLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihuLHQscil7dmFyIGYsdSxlPW4ubm9kZVR5cGU7aWYoMyE9PWUmJjghPT1lJiYyIT09ZSlyZXR1cm4gMT09PWUmJmkuaXNYTUxEb2Mobil8fCh0PWkucHJvcEZpeFt0XXx8dCx1PWkucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1yP3UmJiJzZXQiaW4gdSYmdm9pZCAwIT09KGY9dS5zZXQobixyLHQpKT9mOm5bdF09cjp1JiYiZ2V0ImluIHUmJm51bGwhPT0oZj11LmdldChuLHQpKT9mOm5bdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihuKXt2YXIgdD1pLmZpbmQuYXR0cihuLCJ0YWJpbmRleCIpO3JldHVybiB0P3BhcnNlSW50KHQsMTApOmZmLnRlc3Qobi5ub2RlTmFtZSl8fGVmLnRlc3Qobi5ub2RlTmFtZSkmJm4uaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pO2Uub3B0U2VsZWN0ZWR8fChpLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PW4ucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSk7aS5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtpLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7aS5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKG4pe3ZhciBvLHQscixmLGUscyxoLGM9MDtpZih1KG4pKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7aSh0aGlzKS5hZGRDbGFzcyhuLmNhbGwodGhpcyx0LG50KHRoaXMpKSl9KTtpZigobz1raShuKSkubGVuZ3RoKXdoaWxlKHQ9dGhpc1tjKytdKWlmKGY9bnQodCkscj0xPT09dC5ub2RlVHlwZSYmIiAiK2coZikrIiAiKXtmb3Iocz0wO2U9b1tzKytdOylyLmluZGV4T2YoIiAiK2UrIiAiKTwwJiYocis9ZSsiICIpO2YhPT0oaD1nKHIpKSYmdC5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obil7dmFyIG8scix0LGYsZSxzLGgsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLnJlbW92ZUNsYXNzKG4uY2FsbCh0aGlzLHQsbnQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKG89a2kobikpLmxlbmd0aCl3aGlsZShyPXRoaXNbYysrXSlpZihmPW50KHIpLHQ9MT09PXIubm9kZVR5cGUmJiIgIitnKGYpKyIgIil7Zm9yKHM9MDtlPW9bcysrXTspd2hpbGUodC5pbmRleE9mKCIgIitlKyIgIik+LTEpdD10LnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7ZiE9PShoPWcodCkpJiZyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGgpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihuLHQpe3ZhciBmPXR5cGVvZiBuLGU9InN0cmluZyI9PT1mfHxBcnJheS5pc0FycmF5KG4pO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmU/dD90aGlzLmFkZENsYXNzKG4pOnRoaXMucmVtb3ZlQ2xhc3Mobik6dShuKT90aGlzLmVhY2goZnVuY3Rpb24ocil7aSh0aGlzKS50b2dnbGVDbGFzcyhuLmNhbGwodGhpcyxyLG50KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbyx1LHM7aWYoZSlmb3Iobz0wLHU9aSh0aGlzKSxzPWtpKG4pO3Q9c1tvKytdOyl1Lmhhc0NsYXNzKHQpP3UucmVtb3ZlQ2xhc3ModCk6dS5hZGRDbGFzcyh0KTtlbHNlIHZvaWQgMCE9PW4mJiJib29sZWFuIiE9PWZ8fCgodD1udCh0aGlzKSkmJnIuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHQpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHR8fCExPT09bj8iIjpyLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24obil7Zm9yKHZhciB0LHI9MCxpPSIgIituKyIgIjt0PXRoaXNbcisrXTspaWYoMT09PXQubm9kZVR5cGUmJigiICIrZyhudCh0KSkrIiAiKS5pbmRleE9mKGkpPi0xKXJldHVybiEwO3JldHVybiExfX0pO29mPS9cci9nO2kuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHQscixlLGY9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT11KG4pLHRoaXMuZWFjaChmdW5jdGlvbihyKXt2YXIgdTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh1PWU/bi5jYWxsKHRoaXMscixpKHRoaXMpLnZhbCgpKTpuKT91PSIiOiJudW1iZXIiPT10eXBlb2YgdT91Kz0iIjpBcnJheS5pc0FycmF5KHUpJiYodT1pLm1hcCh1LGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOm4rIiJ9KSksKHQ9aS52YWxIb29rc1t0aGlzLnR5cGVdfHxpLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsdSwidmFsdWUiKXx8KHRoaXMudmFsdWU9dSkpfSkpOmY/KHQ9aS52YWxIb29rc1tmLnR5cGVdfHxpLnZhbEhvb2tzW2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHQmJnZvaWQgMCE9PShyPXQuZ2V0KGYsInZhbHVlIikpP3I6InN0cmluZyI9PXR5cGVvZihyPWYudmFsdWUpP3IucmVwbGFjZShvZiwiIik6bnVsbD09cj8iIjpyOnZvaWQgMH19KTtpLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpnKGkudGV4dChuKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihuKXtmb3IodmFyIGUsdCxvPW4ub3B0aW9ucyx1PW4uc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PW4udHlwZSxzPWY/bnVsbDpbXSxoPWY/dSsxOm8ubGVuZ3RoLHI9dTwwP2g6Zj91OjA7cjxoO3IrKylpZigoKHQ9b1tyXSkuc2VsZWN0ZWR8fHI9PT11KSYmIXQuZGlzYWJsZWQmJighdC5wYXJlbnROb2RlLmRpc2FibGVkfHwhdih0LnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZihlPWkodCkudmFsKCksZilyZXR1cm4gZTtzLnB1c2goZSl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcix1LGY9bi5vcHRpb25zLGU9aS5tYWtlQXJyYXkodCksbz1mLmxlbmd0aDtvLS07KSgodT1mW29dKS5zZWxlY3RlZD1pLmluQXJyYXkoaS52YWxIb29rcy5vcHRpb24uZ2V0KHUpLGUpPi0xKSYmKHI9ITApO3JldHVybiByfHwobi5zZWxlY3RlZEluZGV4PS0xKSxlfX19fSk7aS5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7aS52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKG4sdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gbi5jaGVja2VkPWkuaW5BcnJheShpKG4pLnZhbCgpLHQpPi0xfX07ZS5jaGVja09ufHwoaS52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PT1uLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOm4udmFsdWV9KX0pO2UuZm9jdXNpbj0ib25mb2N1c2luImluIG47ZGk9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO2dpPWZ1bmN0aW9uKG4pe24uc3RvcFByb3BhZ2F0aW9uKCl9O2kuZXh0ZW5kKGkuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24odCxlLG8scyl7dmFyIGssYyxsLGQsdix5LGEscCx3PVtvfHxmXSxoPWt0LmNhbGwodCwidHlwZSIpP3QudHlwZTp0LGI9a3QuY2FsbCh0LCJuYW1lc3BhY2UiKT90Lm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGM9cD1sPW89b3x8ZiwzIT09by5ub2RlVHlwZSYmOCE9PW8ubm9kZVR5cGUmJiFkaS50ZXN0KGgraS5ldmVudC50cmlnZ2VyZWQpJiYoaC5pbmRleE9mKCIuIik+LTEmJihoPShiPWguc3BsaXQoIi4iKSkuc2hpZnQoKSxiLnNvcnQoKSksdj1oLmluZGV4T2YoIjoiKTwwJiYib24iK2gsdD10W2kuZXhwYW5kb10/dDpuZXcgaS5FdmVudChoLCJvYmplY3QiPT10eXBlb2YgdCYmdCksdC5pc1RyaWdnZXI9cz8yOjMsdC5uYW1lc3BhY2U9Yi5qb2luKCIuIiksdC5ybmFtZXNwYWNlPXQubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCx0LnJlc3VsdD12b2lkIDAsdC50YXJnZXR8fCh0LnRhcmdldD1vKSxlPW51bGw9PWU/W3RdOmkubWFrZUFycmF5KGUsW3RdKSxhPWkuZXZlbnQuc3BlY2lhbFtoXXx8e30sc3x8IWEudHJpZ2dlcnx8ITEhPT1hLnRyaWdnZXIuYXBwbHkobyxlKSkpe2lmKCFzJiYhYS5ub0J1YmJsZSYmIXR0KG8pKXtmb3IoZD1hLmRlbGVnYXRlVHlwZXx8aCxkaS50ZXN0KGQraCl8fChjPWMucGFyZW50Tm9kZSk7YztjPWMucGFyZW50Tm9kZSl3LnB1c2goYyksbD1jO2w9PT0oby5vd25lckRvY3VtZW50fHxmKSYmdy5wdXNoKGwuZGVmYXVsdFZpZXd8fGwucGFyZW50V2luZG93fHxuKX1mb3Ioaz0wOyhjPXdbaysrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KXA9Yyx0LnR5cGU9az4xP2Q6YS5iaW5kVHlwZXx8aCwoeT0oci5nZXQoYywiZXZlbnRzIil8fHt9KVt0LnR5cGVdJiZyLmdldChjLCJoYW5kbGUiKSkmJnkuYXBwbHkoYyxlKSwoeT12JiZjW3ZdKSYmeS5hcHBseSYmbHQoYykmJih0LnJlc3VsdD15LmFwcGx5KGMsZSksITE9PT10LnJlc3VsdCYmdC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gdC50eXBlPWgsc3x8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5fZGVmYXVsdCYmITEhPT1hLl9kZWZhdWx0LmFwcGx5KHcucG9wKCksZSl8fCFsdChvKXx8diYmdShvW2hdKSYmIXR0KG8pJiYoKGw9b1t2XSkmJihvW3ZdPW51bGwpLGkuZXZlbnQudHJpZ2dlcmVkPWgsdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZwLmFkZEV2ZW50TGlzdGVuZXIoaCxnaSksb1toXSgpLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5yZW1vdmVFdmVudExpc3RlbmVyKGgsZ2kpLGkuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxsJiYob1t2XT1sKSksdC5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihuLHQscil7dmFyIHU9aS5leHRlbmQobmV3IGkuRXZlbnQscix7dHlwZTpuLGlzU2ltdWxhdGVkOiEwfSk7aS5ldmVudC50cmlnZ2VyKHUsbnVsbCx0KX19KTtpLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnRyaWdnZXIobix0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpc1swXTtpZihyKXJldHVybiBpLmV2ZW50LnRyaWdnZXIobix0LHIsITApfX0pO2UuZm9jdXNpbnx8aS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHQpe3ZhciB1PWZ1bmN0aW9uKG4pe2kuZXZlbnQuc2ltdWxhdGUodCxuLnRhcmdldCxpLmV2ZW50LmZpeChuKSl9O2kuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZj1yLmFjY2VzcyhpLHQpO2Z8fGkuYWRkRXZlbnRMaXN0ZW5lcihuLHUsITApO3IuYWNjZXNzKGksdCwoZnx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KS0xO2Y/ci5hY2Nlc3MoaSx0LGYpOihpLnJlbW92ZUV2ZW50TGlzdGVuZXIobix1LCEwKSxyLnJlbW92ZShpLHQpKX19fSk7dmFyIHB0PW4ubG9jYXRpb24sc2Y9RGF0ZS5ub3coKSxucj0vXD8vO2kucGFyc2VYTUw9ZnVuY3Rpb24odCl7dmFyIHI7aWYoIXR8fCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gbnVsbDt0cnl7cj0obmV3IG4uRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCwidGV4dC94bWwiKX1jYXRjaChuKXtyPXZvaWQgMH1yZXR1cm4gciYmIXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RofHxpLmVycm9yKCJJbnZhbGlkIFhNTDogIit0KSxyfTt2YXIgaW89L1xbXF0kLyxoZj0vXHI/XG4vZyxybz0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksdW89L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2kucGFyYW09ZnVuY3Rpb24obix0KXt2YXIgcixmPVtdLGU9ZnVuY3Rpb24obix0KXt2YXIgaT11KHQpP3QoKTp0O2ZbZi5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChuKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PWk/IiI6aSl9O2lmKEFycmF5LmlzQXJyYXkobil8fG4uanF1ZXJ5JiYhaS5pc1BsYWluT2JqZWN0KG4pKWkuZWFjaChuLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihyIGluIG4pdHIocixuW3JdLHQsZSk7cmV0dXJuIGYuam9pbigiJiIpfTtpLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGkucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgbj1pLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gbj9pLm1ha2VBcnJheShuKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIG49dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFpKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmdW8udGVzdCh0aGlzLm5vZGVOYW1lKSYmIXJvLnRlc3QobikmJih0aGlzLmNoZWNrZWR8fCFpdS50ZXN0KG4pKX0pLm1hcChmdW5jdGlvbihuLHQpe3ZhciByPWkodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PXI/bnVsbDpBcnJheS5pc0FycmF5KHIpP2kubWFwKHIsZnVuY3Rpb24obil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShoZiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpyLnJlcGxhY2UoaGYsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgZm89LyUyMC9nLGVvPS8jLiokLyxvbz0vKFs/Jl0pXz1bXiZdKi8sc289L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxobz0vXig/OkdFVHxIRUFEKSQvLGNvPS9eXC9cLy8sY2Y9e30saXI9e30sbGY9IiovIi5jb25jYXQoIioiKSxycj1mLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gcnIuaHJlZj1wdC5ocmVmLGkuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpwdC5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KHB0LnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOmxmLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjppLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24obix0KXtyZXR1cm4gdD91cih1cihuLGkuYWpheFNldHRpbmdzKSx0KTp1cihpLmFqYXhTZXR0aW5ncyxuKX0sYWpheFByZWZpbHRlcjphZihjZiksYWpheFRyYW5zcG9ydDphZihpciksYWpheDpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGIodCxyLGYsYyl7dmFyIHYscnQsYixwLGcsbD1yO3N8fChzPSEwLGQmJm4uY2xlYXJUaW1lb3V0KGQpLGE9dm9pZCAwLGs9Y3x8IiIsZS5yZWFkeVN0YXRlPXQ+MD80OjAsdj10Pj0yMDAmJnQ8MzAwfHwzMDQ9PT10LGYmJihwPWxvKHUsZSxmKSkscD1hbyh1LHAsZSx2KSx2Pyh1LmlmTW9kaWZpZWQmJigoZz1lLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoaS5sYXN0TW9kaWZpZWRbb109ZyksKGc9ZS5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGkuZXRhZ1tvXT1nKSksMjA0PT09dHx8IkhFQUQiPT09dS50eXBlP2w9Im5vY29udGVudCI6MzA0PT09dD9sPSJub3Rtb2RpZmllZCI6KGw9cC5zdGF0ZSxydD1wLmRhdGEsdj0hKGI9cC5lcnJvcikpKTooYj1sLCF0JiZsfHwobD0iZXJyb3IiLHQ8MCYmKHQ9MCkpKSxlLnN0YXR1cz10LGUuc3RhdHVzVGV4dD0ocnx8bCkrIiIsdj90dC5yZXNvbHZlV2l0aChoLFtydCxsLGVdKTp0dC5yZWplY3RXaXRoKGgsW2UsbCxiXSksZS5zdGF0dXNDb2RlKHcpLHc9dm9pZCAwLHkmJm50LnRyaWdnZXIodj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtlLHUsdj9ydDpiXSksaXQuZmlyZVdpdGgoaCxbZSxsXSkseSYmKG50LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW2UsdV0pLC0taS5hY3RpdmV8fGkuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfSJvYmplY3QiPT10eXBlb2YgdCYmKHI9dCx0PXZvaWQgMCk7cj1yfHx7fTt2YXIgYSxvLGssdixkLGMscyx5LGcscCx1PWkuYWpheFNldHVwKHt9LHIpLGg9dS5jb250ZXh0fHx1LG50PXUuY29udGV4dCYmKGgubm9kZVR5cGV8fGguanF1ZXJ5KT9pKGgpOmkuZXZlbnQsdHQ9aS5EZWZlcnJlZCgpLGl0PWkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHc9dS5zdGF0dXNDb2RlfHx7fSxydD17fSx1dD17fSxmdD0iY2FuY2VsZWQiLGU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihuKXt2YXIgdDtpZihzKXtpZighdilmb3Iodj17fTt0PXNvLmV4ZWMoayk7KXZbdFsxXS50b0xvd2VyQ2FzZSgpXT10WzJdO3Q9dltuLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT10P251bGw6dH0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHM/azpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXMmJihuPXV0W24udG9Mb3dlckNhc2UoKV09dXRbbi50b0xvd2VyQ2FzZSgpXXx8bixydFtuXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1zJiYodS5taW1lVHlwZT1uKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKG4pe3ZhciB0O2lmKG4paWYocyllLmFsd2F5cyhuW2Uuc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBuKXdbdF09W3dbdF0sblt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKG4pe3ZhciB0PW58fGZ0O3JldHVybiBhJiZhLmFib3J0KHQpLGIoMCx0KSx0aGlzfX07aWYodHQucHJvbWlzZShlKSx1LnVybD0oKHR8fHUudXJsfHxwdC5ocmVmKSsiIikucmVwbGFjZShjbyxwdC5wcm90b2NvbCsiLy8iKSx1LnR5cGU9ci5tZXRob2R8fHIudHlwZXx8dS5tZXRob2R8fHUudHlwZSx1LmRhdGFUeXBlcz0odS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGwpfHxbIiJdLG51bGw9PXUuY3Jvc3NEb21haW4pe2M9Zi5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2MuaHJlZj11LnVybDtjLmhyZWY9Yy5ocmVmO3UuY3Jvc3NEb21haW49cnIucHJvdG9jb2wrIi8vIityci5ob3N0IT1jLnByb3RvY29sKyIvLyIrYy5ob3N0fWNhdGNoKG4pe3UuY3Jvc3NEb21haW49ITB9fWlmKHUuZGF0YSYmdS5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB1LmRhdGEmJih1LmRhdGE9aS5wYXJhbSh1LmRhdGEsdS50cmFkaXRpb25hbCkpLHZmKGNmLHUscixlKSxzKXJldHVybiBlOyh5PWkuZXZlbnQmJnUuZ2xvYmFsKSYmMD09aS5hY3RpdmUrKyYmaS5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTt1LnR5cGU9dS50eXBlLnRvVXBwZXJDYXNlKCk7dS5oYXNDb250ZW50PSFoby50ZXN0KHUudHlwZSk7bz11LnVybC5yZXBsYWNlKGVvLCIiKTt1Lmhhc0NvbnRlbnQ/dS5kYXRhJiZ1LnByb2Nlc3NEYXRhJiYwPT09KHUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKHUuZGF0YT11LmRhdGEucmVwbGFjZShmbywiKyIpKToocD11LnVybC5zbGljZShvLmxlbmd0aCksdS5kYXRhJiYodS5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiB1LmRhdGEpJiYobys9KG5yLnRlc3Qobyk/IiYiOiI/IikrdS5kYXRhLGRlbGV0ZSB1LmRhdGEpLCExPT09dS5jYWNoZSYmKG89by5yZXBsYWNlKG9vLCIkMSIpLHA9KG5yLnRlc3Qobyk/IiYiOiI/IikrIl89IitzZisrK3ApLHUudXJsPW8rcCk7dS5pZk1vZGlmaWVkJiYoaS5sYXN0TW9kaWZpZWRbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGkubGFzdE1vZGlmaWVkW29dKSxpLmV0YWdbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsaS5ldGFnW29dKSk7KHUuZGF0YSYmdS5oYXNDb250ZW50JiYhMSE9PXUuY29udGVudFR5cGV8fHIuY29udGVudFR5cGUpJiZlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdS5jb250ZW50VHlwZSk7ZS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHUuZGF0YVR5cGVzWzBdJiZ1LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dP3UuYWNjZXB0c1t1LmRhdGFUeXBlc1swXV0rKCIqIiE9PXUuZGF0YVR5cGVzWzBdPyIsICIrbGYrIjsgcT0wLjAxIjoiIik6dS5hY2NlcHRzWyIqIl0pO2ZvcihnIGluIHUuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIoZyx1LmhlYWRlcnNbZ10pO2lmKHUuYmVmb3JlU2VuZCYmKCExPT09dS5iZWZvcmVTZW5kLmNhbGwoaCxlLHUpfHxzKSlyZXR1cm4gZS5hYm9ydCgpO2lmKGZ0PSJhYm9ydCIsaXQuYWRkKHUuY29tcGxldGUpLGUuZG9uZSh1LnN1Y2Nlc3MpLGUuZmFpbCh1LmVycm9yKSxhPXZmKGlyLHUscixlKSl7aWYoZS5yZWFkeVN0YXRlPTEseSYmbnQudHJpZ2dlcigiYWpheFNlbmQiLFtlLHVdKSxzKXJldHVybiBlO3UuYXN5bmMmJnUudGltZW91dD4wJiYoZD1uLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmFib3J0KCJ0aW1lb3V0Iil9LHUudGltZW91dCkpO3RyeXtzPSExO2Euc2VuZChydCxiKX1jYXRjaChuKXtpZihzKXRocm93IG47YigtMSxuKX19ZWxzZSBiKC0xLCJObyBUcmFuc3BvcnQiKTtyZXR1cm4gZX0sZ2V0SlNPTjpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkuZ2V0KG4sdCxyLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihuLHQpe3JldHVybiBpLmdldChuLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxpLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24obix0KXtpW3RdPWZ1bmN0aW9uKG4scixmLGUpe3JldHVybiB1KHIpJiYoZT1lfHxmLGY9cixyPXZvaWQgMCksaS5hamF4KGkuZXh0ZW5kKHt1cmw6bix0eXBlOnQsZGF0YVR5cGU6ZSxkYXRhOnIsc3VjY2VzczpmfSxpLmlzUGxhaW5PYmplY3QobikmJm4pKX19KSxpLl9ldmFsVXJsPWZ1bmN0aW9uKG4pe3JldHVybiBpLmFqYXgoe3VybDpuLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLHRocm93czohMH0pfSxpLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKHUobikmJihuPW4uY2FsbCh0aGlzWzBdKSksdD1pKG4sdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzO24uZmlyc3RFbGVtZW50Q2hpbGQ7KW49bi5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gbn0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiB1KG4pP3RoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyx0KSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1pKHRoaXMpLHI9dC5jb250ZW50cygpO3IubGVuZ3RoP3Iud3JhcEFsbChuKTp0LmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKG4pe3ZhciB0PXUobik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLndyYXBBbGwodD9uLmNhbGwodGhpcyxyKTpuKX0pfSx1bndyYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucGFyZW50KG4pLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtpKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLGkuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihuKXtyZXR1cm4haS5leHByLnBzZXVkb3MudmlzaWJsZShuKX0saS5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihuKXtyZXR1cm4hIShuLm9mZnNldFdpZHRofHxuLm9mZnNldEhlaWdodHx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGkuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IG4uWE1MSHR0cFJlcXVlc3R9Y2F0Y2gobil7fX0seWY9ezA6MjAwLDEyMjM6MjA0fSxjdD1pLmFqYXhTZXR0aW5ncy54aHIoKSxlLmNvcnM9ISFjdCYmIndpdGhDcmVkZW50aWFscyJpbiBjdCxlLmFqYXg9Y3Q9ISFjdCxpLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24odCl7dmFyIGkscjtpZihlLmNvcnN8fGN0JiYhdC5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbih1LGYpe3ZhciBvLGU9dC54aHIoKTtpZihlLm9wZW4odC50eXBlLHQudXJsLHQuYXN5bmMsdC51c2VybmFtZSx0LnBhc3N3b3JkKSx0LnhockZpZWxkcylmb3IobyBpbiB0LnhockZpZWxkcyllW29dPXQueGhyRmllbGRzW29dO3QubWltZVR5cGUmJmUub3ZlcnJpZGVNaW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlKHQubWltZVR5cGUpO3QuY3Jvc3NEb21haW58fHVbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KHVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IobyBpbiB1KWUuc2V0UmVxdWVzdEhlYWRlcihvLHVbb10pO2k9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7aSYmKGk9cj1lLm9ubG9hZD1lLm9uZXJyb3I9ZS5vbmFib3J0PWUub250aW1lb3V0PWUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PW4/ZS5hYm9ydCgpOiJlcnJvciI9PT1uPyJudW1iZXIiIT10eXBlb2YgZS5zdGF0dXM/ZigwLCJlcnJvciIpOmYoZS5zdGF0dXMsZS5zdGF0dXNUZXh0KTpmKHlmW2Uuc3RhdHVzXXx8ZS5zdGF0dXMsZS5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShlLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBlLnJlc3BvbnNlVGV4dD97YmluYXJ5OmUucmVzcG9uc2V9Ont0ZXh0OmUucmVzcG9uc2VUZXh0fSxlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fTtlLm9ubG9hZD1pKCk7cj1lLm9uZXJyb3I9ZS5vbnRpbWVvdXQ9aSgiZXJyb3IiKTt2b2lkIDAhPT1lLm9uYWJvcnQ/ZS5vbmFib3J0PXI6ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09ZS5yZWFkeVN0YXRlJiZuLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpJiZyKCl9KX07aT1pKCJhYm9ydCIpO3RyeXtlLnNlbmQodC5oYXNDb250ZW50JiZ0LmRhdGF8fG51bGwpfWNhdGNoKG4pe2lmKGkpdGhyb3cgbjt9fSxhYm9ydDpmdW5jdGlvbigpe2kmJmkoKX19fSksaS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKG4pe24uY3Jvc3NEb21haW4mJihuLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxpLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihuKXtyZXR1cm4gaS5nbG9iYWxFdmFsKG4pLG59fX0pLGkuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihuKXt2b2lkIDA9PT1uLmNhY2hlJiYobi5jYWNoZT0hMSk7bi5jcm9zc0RvbWFpbiYmKG4udHlwZT0iR0VUIil9KSxpLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7aWYobi5jcm9zc0RvbWFpbil7dmFyIHIsdDtyZXR1cm57c2VuZDpmdW5jdGlvbih1LGUpe3I9aSgiPHNjcmlwdD4iKS5wcm9wKHtjaGFyc2V0Om4uc2NyaXB0Q2hhcnNldCxzcmM6bi51cmx9KS5vbigibG9hZCBlcnJvciIsdD1mdW5jdGlvbihuKXtyLnJlbW92ZSgpO3Q9bnVsbDtuJiZlKCJlcnJvciI9PT1uLnR5cGU/NDA0OjIwMCxuLnR5cGUpfSk7Zi5oZWFkLmFwcGVuZENoaWxkKHJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe3QmJnQoKX19fX0pLGZyPVtdLG9pPS8oPSlcPyg/PSZ8JCl8XD9cPy8saS5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBuPWZyLnBvcCgpfHxpLmV4cGFuZG8rIl8iK3NmKys7cmV0dXJuIHRoaXNbbl09ITAsbn19KSxpLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHQscixmKXt2YXIgZSxvLHMsaD0hMSE9PXQuanNvbnAmJihvaS50ZXN0KHQudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIHQuZGF0YSYmMD09PSh0LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJm9pLnRlc3QodC5kYXRhKSYmImRhdGEiKTtpZihofHwianNvbnAiPT09dC5kYXRhVHlwZXNbMF0pcmV0dXJuIGU9dC5qc29ucENhbGxiYWNrPXUodC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2ssaD90W2hdPXRbaF0ucmVwbGFjZShvaSwiJDEiK2UpOiExIT09dC5qc29ucCYmKHQudXJsKz0obnIudGVzdCh0LnVybCk/IiYiOiI/IikrdC5qc29ucCsiPSIrZSksdC5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIHN8fGkuZXJyb3IoZSsiIHdhcyBub3QgY2FsbGVkIiksc1swXX0sdC5kYXRhVHlwZXNbMF09Impzb24iLG89bltlXSxuW2VdPWZ1bmN0aW9uKCl7cz1hcmd1bWVudHN9LGYuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09bz9pKG4pLnJlbW92ZVByb3AoZSk6bltlXT1vO3RbZV0mJih0Lmpzb25wQ2FsbGJhY2s9ci5qc29ucENhbGxiYWNrLGZyLnB1c2goZSkpO3MmJnUobykmJm8oc1swXSk7cz1vPXZvaWQgMH0pLCJzY3JpcHQifSksZS5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgbj1mLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gbi5pbm5lckhUTUw9Ijxmb3JtPjxcL2Zvcm0+PGZvcm0+PFwvZm9ybT4iLDI9PT1uLmNoaWxkTm9kZXMubGVuZ3RofSgpLGkucGFyc2VIVE1MPWZ1bmN0aW9uKG4sdCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuW107ImJvb2xlYW4iPT10eXBlb2YgdCYmKHI9dCx0PSExKTt2YXIgcyx1LG87cmV0dXJuIHR8fChlLmNyZWF0ZUhUTUxEb2N1bWVudD8oKHM9KHQ9Zi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpKS5jcmVhdGVFbGVtZW50KCJiYXNlIikpLmhyZWY9Zi5sb2NhdGlvbi5ocmVmLHQuaGVhZC5hcHBlbmRDaGlsZChzKSk6dD1mKSx1PWNpLmV4ZWMobiksbz0hciYmW10sdT9bdC5jcmVhdGVFbGVtZW50KHVbMV0pXToodT1ldShbbl0sdCxvKSxvJiZvLmxlbmd0aCYmaShvKS5yZW1vdmUoKSxpLm1lcmdlKFtdLHUuY2hpbGROb2RlcykpfSxpLmZuLmxvYWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmLHMsaCxlPXRoaXMsbz1uLmluZGV4T2YoIiAiKTtyZXR1cm4gbz4tMSYmKGY9ZyhuLnNsaWNlKG8pKSxuPW4uc2xpY2UoMCxvKSksdSh0KT8ocj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihzPSJQT1NUIiksZS5sZW5ndGg+MCYmaS5hamF4KHt1cmw6bix0eXBlOnN8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKG4pe2g9YXJndW1lbnRzO2UuaHRtbChmP2koIjxkaXY+IikuYXBwZW5kKGkucGFyc2VIVE1MKG4pKS5maW5kKGYpOm4pfSkuYWx3YXlzKHImJmZ1bmN0aW9uKG4sdCl7ZS5lYWNoKGZ1bmN0aW9uKCl7ci5hcHBseSh0aGlzLGh8fFtuLnJlc3BvbnNlVGV4dCx0LG5dKX0pfSksdGhpc30saS5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9uKHQsbil9fSksaS5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIGkuZ3JlcChpLnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gbj09PXQuZWxlbX0pLmxlbmd0aH0saS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihuLHQscil7dmFyIHYsbyxzLGgsZixjLHksbD1pLmNzcyhuLCJwb3NpdGlvbiIpLGE9aShuKSxlPXt9OyJzdGF0aWMiPT09bCYmKG4uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7Zj1hLm9mZnNldCgpO3M9aS5jc3MobiwidG9wIik7Yz1pLmNzcyhuLCJsZWZ0Iik7KHk9KCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJihzK2MpLmluZGV4T2YoImF1dG8iKT4tMSk/KGg9KHY9YS5wb3NpdGlvbigpKS50b3Asbz12LmxlZnQpOihoPXBhcnNlRmxvYXQocyl8fDAsbz1wYXJzZUZsb2F0KGMpfHwwKTt1KHQpJiYodD10LmNhbGwobixyLGkuZXh0ZW5kKHt9LGYpKSk7bnVsbCE9dC50b3AmJihlLnRvcD10LnRvcC1mLnRvcCtoKTtudWxsIT10LmxlZnQmJihlLmxlZnQ9dC5sZWZ0LWYubGVmdCtvKTsidXNpbmciaW4gdD90LnVzaW5nLmNhbGwobixlKTphLmNzcyhlKX19LGkuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24obil7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09bj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbih0KXtpLm9mZnNldC5zZXRPZmZzZXQodGhpcyxuLHQpfSk7dmFyIHIsdSx0PXRoaXNbMF07aWYodClyZXR1cm4gdC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8ocj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ci50b3ArdS5wYWdlWU9mZnNldCxsZWZ0OnIubGVmdCt1LnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH19LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIG4scix1LHQ9dGhpc1swXSxmPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1pLmNzcyh0LCJwb3NpdGlvbiIpKXI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle2ZvcihyPXRoaXMub2Zmc2V0KCksdT10Lm93bmVyRG9jdW1lbnQsbj10Lm9mZnNldFBhcmVudHx8dS5kb2N1bWVudEVsZW1lbnQ7biYmKG49PT11LmJvZHl8fG49PT11LmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09aS5jc3MobiwicG9zaXRpb24iKTspbj1uLnBhcmVudE5vZGU7biYmbiE9PXQmJjE9PT1uLm5vZGVUeXBlJiYoKGY9aShuKS5vZmZzZXQoKSkudG9wKz1pLmNzcyhuLCJib3JkZXJUb3BXaWR0aCIsITApLGYubGVmdCs9aS5jc3MobiwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpfXJldHVybnt0b3A6ci50b3AtZi50b3AtaS5jc3ModCwibWFyZ2luVG9wIiwhMCksbGVmdDpyLmxlZnQtZi5sZWZ0LWkuY3NzKHQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIG49dGhpcy5vZmZzZXRQYXJlbnQ7biYmInN0YXRpYyI9PT1pLmNzcyhuLCJwb3NpdGlvbiIpOyluPW4ub2Zmc2V0UGFyZW50O3JldHVybiBufHxpaX0pfX0pLGkuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihuLHQpe3ZhciByPSJwYWdlWU9mZnNldCI9PT10O2kuZm5bbl09ZnVuY3Rpb24oaSl7cmV0dXJuIHAodGhpcyxmdW5jdGlvbihuLGksdSl7dmFyIGY7aWYodHQobik/Zj1uOjk9PT1uLm5vZGVUeXBlJiYoZj1uLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT11KXJldHVybiBmP2ZbdF06bltpXTtmP2Yuc2Nyb2xsVG8ocj9mLnBhZ2VYT2Zmc2V0OnUscj91OmYucGFnZVlPZmZzZXQpOm5baV09dX0sbixpLGFyZ3VtZW50cy5sZW5ndGgpfX0pLGkuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihuLHQpe2kuY3NzSG9va3NbdF09YXUoZS5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKG4scil7aWYocilyZXR1cm4gcj15dChuLHQpLHBpLnRlc3Qocik/aShuKS5wb3NpdGlvbigpW3RdKyJweCI6cn0pfSksaS5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24obix0KXtpLmVhY2goe3BhZGRpbmc6ImlubmVyIituLGNvbnRlbnQ6dCwiIjoib3V0ZXIiK259LGZ1bmN0aW9uKHIsdSl7aS5mblt1XT1mdW5jdGlvbihmLGUpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihyfHwiYm9vbGVhbiIhPXR5cGVvZiBmKSxzPXJ8fCghMD09PWZ8fCEwPT09ZT8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIHAodGhpcyxmdW5jdGlvbih0LHIsZil7dmFyIGU7cmV0dXJuIHR0KHQpPzA9PT11LmluZGV4T2YoIm91dGVyIik/dFsiaW5uZXIiK25dOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK25dOjk9PT10Lm5vZGVUeXBlPyhlPXQuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KHQuYm9keVsic2Nyb2xsIituXSxlWyJzY3JvbGwiK25dLHQuYm9keVsib2Zmc2V0IituXSxlWyJvZmZzZXQiK25dLGVbImNsaWVudCIrbl0pKTp2b2lkIDA9PT1mP2kuY3NzKHQscixzKTppLnN0eWxlKHQscixmLHMpfSx0LG8/Zjp2b2lkIDAsbyl9fSl9KSxpLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4saSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKHQsbnVsbCxuLGkpOnRoaXMudHJpZ2dlcih0KX19KSxpLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKG4pLm1vdXNlbGVhdmUodHx8bil9fSksaS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9uKG4sbnVsbCx0LGkpfSx1bmJpbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vZmYobixudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5vbih0LG4saSxyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKG4sIioqIik6dGhpcy5vZmYodCxufHwiKioiLGkpfX0pLGkucHJveHk9ZnVuY3Rpb24obix0KXt2YXIgZixlLHI7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYoZj1uW3RdLHQ9bixuPWYpLHUobikpcmV0dXJuIGU9ZC5jYWxsKGFyZ3VtZW50cywyKSxyPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodHx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxyLmd1aWQ9bi5ndWlkPW4uZ3VpZHx8aS5ndWlkKysscn0saS5ob2xkUmVhZHk9ZnVuY3Rpb24obil7bj9pLnJlYWR5V2FpdCsrOmkucmVhZHkoITApfSxpLmlzQXJyYXk9QXJyYXkuaXNBcnJheSxpLnBhcnNlSlNPTj1KU09OLnBhcnNlLGkubm9kZU5hbWU9dixpLmlzRnVuY3Rpb249dSxpLmlzV2luZG93PXR0LGkuY2FtZWxDYXNlPXksaS50eXBlPWl0LGkubm93PURhdGUubm93LGkuaXNOdW1lcmljPWZ1bmN0aW9uKG4pe3ZhciB0PWkudHlwZShuKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4obi1wYXJzZUZsb2F0KG4pKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSxwZj1uLmpRdWVyeSx3Zj1uLiQsaS5ub0NvbmZsaWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuLiQ9PT1pJiYobi4kPXdmKSx0JiZuLmpRdWVyeT09PWkmJihuLmpRdWVyeT1wZiksaX0sdHx8KG4ualF1ZXJ5PW4uJD1pKSxpfSk7Ci8qIQogKiBqUXVlcnkgYmxvY2tVSSBwbHVnaW4KICogVmVyc2lvbiAyLjcwLjAtMjAxNC4xMS4yMwogKiBSZXF1aXJlcyBqUXVlcnkgdjEuNyBvciBsYXRlcgogKgogKiBFeGFtcGxlcyBhdDogaHR0cDovL21hbHN1cC5jb20vanF1ZXJ5L2Jsb2NrLwogKiBDb3B5cmlnaHQgKGMpIDIwMDctMjAxMyBNLiBBbHN1cAogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlczoKICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAKICogaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sCiAqCiAqIFRoYW5rcyB0byBBbWlyLUhvc3NlaW4gU29iaGkgZm9yIHNvbWUgZXhjZWxsZW50IGNvbnRyaWJ1dGlvbnMhCiAqLwooZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihuKXtmdW5jdGlvbiBzKHMsaCl7dmFyIHJ0LHV0LHA9cz09d2luZG93LGw9aCYmaC5tZXNzYWdlIT09dW5kZWZpbmVkP2gubWVzc2FnZTp1bmRlZmluZWQsZyxrLGQsdHQsbnQsdyxiLGl0LGZ0LGV0LGF0O2lmKGg9bi5leHRlbmQoe30sbi5ibG9ja1VJLmRlZmF1bHRzLGh8fHt9KSwhaC5pZ25vcmVJZkJsb2NrZWR8fCFuKHMpLmRhdGEoImJsb2NrVUkuaXNCbG9ja2VkIikpe2lmKGgub3ZlcmxheUNTUz1uLmV4dGVuZCh7fSxuLmJsb2NrVUkuZGVmYXVsdHMub3ZlcmxheUNTUyxoLm92ZXJsYXlDU1N8fHt9KSxydD1uLmV4dGVuZCh7fSxuLmJsb2NrVUkuZGVmYXVsdHMuY3NzLGguY3NzfHx7fSksaC5vbk92ZXJsYXlDbGljayYmKGgub3ZlcmxheUNTUy5jdXJzb3I9InBvaW50ZXIiKSx1dD1uLmV4dGVuZCh7fSxuLmJsb2NrVUkuZGVmYXVsdHMudGhlbWVkQ1NTLGgudGhlbWVkQ1NTfHx7fSksbD1sPT09dW5kZWZpbmVkP2gubWVzc2FnZTpsLHAmJnQmJmUod2luZG93LHtmYWRlT3V0OjB9KSxsJiZ0eXBlb2YgbCE9InN0cmluZyImJihsLnBhcmVudE5vZGV8fGwuanF1ZXJ5KSYmKGc9bC5qcXVlcnk/bFswXTpsLGs9e30sbihzKS5kYXRhKCJibG9ja1VJLmhpc3RvcnkiLGspLGsuZWw9ZyxrLnBhcmVudD1nLnBhcmVudE5vZGUsay5kaXNwbGF5PWcuc3R5bGUuZGlzcGxheSxrLnBvc2l0aW9uPWcuc3R5bGUucG9zaXRpb24say5wYXJlbnQmJmsucGFyZW50LnJlbW92ZUNoaWxkKGcpKSxuKHMpLmRhdGEoImJsb2NrVUkub25VbmJsb2NrIixoLm9uVW5ibG9jayksZD1oLmJhc2VaLHR0PWZ8fGguZm9yY2VJZnJhbWU/bignPGlmcmFtZSBjbGFzcz0iYmxvY2tVSSIgc3R5bGU9InotaW5kZXg6JytkKysrJztkaXNwbGF5Om5vbmU7Ym9yZGVyOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7dG9wOjA7bGVmdDowIiBzcmM9IicraC5pZnJhbWVTcmMrJyI+PFwvaWZyYW1lPicpOm4oJzxkaXYgY2xhc3M9ImJsb2NrVUkiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjxcL2Rpdj4nKSxudD1oLnRoZW1lP24oJzxkaXYgY2xhc3M9ImJsb2NrVUkgYmxvY2tPdmVybGF5IHVpLXdpZGdldC1vdmVybGF5IiBzdHlsZT0iei1pbmRleDonK2QrKysnO2Rpc3BsYXk6bm9uZSI+PFwvZGl2PicpOm4oJzxkaXYgY2xhc3M9ImJsb2NrVUkgYmxvY2tPdmVybGF5IiBzdHlsZT0iei1pbmRleDonK2QrKysnO2Rpc3BsYXk6bm9uZTtib3JkZXI6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtsZWZ0OjAiPjxcL2Rpdj4nKSxoLnRoZW1lJiZwPyhiPSc8ZGl2IGNsYXNzPSJibG9ja1VJICcraC5ibG9ja01zZ0NsYXNzKycgYmxvY2tQYWdlIHVpLWRpYWxvZyB1aS13aWRnZXQgdWktY29ybmVyLWFsbCIgc3R5bGU9InotaW5kZXg6JysoZCsxMCkrJztkaXNwbGF5Om5vbmU7cG9zaXRpb246Zml4ZWQiPicsaC50aXRsZSYmKGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtaGVhZGVyIHVpLWRpYWxvZy10aXRsZWJhciB1aS1jb3JuZXItYWxsIGJsb2NrVGl0bGUiPicrKGgudGl0bGV8fCImbmJzcDsiKSsiPFwvZGl2PiIpLGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtY29udGVudCB1aS1kaWFsb2ctY29udGVudCI+PFwvZGl2PicsYis9IjxcL2Rpdj4iKTpoLnRoZW1lPyhiPSc8ZGl2IGNsYXNzPSJibG9ja1VJICcraC5ibG9ja01zZ0NsYXNzKycgYmxvY2tFbGVtZW50IHVpLWRpYWxvZyB1aS13aWRnZXQgdWktY29ybmVyLWFsbCIgc3R5bGU9InotaW5kZXg6JysoZCsxMCkrJztkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGUiPicsaC50aXRsZSYmKGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtaGVhZGVyIHVpLWRpYWxvZy10aXRsZWJhciB1aS1jb3JuZXItYWxsIGJsb2NrVGl0bGUiPicrKGgudGl0bGV8fCImbmJzcDsiKSsiPFwvZGl2PiIpLGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtY29udGVudCB1aS1kaWFsb2ctY29udGVudCI+PFwvZGl2PicsYis9IjxcL2Rpdj4iKTpiPXA/JzxkaXYgY2xhc3M9ImJsb2NrVUkgJytoLmJsb2NrTXNnQ2xhc3MrJyBibG9ja1BhZ2UiIHN0eWxlPSJ6LWluZGV4OicrKGQrMTApKyc7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmZpeGVkIj48XC9kaXY+JzonPGRpdiBjbGFzcz0iYmxvY2tVSSAnK2guYmxvY2tNc2dDbGFzcysnIGJsb2NrRWxlbWVudCIgc3R5bGU9InotaW5kZXg6JysoZCsxMCkrJztkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGUiPjxcL2Rpdj4nLHc9bihiKSxsJiYoaC50aGVtZT8ody5jc3ModXQpLHcuYWRkQ2xhc3MoInVpLXdpZGdldC1jb250ZW50IikpOncuY3NzKHJ0KSksaC50aGVtZXx8bnQuY3NzKGgub3ZlcmxheUNTUyksbnQuY3NzKCJwb3NpdGlvbiIscD8iZml4ZWQiOiJhYnNvbHV0ZSIpLChmfHxoLmZvcmNlSWZyYW1lKSYmdHQuY3NzKCJvcGFjaXR5IiwwKSxpdD1bdHQsbnQsd10sZnQ9cD9uKCJib2R5Iik6bihzKSxuLmVhY2goaXQsZnVuY3Rpb24oKXt0aGlzLmFwcGVuZFRvKGZ0KX0pLGgudGhlbWUmJmguZHJhZ2dhYmxlJiZuLmZuLmRyYWdnYWJsZSYmdy5kcmFnZ2FibGUoe2hhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY2FuY2VsOiJsaSJ9KSxldD12JiYoIW4uc3VwcG9ydC5ib3hNb2RlbHx8bigib2JqZWN0LGVtYmVkIixwP251bGw6cykubGVuZ3RoPjApLG98fGV0KXtpZihwJiZoLmFsbG93Qm9keVN0cmV0Y2gmJm4uc3VwcG9ydC5ib3hNb2RlbCYmbigiaHRtbCxib2R5IikuY3NzKCJoZWlnaHQiLCIxMDAlIiksKG98fCFuLnN1cHBvcnQuYm94TW9kZWwpJiYhcCl2YXIgb3Q9cihzLCJib3JkZXJUb3BXaWR0aCIpLHN0PXIocywiYm9yZGVyTGVmdFdpZHRoIiksaHQ9b3Q/IigwIC0gIitvdCsiKSI6MCxjdD1zdD8iKDAgLSAiK3N0KyIpIjowO24uZWFjaChpdCxmdW5jdGlvbihuLHQpe3ZhciBpPXRbMF0uc3R5bGUscix1O2kucG9zaXRpb249ImFic29sdXRlIjtuPDI/KHA/aS5zZXRFeHByZXNzaW9uKCJoZWlnaHQiLCJNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQpIC0gKGpRdWVyeS5zdXBwb3J0LmJveE1vZGVsPzA6IitoLnF1aXJrc21vZGVPZmZzZXRIYWNrKycpICsgInB4IicpOmkuc2V0RXhwcmVzc2lvbigiaGVpZ2h0IiwndGhpcy5wYXJlbnROb2RlLm9mZnNldEhlaWdodCArICJweCInKSxwP2kuc2V0RXhwcmVzc2lvbigid2lkdGgiLCdqUXVlcnkuc3VwcG9ydC5ib3hNb2RlbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCArICJweCInKTppLnNldEV4cHJlc3Npb24oIndpZHRoIiwndGhpcy5wYXJlbnROb2RlLm9mZnNldFdpZHRoICsgInB4IicpLGN0JiZpLnNldEV4cHJlc3Npb24oImxlZnQiLGN0KSxodCYmaS5zZXRFeHByZXNzaW9uKCJ0b3AiLGh0KSk6aC5jZW50ZXJZPyhwJiZpLnNldEV4cHJlc3Npb24oInRvcCIsJyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSAvIDIgLSAodGhpcy5vZmZzZXRIZWlnaHQgLyAyKSArIChibGFoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgKyAicHgiJyksaS5tYXJnaW5Ub3A9MCk6IWguY2VudGVyWSYmcCYmKHI9aC5jc3MmJmguY3NzLnRvcD9wYXJzZUludChoLmNzcy50b3AsMTApOjAsdT0iKChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSArICIrcisnKSArICJweCInLGkuc2V0RXhwcmVzc2lvbigidG9wIix1KSl9KX1pZihsJiYoaC50aGVtZT93LmZpbmQoIi51aS13aWRnZXQtY29udGVudCIpLmFwcGVuZChsKTp3LmFwcGVuZChsKSwobC5qcXVlcnl8fGwubm9kZVR5cGUpJiZuKGwpLnNob3coKSksKGZ8fGguZm9yY2VJZnJhbWUpJiZoLnNob3dPdmVybGF5JiZ0dC5zaG93KCksaC5mYWRlSW4pe3ZhciBsdD1oLm9uQmxvY2s/aC5vbkJsb2NrOnUsdnQ9aC5zaG93T3ZlcmxheSYmIWw/bHQ6dSx5dD1sP2x0OnU7aC5zaG93T3ZlcmxheSYmbnQuX2ZhZGVJbihoLmZhZGVJbix2dCk7bCYmdy5fZmFkZUluKGguZmFkZUluLHl0KX1lbHNlIGguc2hvd092ZXJsYXkmJm50LnNob3coKSxsJiZ3LnNob3coKSxoLm9uQmxvY2smJmgub25CbG9jay5iaW5kKHcpKCk7YygxLHMsaCk7cD8odD13WzBdLGk9bihoLmZvY3VzYWJsZUVsZW1lbnRzLHQpLGguZm9jdXNJbnB1dCYmc2V0VGltZW91dChhLDIwKSk6eSh3WzBdLGguY2VudGVyWCxoLmNlbnRlclkpO2gudGltZW91dCYmKGF0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtwP24udW5ibG9ja1VJKGgpOm4ocykudW5ibG9jayhoKX0saC50aW1lb3V0KSxuKHMpLmRhdGEoImJsb2NrVUkudGltZW91dCIsYXQpKX19ZnVuY3Rpb24gZShyLHUpe3ZhciBvLHM9cj09d2luZG93LGU9bihyKSxsPWUuZGF0YSgiYmxvY2tVSS5oaXN0b3J5IiksYT1lLmRhdGEoImJsb2NrVUkudGltZW91dCIpLGY7YSYmKGNsZWFyVGltZW91dChhKSxlLnJlbW92ZURhdGEoImJsb2NrVUkudGltZW91dCIpKTt1PW4uZXh0ZW5kKHt9LG4uYmxvY2tVSS5kZWZhdWx0cyx1fHx7fSk7YygwLHIsdSk7dS5vblVuYmxvY2s9PT1udWxsJiYodS5vblVuYmxvY2s9ZS5kYXRhKCJibG9ja1VJLm9uVW5ibG9jayIpLGUucmVtb3ZlRGF0YSgiYmxvY2tVSS5vblVuYmxvY2siKSk7Zj1zP24oImJvZHkiKS5jaGlsZHJlbigpLmZpbHRlcigiLmJsb2NrVUkiKS5hZGQoImJvZHkgPiAuYmxvY2tVSSIpOmUuZmluZCgiPi5ibG9ja1VJIik7dS5jdXJzb3JSZXNldCYmKGYubGVuZ3RoPjEmJihmWzFdLnN0eWxlLmN1cnNvcj11LmN1cnNvclJlc2V0KSxmLmxlbmd0aD4yJiYoZlsyXS5zdHlsZS5jdXJzb3I9dS5jdXJzb3JSZXNldCkpO3MmJih0PWk9bnVsbCk7dS5mYWRlT3V0PyhvPWYubGVuZ3RoLGYuc3RvcCgpLmZhZGVPdXQodS5mYWRlT3V0LGZ1bmN0aW9uKCl7LS1vPT0wJiZoKGYsbCx1LHIpfSkpOmgoZixsLHUscil9ZnVuY3Rpb24gaCh0LGkscix1KXt2YXIgZj1uKHUpO2lmKCFmLmRhdGEoImJsb2NrVUkuaXNCbG9ja2VkIikpe2lmKHQuZWFjaChmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSksaSYmaS5lbCYmKGkuZWwuc3R5bGUuZGlzcGxheT1pLmRpc3BsYXksaS5lbC5zdHlsZS5wb3NpdGlvbj1pLnBvc2l0aW9uLGkuZWwuc3R5bGUuY3Vyc29yPSJkZWZhdWx0IixpLnBhcmVudCYmaS5wYXJlbnQuYXBwZW5kQ2hpbGQoaS5lbCksZi5yZW1vdmVEYXRhKCJibG9ja1VJLmhpc3RvcnkiKSksZi5kYXRhKCJibG9ja1VJLnN0YXRpYyIpJiZmLmNzcygicG9zaXRpb24iLCJzdGF0aWMiKSx0eXBlb2Ygci5vblVuYmxvY2s9PSJmdW5jdGlvbiIpci5vblVuYmxvY2sodSxyKTt2YXIgZT1uKGRvY3VtZW50LmJvZHkpLG89ZS53aWR0aCgpLHM9ZVswXS5zdHlsZS53aWR0aDtlLndpZHRoKG8tMSkud2lkdGgobyk7ZVswXS5zdHlsZS53aWR0aD1zfX1mdW5jdGlvbiBjKGkscix1KXt2YXIgZj1yPT13aW5kb3csbz1uKHIpLGU7KGl8fCghZnx8dCkmJihmfHxvLmRhdGEoImJsb2NrVUkuaXNCbG9ja2VkIikpKSYmKG8uZGF0YSgiYmxvY2tVSS5pc0Jsb2NrZWQiLGkpLGYmJnUuYmluZEV2ZW50cyYmKCFpfHx1LnNob3dPdmVybGF5KSkmJihlPSJtb3VzZWRvd24gbW91c2V1cCBrZXlkb3duIGtleXByZXNzIGtleXVwIHRvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2htb3ZlIixpP24oZG9jdW1lbnQpLmJpbmQoZSx1LGwpOm4oZG9jdW1lbnQpLnVuYmluZChlLGwpKX1mdW5jdGlvbiBsKHIpe3ZhciB1LGY7aWYoci50eXBlPT09ImtleWRvd24iJiZyLmtleUNvZGUmJnIua2V5Q29kZT09OSYmdCYmci5kYXRhLmNvbnN0cmFpblRhYktleSl7dmFyIGU9aSxzPSFyLnNoaWZ0S2V5JiZyLnRhcmdldD09PWVbZS5sZW5ndGgtMV0sbz1yLnNoaWZ0S2V5JiZyLnRhcmdldD09PWVbMF07aWYoc3x8bylyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2Eobyl9LDEwKSwhMX1pZih1PXIuZGF0YSxmPW4oci50YXJnZXQpLGYuaGFzQ2xhc3MoImJsb2NrT3ZlcmxheSIpJiZ1Lm9uT3ZlcmxheUNsaWNrKXUub25PdmVybGF5Q2xpY2socik7cmV0dXJuIGYucGFyZW50cygiZGl2LiIrdS5ibG9ja01zZ0NsYXNzKS5sZW5ndGg+MD8hMDpmLnBhcmVudHMoKS5jaGlsZHJlbigpLmZpbHRlcigiZGl2LmJsb2NrVUkiKS5sZW5ndGg9PT0wfWZ1bmN0aW9uIGEobil7aWYoaSl7dmFyIHQ9aVtuPT09ITA/aS5sZW5ndGgtMTowXTt0JiZ0LmZvY3VzKCl9fWZ1bmN0aW9uIHkobix0LGkpe3ZhciB1PW4ucGFyZW50Tm9kZSxmPW4uc3R5bGUsZT0odS5vZmZzZXRXaWR0aC1uLm9mZnNldFdpZHRoKS8yLXIodSwiYm9yZGVyTGVmdFdpZHRoIiksbz0odS5vZmZzZXRIZWlnaHQtbi5vZmZzZXRIZWlnaHQpLzItcih1LCJib3JkZXJUb3BXaWR0aCIpO3QmJihmLmxlZnQ9ZT4wP2UrInB4IjoiMCIpO2kmJihmLnRvcD1vPjA/bysicHgiOiIwIil9ZnVuY3Rpb24gcih0LGkpe3JldHVybiBwYXJzZUludChuLmNzcyh0LGkpLDEwKXx8MH12YXIgdCxpO24uZm4uX2ZhZGVJbj1uLmZuLmZhZGVJbjt2YXIgdT1uLm5vb3B8fGZ1bmN0aW9uKCl7fSxmPS9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLG89L01TSUUgNi4wLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYhL01TSUUgOC4wLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHA9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwwLHY9bi5pc0Z1bmN0aW9uKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLnNldEV4cHJlc3Npb24pO24uYmxvY2tVST1mdW5jdGlvbihuKXtzKHdpbmRvdyxuKX07bi51bmJsb2NrVUk9ZnVuY3Rpb24obil7ZSh3aW5kb3csbil9O24uZ3Jvd2xVST1mdW5jdGlvbih0LGkscix1KXt2YXIgZj1uKCc8ZGl2IGNsYXNzPSJncm93bFVJIj48XC9kaXY+JyksZSxvO3QmJmYuYXBwZW5kKCI8aDE+Iit0KyI8XC9oMT4iKTtpJiZmLmFwcGVuZCgiPGgyPiIraSsiPFwvaDI+Iik7cj09PXVuZGVmaW5lZCYmKHI9M2UzKTtlPWZ1bmN0aW9uKHQpe3Q9dHx8e307bi5ibG9ja1VJKHttZXNzYWdlOmYsZmFkZUluOnR5cGVvZiB0LmZhZGVJbiE9InVuZGVmaW5lZCI/dC5mYWRlSW46NzAwLGZhZGVPdXQ6dHlwZW9mIHQuZmFkZU91dCE9InVuZGVmaW5lZCI/dC5mYWRlT3V0OjFlMyx0aW1lb3V0OnR5cGVvZiB0LnRpbWVvdXQhPSJ1bmRlZmluZWQiP3QudGltZW91dDpyLGNlbnRlclk6ITEsc2hvd092ZXJsYXk6ITEsb25VbmJsb2NrOnUsY3NzOm4uYmxvY2tVSS5kZWZhdWx0cy5ncm93bENTU30pfTtlKCk7bz1mLmNzcygib3BhY2l0eSIpO2YubW91c2VvdmVyKGZ1bmN0aW9uKCl7ZSh7ZmFkZUluOjAsdGltZW91dDozZTR9KTt2YXIgdD1uKCIuYmxvY2tNc2ciKTt0LnN0b3AoKTt0LmZhZGVUbygzMDAsMSl9KS5tb3VzZW91dChmdW5jdGlvbigpe24oIi5ibG9ja01zZyIpLmZhZGVPdXQoMWUzKX0pfTtuLmZuLmJsb2NrPWZ1bmN0aW9uKHQpe2lmKHRoaXNbMF09PT13aW5kb3cpcmV0dXJuIG4uYmxvY2tVSSh0KSx0aGlzO3ZhciBpPW4uZXh0ZW5kKHt9LG4uYmxvY2tVSS5kZWZhdWx0cyx0fHx7fSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7aS5pZ25vcmVJZkJsb2NrZWQmJnQuZGF0YSgiYmxvY2tVSS5pc0Jsb2NrZWQiKXx8dC51bmJsb2NrKHtmYWRlT3V0OjB9KX0pLHRoaXMuZWFjaChmdW5jdGlvbigpe24uY3NzKHRoaXMsInBvc2l0aW9uIik9PSJzdGF0aWMiJiYodGhpcy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLG4odGhpcykuZGF0YSgiYmxvY2tVSS5zdGF0aWMiLCEwKSk7dGhpcy5zdHlsZS56b29tPTE7cyh0aGlzLHQpfSl9O24uZm4udW5ibG9jaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT09PXdpbmRvdz8obi51bmJsb2NrVUkodCksdGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzLHQpfSl9O24uYmxvY2tVSS52ZXJzaW9uPTIuNztuLmJsb2NrVUkuZGVmYXVsdHM9e21lc3NhZ2U6IjxoMT5QbGVhc2Ugd2FpdC4uLjxcL2gxPiIsdGl0bGU6bnVsbCxkcmFnZ2FibGU6ITAsdGhlbWU6ITEsY3NzOntwYWRkaW5nOjAsbWFyZ2luOjAsd2lkdGg6IjMwJSIsdG9wOiI0MCUiLGxlZnQ6IjM1JSIsdGV4dEFsaWduOiJjZW50ZXIiLGNvbG9yOiIjMDAwIixib3JkZXI6IjNweCBzb2xpZCAjYWFhIixiYWNrZ3JvdW5kQ29sb3I6IiNmZmYiLGN1cnNvcjoid2FpdCJ9LHRoZW1lZENTUzp7d2lkdGg6IjMwJSIsdG9wOiI0MCUiLGxlZnQ6IjM1JSJ9LG92ZXJsYXlDU1M6e2JhY2tncm91bmRDb2xvcjoiIzAwMCIsb3BhY2l0eTouNixjdXJzb3I6IndhaXQifSxjdXJzb3JSZXNldDoiZGVmYXVsdCIsZ3Jvd2xDU1M6e3dpZHRoOiIzNTBweCIsdG9wOiIxMHB4IixsZWZ0OiIiLHJpZ2h0OiIxMHB4Iixib3JkZXI6Im5vbmUiLHBhZGRpbmc6IjVweCIsb3BhY2l0eTouNixjdXJzb3I6ImRlZmF1bHQiLGNvbG9yOiIjZmZmIixiYWNrZ3JvdW5kQ29sb3I6IiMwMDAiLCItd2Via2l0LWJvcmRlci1yYWRpdXMiOiIxMHB4IiwiLW1vei1ib3JkZXItcmFkaXVzIjoiMTBweCIsImJvcmRlci1yYWRpdXMiOiIxMHB4In0saWZyYW1lU3JjOi9eaHR0cHMvaS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmfHwiIik/ImphdmFzY3JpcHQ6ZmFsc2UiOiJhYm91dDpibGFuayIsZm9yY2VJZnJhbWU6ITEsYmFzZVo6MWUzLGNlbnRlclg6ITAsY2VudGVyWTohMCxhbGxvd0JvZHlTdHJldGNoOiEwLGJpbmRFdmVudHM6ITAsY29uc3RyYWluVGFiS2V5OiEwLGZhZGVJbjoyMDAsZmFkZU91dDo0MDAsdGltZW91dDowLHNob3dPdmVybGF5OiEwLGZvY3VzSW5wdXQ6ITAsZm9jdXNhYmxlRWxlbWVudHM6IjppbnB1dDplbmFibGVkOnZpc2libGUiLG9uQmxvY2s6bnVsbCxvblVuYmxvY2s6bnVsbCxvbk92ZXJsYXlDbGljazpudWxsLHF1aXJrc21vZGVPZmZzZXRIYWNrOjQsYmxvY2tNc2dDbGFzczoiYmxvY2tNc2ciLGlnbm9yZUlmQmxvY2tlZDohMX07dD1udWxsO2k9W119dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCYmZGVmaW5lLmFtZC5qUXVlcnk/ZGVmaW5lKFsianF1ZXJ5Il0sbik6bihqUXVlcnkpfSkoKTsKLyohCiAgKiBCb290c3RyYXAgdjQuMS4xIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSkKICAqLwohZnVuY3Rpb24obix0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJqcXVlcnkiKSxyZXF1aXJlKCJwb3BwZXIuanMiKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIiwianF1ZXJ5IiwicG9wcGVyLmpzIl0sdCk6dChuLmJvb3RzdHJhcD17fSxuLmpRdWVyeSxuLlBvcHBlcil9KHRoaXMsZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB1ZihuLHQpe2Zvcih2YXIgaSxyPTA7cjx0Lmxlbmd0aDtyKyspaT10W3JdLGkuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLCJ2YWx1ZSJpbiBpJiYoaS53cml0YWJsZT0hMCksT2JqZWN0LmRlZmluZVByb3BlcnR5KG4saS5rZXksaSl9ZnVuY3Rpb24gbnQobix0LGkpe3JldHVybiB0JiZ1ZihuLnByb3RvdHlwZSx0KSxpJiZ1ZihuLGkpLG59ZnVuY3Rpb24gdihuKXtmb3IodmFyIGkscix0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKylpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e30scj1PYmplY3Qua2V5cyhpKSwiZnVuY3Rpb24iPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKHI9ci5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhpKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSxuKS5lbnVtZXJhYmxlfSkpKSxyLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIHIsdSxmO3I9bjtmPWlbdT10XTt1IGluIHI/T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsdSx7dmFsdWU6ZixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnJbdV09Zn0pO3JldHVybiBufXQ9dCYmdC5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdCIpP3QuZGVmYXVsdDp0O2k9aSYmaS5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdCIpP2kuZGVmYXVsdDppO3ZhciB5LHRpLGhyLGNyLGZmLGxyLGVmLG9mLHNmLGF0LGMsaWksYXIsdnIseXIsaGYscmksY2YsbGYsaHUsYWYsdmYseWYsY3UsbHUsdWksZix2dCxraSx0dCxhdSxwZixwcix3ZixkaSxnaSxiZixrZixpdCxkZixvdCxnZixuZSx0ZSxpZSxyZSxydCx5dCxzLHB0LHd0LGZpLHVlLHdyLGZlLGVpLHN0LG5yLHRyLGJyLHZ1LGVlLGtyLG9pLGUsYnQsaXIsdXQsZHIsb2Usc2UsYix5dSxodCxoZSxjZSxsZSxwdSxhZSxycix2ZSxncix5ZSxwZSx3ZSxiZSxrZSxkZSxnZSxubyx0byxpbyxldCxyLGt0LHVyLHcscm8sbnUsdW8sYSxmbyxlbyx3dSxkdCxmcixmdCxzaSx1LGN0LHR1LGssb28sYnUsc28saG8sY28sbG8saGksaXUsYW8sY2ksbGksdm8seW8sYWkscnUscG8sd28sZXIsZyxndCx1dSxkLGJvLGt1LGtvLGdvLG5zLHRzLGlzLHJzLHVzLGZzLG9yLGwsbHQsZnUsc3IsZXMsZHUsb3MsZXUsc3MsbmkscCxocyxndSx2aSxoLG91LHlpLGNzLHBpLGxzLHdpLGFzLHZzLG5mLHlzLHBzLHRmLHJmLHdzLGJzLGtzLGJpLG89ZnVuY3Rpb24obil7ZnVuY3Rpb24gcihpKXt2YXIgdT10aGlzLHI9ITE7cmV0dXJuIG4odGhpcykub25lKHQuVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24oKXtyPSEwfSksc2V0VGltZW91dChmdW5jdGlvbigpe3J8fHQudHJpZ2dlclRyYW5zaXRpb25FbmQodSl9LGkpLHRoaXN9dmFyIGk9InRyYW5zaXRpb25lbmQiLHQ9e1RSQU5TSVRJT05fRU5EOiJic1RyYW5zaXRpb25FbmQiLGdldFVJRDpmdW5jdGlvbihuKXtmb3IoO24rPX5+KDFlNipNYXRoLnJhbmRvbSgpKSxkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKTspO3JldHVybiBufSxnZXRTZWxlY3RvckZyb21FbGVtZW50OmZ1bmN0aW9uKHQpe3ZhciBpPXQuZ2V0QXR0cmlidXRlKCJkYXRhLXRhcmdldCIpO2kmJiIjIiE9PWl8fChpPXQuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIiKTt0cnl7cmV0dXJuIDA8bihkb2N1bWVudCkuZmluZChpKS5sZW5ndGg/aTpudWxsfWNhdGNoKHQpe3JldHVybiBudWxsfX0sZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQ6ZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuIDA7dmFyIGk9bih0KS5jc3MoInRyYW5zaXRpb24tZHVyYXRpb24iKTtyZXR1cm4gcGFyc2VGbG9hdChpKT8oaT1pLnNwbGl0KCIsIilbMF0sMWUzKnBhcnNlRmxvYXQoaSkpOjB9LHJlZmxvdzpmdW5jdGlvbihuKXtyZXR1cm4gbi5vZmZzZXRIZWlnaHR9LHRyaWdnZXJUcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKHQpe24odCkudHJpZ2dlcihpKX0sc3VwcG9ydHNUcmFuc2l0aW9uRW5kOmZ1bmN0aW9uKCl7cmV0dXJuIEJvb2xlYW4oaSl9LGlzRWxlbWVudDpmdW5jdGlvbihuKXtyZXR1cm4oblswXXx8bikubm9kZVR5cGV9LHR5cGVDaGVja0NvbmZpZzpmdW5jdGlvbihuLGkscil7dmFyIHUscztmb3IodSBpbiByKWlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLHUpKXt2YXIgZT1yW3VdLGY9aVt1XSxvPWYmJnQuaXNFbGVtZW50KGYpPyJlbGVtZW50Ijoocz1mLHt9LnRvU3RyaW5nLmNhbGwocykubWF0Y2goL1xzKFthLXpdKykvaSlbMV0udG9Mb3dlckNhc2UoKSk7aWYoIW5ldyBSZWdFeHAoZSkudGVzdChvKSl0aHJvdyBuZXcgRXJyb3Iobi50b1VwcGVyQ2FzZSgpKyc6IE9wdGlvbiAiJyt1KyciIHByb3ZpZGVkIHR5cGUgIicrbysnIiBidXQgZXhwZWN0ZWQgdHlwZSAiJytlKyciLicpO319fTtyZXR1cm4gbi5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZD1yLG4uZXZlbnQuc3BlY2lhbFt0LlRSQU5TSVRJT05fRU5EXT17YmluZFR5cGU6aSxkZWxlZ2F0ZVR5cGU6aSxoYW5kbGU6ZnVuY3Rpb24odCl7aWYobih0LnRhcmdldCkuaXModGhpcykpcmV0dXJuIHQuaGFuZGxlT2JqLmhhbmRsZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0sdH0odCksZHM9KHRpPSJhbGVydCIsY3I9Ii4iKyhocj0iYnMuYWxlcnQiKSxmZj0oeT10KS5mblt0aV0sbHI9e0NMT1NFOiJjbG9zZSIrY3IsQ0xPU0VEOiJjbG9zZWQiK2NyLENMSUNLX0RBVEFfQVBJOiJjbGljayIrY3IrIi5kYXRhLWFwaSJ9LGVmPSJhbGVydCIsb2Y9ImZhZGUiLHNmPSJzaG93IixhdD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7dGhpcy5fZWxlbWVudD1ufXZhciB0PW4ucHJvdG90eXBlO3JldHVybiB0LmNsb3NlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuX2VsZW1lbnQ7biYmKHQ9dGhpcy5fZ2V0Um9vdEVsZW1lbnQobikpO3RoaXMuX3RyaWdnZXJDbG9zZUV2ZW50KHQpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx0aGlzLl9yZW1vdmVFbGVtZW50KHQpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXt5LnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxocik7dGhpcy5fZWxlbWVudD1udWxsfSx0Ll9nZXRSb290RWxlbWVudD1mdW5jdGlvbihuKXt2YXIgaT1vLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQobiksdD0hMTtyZXR1cm4gaSYmKHQ9eShpKVswXSksdHx8KHQ9eShuKS5jbG9zZXN0KCIuIitlZilbMF0pLHR9LHQuX3RyaWdnZXJDbG9zZUV2ZW50PWZ1bmN0aW9uKG4pe3ZhciB0PXkuRXZlbnQobHIuQ0xPU0UpO3JldHVybiB5KG4pLnRyaWdnZXIodCksdH0sdC5fcmVtb3ZlRWxlbWVudD1mdW5jdGlvbihuKXt2YXIgaT10aGlzLHQ7KHkobikucmVtb3ZlQ2xhc3Moc2YpLHkobikuaGFzQ2xhc3Mob2YpKT8odD1vLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KG4pLHkobikub25lKG8uVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24odCl7cmV0dXJuIGkuX2Rlc3Ryb3lFbGVtZW50KG4sdCl9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZCh0KSk6dGhpcy5fZGVzdHJveUVsZW1lbnQobil9LHQuX2Rlc3Ryb3lFbGVtZW50PWZ1bmN0aW9uKG4pe3kobikuZGV0YWNoKCkudHJpZ2dlcihsci5DTE9TRUQpLnJlbW92ZSgpfSxuLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPXkodGhpcyksaT1yLmRhdGEoaHIpO2l8fChpPW5ldyBuKHRoaXMpLHIuZGF0YShocixpKSk7ImNsb3NlIj09PXQmJmlbdF0odGhpcyl9KX0sbi5faGFuZGxlRGlzbWlzcz1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dCYmdC5wcmV2ZW50RGVmYXVsdCgpO24uY2xvc2UodGhpcyl9fSxudChuLG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjEuMSJ9fV0pLG59KCkseShkb2N1bWVudCkub24obHIuQ0xJQ0tfREFUQV9BUEksJ1tkYXRhLWRpc21pc3M9ImFsZXJ0Il0nLGF0Ll9oYW5kbGVEaXNtaXNzKG5ldyBhdCkpLHkuZm5bdGldPWF0Ll9qUXVlcnlJbnRlcmZhY2UseS5mblt0aV0uQ29uc3RydWN0b3I9YXQseS5mblt0aV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB5LmZuW3RpXT1mZixhdC5falF1ZXJ5SW50ZXJmYWNlfSxhdCksZ3M9KGlpPSJidXR0b24iLHZyPSIuIisoYXI9ImJzLmJ1dHRvbiIpLHlyPSIuZGF0YS1hcGkiLGhmPShjPXQpLmZuW2lpXSxyaT0iYWN0aXZlIixjZj0iYnRuIixodT0nW2RhdGEtdG9nZ2xlXj0iYnV0dG9uIl0nLGFmPSdbZGF0YS10b2dnbGU9ImJ1dHRvbnMiXScsdmY9ImlucHV0Iix5Zj0iLmFjdGl2ZSIsY3U9Ii5idG4iLGx1PXtDTElDS19EQVRBX0FQSToiY2xpY2siK3ZyK3lyLEZPQ1VTX0JMVVJfREFUQV9BUEk6KGxmPSJmb2N1cyIpK3ZyK3lyKyIgYmx1ciIrdnIreXJ9LHVpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXt0aGlzLl9lbGVtZW50PW59dmFyIHQ9bi5wcm90b3R5cGU7cmV0dXJuIHQudG9nZ2xlPWZ1bmN0aW9uKCl7dmFyIGk9ITAsdT0hMCx0PWModGhpcy5fZWxlbWVudCkuY2xvc2VzdChhZilbMF0sbixyO2lmKHQmJihuPWModGhpcy5fZWxlbWVudCkuZmluZCh2ZilbMF0sbikpe2lmKCJyYWRpbyI9PT1uLnR5cGUmJihuLmNoZWNrZWQmJmModGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MocmkpP2k9ITE6KHI9Yyh0KS5maW5kKHlmKVswXSxyJiZjKHIpLnJlbW92ZUNsYXNzKHJpKSkpLGkpe2lmKG4uaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpfHx0Lmhhc0F0dHJpYnV0ZSgiZGlzYWJsZWQiKXx8bi5jbGFzc0xpc3QuY29udGFpbnMoImRpc2FibGVkIil8fHQuY2xhc3NMaXN0LmNvbnRhaW5zKCJkaXNhYmxlZCIpKXJldHVybjtuLmNoZWNrZWQ9IWModGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MocmkpO2MobikudHJpZ2dlcigiY2hhbmdlIil9bi5mb2N1cygpO3U9ITF9dSYmdGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtcHJlc3NlZCIsIWModGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MocmkpKTtpJiZjKHRoaXMuX2VsZW1lbnQpLnRvZ2dsZUNsYXNzKHJpKX0sdC5kaXNwb3NlPWZ1bmN0aW9uKCl7Yy5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsYXIpO3RoaXMuX2VsZW1lbnQ9bnVsbH0sbi5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1jKHRoaXMpLmRhdGEoYXIpO2l8fChpPW5ldyBuKHRoaXMpLGModGhpcykuZGF0YShhcixpKSk7InRvZ2dsZSI9PT10JiZpW3RdKCl9KX0sbnQobixudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC4xLjEifX1dKSxufSgpLGMoZG9jdW1lbnQpLm9uKGx1LkNMSUNLX0RBVEFfQVBJLGh1LGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTt2YXIgdD1uLnRhcmdldDtjKHQpLmhhc0NsYXNzKGNmKXx8KHQ9Yyh0KS5jbG9zZXN0KGN1KSk7dWkuX2pRdWVyeUludGVyZmFjZS5jYWxsKGModCksInRvZ2dsZSIpfSkub24obHUuRk9DVVNfQkxVUl9EQVRBX0FQSSxodSxmdW5jdGlvbihuKXt2YXIgdD1jKG4udGFyZ2V0KS5jbG9zZXN0KGN1KVswXTtjKHQpLnRvZ2dsZUNsYXNzKGxmLC9eZm9jdXMoaW4pPyQvLnRlc3Qobi50eXBlKSl9KSxjLmZuW2lpXT11aS5falF1ZXJ5SW50ZXJmYWNlLGMuZm5baWldLkNvbnN0cnVjdG9yPXVpLGMuZm5baWldLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gYy5mbltpaV09aGYsdWkuX2pRdWVyeUludGVyZmFjZX0sdWkpLG5oPSh2dD0iY2Fyb3VzZWwiLHR0PSIuIisoa2k9ImJzLmNhcm91c2VsIiksYXU9Ii5kYXRhLWFwaSIscGY9KGY9dCkuZm5bdnRdLHByPXtpbnRlcnZhbDo1ZTMsa2V5Ym9hcmQ6ITAsc2xpZGU6ITEscGF1c2U6ImhvdmVyIix3cmFwOiEwfSx3Zj17aW50ZXJ2YWw6IihudW1iZXJ8Ym9vbGVhbikiLGtleWJvYXJkOiJib29sZWFuIixzbGlkZToiKGJvb2xlYW58c3RyaW5nKSIscGF1c2U6IihzdHJpbmd8Ym9vbGVhbikiLHdyYXA6ImJvb2xlYW4ifSxkaT0ibmV4dCIsZ2k9InByZXYiLGJmPSJsZWZ0IixrZj0icmlnaHQiLGl0PXtTTElERToic2xpZGUiK3R0LFNMSUQ6InNsaWQiK3R0LEtFWURPV046ImtleWRvd24iK3R0LE1PVVNFRU5URVI6Im1vdXNlZW50ZXIiK3R0LE1PVVNFTEVBVkU6Im1vdXNlbGVhdmUiK3R0LFRPVUNIRU5EOiJ0b3VjaGVuZCIrdHQsTE9BRF9EQVRBX0FQSToibG9hZCIrdHQrYXUsQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIit0dCthdX0sZGY9ImNhcm91c2VsIixvdD0iYWN0aXZlIixnZj0ic2xpZGUiLG5lPSJjYXJvdXNlbC1pdGVtLXJpZ2h0Iix0ZT0iY2Fyb3VzZWwtaXRlbS1sZWZ0IixpZT0iY2Fyb3VzZWwtaXRlbS1uZXh0IixyZT0iY2Fyb3VzZWwtaXRlbS1wcmV2IixydD17QUNUSVZFOiIuYWN0aXZlIixBQ1RJVkVfSVRFTToiLmFjdGl2ZS5jYXJvdXNlbC1pdGVtIixJVEVNOiIuY2Fyb3VzZWwtaXRlbSIsTkVYVF9QUkVWOiIuY2Fyb3VzZWwtaXRlbS1uZXh0LCAuY2Fyb3VzZWwtaXRlbS1wcmV2IixJTkRJQ0FUT1JTOiIuY2Fyb3VzZWwtaW5kaWNhdG9ycyIsREFUQV9TTElERToiW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10iLERBVEFfUklERTonW2RhdGEtcmlkZT0iY2Fyb3VzZWwiXSd9LHl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuLHQpe3RoaXMuX2l0ZW1zPW51bGw7dGhpcy5faW50ZXJ2YWw9bnVsbDt0aGlzLl9hY3RpdmVFbGVtZW50PW51bGw7dGhpcy5faXNQYXVzZWQ9ITE7dGhpcy5faXNTbGlkaW5nPSExO3RoaXMudG91Y2hUaW1lb3V0PW51bGw7dGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyh0KTt0aGlzLl9lbGVtZW50PWYobilbMF07dGhpcy5faW5kaWNhdG9yc0VsZW1lbnQ9Zih0aGlzLl9lbGVtZW50KS5maW5kKHJ0LklORElDQVRPUlMpWzBdO3RoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCl9dmFyIG49dC5wcm90b3R5cGU7cmV0dXJuIG4ubmV4dD1mdW5jdGlvbigpe3RoaXMuX2lzU2xpZGluZ3x8dGhpcy5fc2xpZGUoZGkpfSxuLm5leHRXaGVuVmlzaWJsZT1mdW5jdGlvbigpeyFkb2N1bWVudC5oaWRkZW4mJmYodGhpcy5fZWxlbWVudCkuaXMoIjp2aXNpYmxlIikmJiJoaWRkZW4iIT09Zih0aGlzLl9lbGVtZW50KS5jc3MoInZpc2liaWxpdHkiKSYmdGhpcy5uZXh0KCl9LG4ucHJldj1mdW5jdGlvbigpe3RoaXMuX2lzU2xpZGluZ3x8dGhpcy5fc2xpZGUoZ2kpfSxuLnBhdXNlPWZ1bmN0aW9uKG4pe258fCh0aGlzLl9pc1BhdXNlZD0hMCk7Zih0aGlzLl9lbGVtZW50KS5maW5kKHJ0Lk5FWFRfUFJFVilbMF0mJihvLnRyaWdnZXJUcmFuc2l0aW9uRW5kKHRoaXMuX2VsZW1lbnQpLHRoaXMuY3ljbGUoITApKTtjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKTt0aGlzLl9pbnRlcnZhbD1udWxsfSxuLmN5Y2xlPWZ1bmN0aW9uKG4pe258fCh0aGlzLl9pc1BhdXNlZD0hMSk7dGhpcy5faW50ZXJ2YWwmJihjbGVhckludGVydmFsKHRoaXMuX2ludGVydmFsKSx0aGlzLl9pbnRlcnZhbD1udWxsKTt0aGlzLl9jb25maWcuaW50ZXJ2YWwmJiF0aGlzLl9pc1BhdXNlZCYmKHRoaXMuX2ludGVydmFsPXNldEludGVydmFsKChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGU/dGhpcy5uZXh0V2hlblZpc2libGU6dGhpcy5uZXh0KS5iaW5kKHRoaXMpLHRoaXMuX2NvbmZpZy5pbnRlcnZhbCkpfSxuLnRvPWZ1bmN0aW9uKG4pe3ZhciByPXRoaXMsdCxpO2lmKHRoaXMuX2FjdGl2ZUVsZW1lbnQ9Zih0aGlzLl9lbGVtZW50KS5maW5kKHJ0LkFDVElWRV9JVEVNKVswXSx0PXRoaXMuX2dldEl0ZW1JbmRleCh0aGlzLl9hY3RpdmVFbGVtZW50KSwhKG4+dGhpcy5faXRlbXMubGVuZ3RoLTF8fG48MCkpaWYodGhpcy5faXNTbGlkaW5nKWYodGhpcy5fZWxlbWVudCkub25lKGl0LlNMSUQsZnVuY3Rpb24oKXtyZXR1cm4gci50byhuKX0pO2Vsc2V7aWYodD09PW4pcmV0dXJuIHRoaXMucGF1c2UoKSx2b2lkIHRoaXMuY3ljbGUoKTtpPXQ8bj9kaTpnaTt0aGlzLl9zbGlkZShpLHRoaXMuX2l0ZW1zW25dKX19LG4uZGlzcG9zZT1mdW5jdGlvbigpe2YodGhpcy5fZWxlbWVudCkub2ZmKHR0KTtmLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxraSk7dGhpcy5faXRlbXM9bnVsbDt0aGlzLl9jb25maWc9bnVsbDt0aGlzLl9lbGVtZW50PW51bGw7dGhpcy5faW50ZXJ2YWw9bnVsbDt0aGlzLl9pc1BhdXNlZD1udWxsO3RoaXMuX2lzU2xpZGluZz1udWxsO3RoaXMuX2FjdGl2ZUVsZW1lbnQ9bnVsbDt0aGlzLl9pbmRpY2F0b3JzRWxlbWVudD1udWxsfSxuLl9nZXRDb25maWc9ZnVuY3Rpb24obil7cmV0dXJuIG49dih7fSxwcixuKSxvLnR5cGVDaGVja0NvbmZpZyh2dCxuLHdmKSxufSxuLl9hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5fY29uZmlnLmtleWJvYXJkJiZmKHRoaXMuX2VsZW1lbnQpLm9uKGl0LktFWURPV04sZnVuY3Rpb24odCl7cmV0dXJuIG4uX2tleWRvd24odCl9KTsiaG92ZXIiPT09dGhpcy5fY29uZmlnLnBhdXNlJiYoZih0aGlzLl9lbGVtZW50KS5vbihpdC5NT1VTRUVOVEVSLGZ1bmN0aW9uKHQpe3JldHVybiBuLnBhdXNlKHQpfSkub24oaXQuTU9VU0VMRUFWRSxmdW5jdGlvbih0KXtyZXR1cm4gbi5jeWNsZSh0KX0pLCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZmKHRoaXMuX2VsZW1lbnQpLm9uKGl0LlRPVUNIRU5ELGZ1bmN0aW9uKCl7bi5wYXVzZSgpO24udG91Y2hUaW1lb3V0JiZjbGVhclRpbWVvdXQobi50b3VjaFRpbWVvdXQpO24udG91Y2hUaW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24odCl7cmV0dXJuIG4uY3ljbGUodCl9LDUwMCtuLl9jb25maWcuaW50ZXJ2YWwpfSkpfSxuLl9rZXlkb3duPWZ1bmN0aW9uKG4pe2lmKCEvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KG4udGFyZ2V0LnRhZ05hbWUpKXN3aXRjaChuLndoaWNoKXtjYXNlIDM3Om4ucHJldmVudERlZmF1bHQoKTt0aGlzLnByZXYoKTticmVhaztjYXNlIDM5Om4ucHJldmVudERlZmF1bHQoKTt0aGlzLm5leHQoKX19LG4uX2dldEl0ZW1JbmRleD1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5faXRlbXM9Zi5tYWtlQXJyYXkoZihuKS5wYXJlbnQoKS5maW5kKHJ0LklURU0pKSx0aGlzLl9pdGVtcy5pbmRleE9mKG4pfSxuLl9nZXRJdGVtQnlEaXJlY3Rpb249ZnVuY3Rpb24obix0KXt2YXIgdT1uPT09ZGksZj1uPT09Z2ksaT10aGlzLl9nZXRJdGVtSW5kZXgodCksZT10aGlzLl9pdGVtcy5sZW5ndGgtMSxyO3JldHVybihmJiYwPT09aXx8dSYmaT09PWUpJiYhdGhpcy5fY29uZmlnLndyYXA/dDoocj0oaSsobj09PWdpPy0xOjEpKSV0aGlzLl9pdGVtcy5sZW5ndGgsLTE9PT1yP3RoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aC0xXTp0aGlzLl9pdGVtc1tyXSl9LG4uX3RyaWdnZXJTbGlkZUV2ZW50PWZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpcy5fZ2V0SXRlbUluZGV4KG4pLHU9dGhpcy5fZ2V0SXRlbUluZGV4KGYodGhpcy5fZWxlbWVudCkuZmluZChydC5BQ1RJVkVfSVRFTSlbMF0pLGk9Zi5FdmVudChpdC5TTElERSx7cmVsYXRlZFRhcmdldDpuLGRpcmVjdGlvbjp0LGZyb206dSx0bzpyfSk7cmV0dXJuIGYodGhpcy5fZWxlbWVudCkudHJpZ2dlcihpKSxpfSxuLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50PWZ1bmN0aW9uKG4pe2lmKHRoaXMuX2luZGljYXRvcnNFbGVtZW50KXtmKHRoaXMuX2luZGljYXRvcnNFbGVtZW50KS5maW5kKHJ0LkFDVElWRSkucmVtb3ZlQ2xhc3Mob3QpO3ZhciB0PXRoaXMuX2luZGljYXRvcnNFbGVtZW50LmNoaWxkcmVuW3RoaXMuX2dldEl0ZW1JbmRleChuKV07dCYmZih0KS5hZGRDbGFzcyhvdCl9fSxuLl9zbGlkZT1mdW5jdGlvbihuLHQpe3ZhciB1LGUscyxjPXRoaXMscj1mKHRoaXMuX2VsZW1lbnQpLmZpbmQocnQuQUNUSVZFX0lURU0pWzBdLHY9dGhpcy5fZ2V0SXRlbUluZGV4KHIpLGk9dHx8ciYmdGhpcy5fZ2V0SXRlbUJ5RGlyZWN0aW9uKG4scikseT10aGlzLl9nZXRJdGVtSW5kZXgoaSksbD1Cb29sZWFuKHRoaXMuX2ludGVydmFsKSxoLGE7KG49PT1kaT8odT10ZSxlPWllLHM9YmYpOih1PW5lLGU9cmUscz1rZiksaSYmZihpKS5oYXNDbGFzcyhvdCkpP3RoaXMuX2lzU2xpZGluZz0hMTohdGhpcy5fdHJpZ2dlclNsaWRlRXZlbnQoaSxzKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmciYmaSYmKHRoaXMuX2lzU2xpZGluZz0hMCxsJiZ0aGlzLnBhdXNlKCksdGhpcy5fc2V0QWN0aXZlSW5kaWNhdG9yRWxlbWVudChpKSxoPWYuRXZlbnQoaXQuU0xJRCx7cmVsYXRlZFRhcmdldDppLGRpcmVjdGlvbjpzLGZyb206dix0bzp5fSksZih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhnZik/KGYoaSkuYWRkQ2xhc3MoZSksby5yZWZsb3coaSksZihyKS5hZGRDbGFzcyh1KSxmKGkpLmFkZENsYXNzKHUpLGE9by5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChyKSxmKHIpLm9uZShvLlRSQU5TSVRJT05fRU5ELGZ1bmN0aW9uKCl7ZihpKS5yZW1vdmVDbGFzcyh1KyIgIitlKS5hZGRDbGFzcyhvdCk7ZihyKS5yZW1vdmVDbGFzcyhvdCsiICIrZSsiICIrdSk7Yy5faXNTbGlkaW5nPSExO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtyZXR1cm4gZihjLl9lbGVtZW50KS50cmlnZ2VyKGgpfSwwKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGEpKTooZihyKS5yZW1vdmVDbGFzcyhvdCksZihpKS5hZGRDbGFzcyhvdCksdGhpcy5faXNTbGlkaW5nPSExLGYodGhpcy5fZWxlbWVudCkudHJpZ2dlcihoKSksbCYmdGhpcy5jeWNsZSgpKX0sdC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1mKHRoaXMpLmRhdGEoa2kpLHI9dih7fSxwcixmKHRoaXMpLmRhdGEoKSksdTtpZigib2JqZWN0Ij09dHlwZW9mIG4mJihyPXYoe30scixuKSksdT0ic3RyaW5nIj09dHlwZW9mIG4/bjpyLnNsaWRlLGl8fChpPW5ldyB0KHRoaXMsciksZih0aGlzKS5kYXRhKGtpLGkpKSwibnVtYmVyIj09dHlwZW9mIG4paS50byhuKTtlbHNlIGlmKCJzdHJpbmciPT10eXBlb2YgdSl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3VdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt1KyciJyk7aVt1XSgpfWVsc2Ugci5pbnRlcnZhbCYmKGkucGF1c2UoKSxpLmN5Y2xlKCkpfSl9LHQuX2RhdGFBcGlDbGlja0hhbmRsZXI9ZnVuY3Rpb24obil7dmFyIGU9by5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMpLGksdSxyO2UmJihpPWYoZSlbMF0saSYmZihpKS5oYXNDbGFzcyhkZikmJih1PXYoe30sZihpKS5kYXRhKCksZih0aGlzKS5kYXRhKCkpLHI9dGhpcy5nZXRBdHRyaWJ1dGUoImRhdGEtc2xpZGUtdG8iKSxyJiYodS5pbnRlcnZhbD0hMSksdC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoZihpKSx1KSxyJiZmKGkpLmRhdGEoa2kpLnRvKHIpLG4ucHJldmVudERlZmF1bHQoKSkpfSxudCh0LG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjEuMSJ9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcHJ9fV0pLHR9KCksZihkb2N1bWVudCkub24oaXQuQ0xJQ0tfREFUQV9BUEkscnQuREFUQV9TTElERSx5dC5fZGF0YUFwaUNsaWNrSGFuZGxlciksZih3aW5kb3cpLm9uKGl0LkxPQURfREFUQV9BUEksZnVuY3Rpb24oKXtmKHJ0LkRBVEFfUklERSkuZWFjaChmdW5jdGlvbigpe3ZhciBuPWYodGhpcyk7eXQuX2pRdWVyeUludGVyZmFjZS5jYWxsKG4sbi5kYXRhKCkpfSl9KSxmLmZuW3Z0XT15dC5falF1ZXJ5SW50ZXJmYWNlLGYuZm5bdnRdLkNvbnN0cnVjdG9yPXl0LGYuZm5bdnRdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZi5mblt2dF09cGYseXQuX2pRdWVyeUludGVyZmFjZX0seXQpLHRoPShwdD0iY29sbGFwc2UiLGZpPSIuIisod3Q9ImJzLmNvbGxhcHNlIiksdWU9KHM9dCkuZm5bcHRdLHdyPXt0b2dnbGU6ITAscGFyZW50OiIifSxmZT17dG9nZ2xlOiJib29sZWFuIixwYXJlbnQ6IihzdHJpbmd8ZWxlbWVudCkifSxlaT17U0hPVzoic2hvdyIrZmksU0hPV046InNob3duIitmaSxISURFOiJoaWRlIitmaSxISURERU46ImhpZGRlbiIrZmksQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIitmaSsiLmRhdGEtYXBpIn0sc3Q9InNob3ciLG5yPSJjb2xsYXBzZSIsdHI9ImNvbGxhcHNpbmciLGJyPSJjb2xsYXBzZWQiLHZ1PSJ3aWR0aCIsZWU9ImhlaWdodCIsa3I9e0FDVElWRVM6Ii5zaG93LCAuY29sbGFwc2luZyIsREFUQV9UT0dHTEU6J1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXSd9LG9pPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuLHQpe3ZhciB1LGksZixyO2Zvcih0aGlzLl9pc1RyYW5zaXRpb25pbmc9ITEsdGhpcy5fZWxlbWVudD1uLHRoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcodCksdGhpcy5fdHJpZ2dlckFycmF5PXMubWFrZUFycmF5KHMoJ1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtocmVmPSIjJytuLmlkKyciXSxbZGF0YS10b2dnbGU9ImNvbGxhcHNlIl1bZGF0YS10YXJnZXQ9IiMnK24uaWQrJyJdJykpLHU9cyhrci5EQVRBX1RPR0dMRSksaT0wO2k8dS5sZW5ndGg7aSsrKWY9dVtpXSxyPW8uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChmKSxudWxsIT09ciYmMDxzKHIpLmZpbHRlcihuKS5sZW5ndGgmJih0aGlzLl9zZWxlY3Rvcj1yLHRoaXMuX3RyaWdnZXJBcnJheS5wdXNoKGYpKTt0aGlzLl9wYXJlbnQ9dGhpcy5fY29uZmlnLnBhcmVudD90aGlzLl9nZXRQYXJlbnQoKTpudWxsO3RoaXMuX2NvbmZpZy5wYXJlbnR8fHRoaXMuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0aGlzLl9lbGVtZW50LHRoaXMuX3RyaWdnZXJBcnJheSk7dGhpcy5fY29uZmlnLnRvZ2dsZSYmdGhpcy50b2dnbGUoKX12YXIgbj10LnByb3RvdHlwZTtyZXR1cm4gbi50b2dnbGU9ZnVuY3Rpb24oKXtzKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKHN0KT90aGlzLmhpZGUoKTp0aGlzLnNob3coKX0sbi5zaG93PWZ1bmN0aW9uKCl7dmFyIG4sdSxyPXRoaXMsZixpLGUsaDt0aGlzLl9pc1RyYW5zaXRpb25pbmd8fHModGhpcy5fZWxlbWVudCkuaGFzQ2xhc3Moc3QpfHwodGhpcy5fcGFyZW50JiYwPT09KG49cy5tYWtlQXJyYXkocyh0aGlzLl9wYXJlbnQpLmZpbmQoa3IuQUNUSVZFUykuZmlsdGVyKCdbZGF0YS1wYXJlbnQ9IicrdGhpcy5fY29uZmlnLnBhcmVudCsnIl0nKSkpLmxlbmd0aCYmKG49bnVsbCksbiYmKHU9cyhuKS5ub3QodGhpcy5fc2VsZWN0b3IpLmRhdGEod3QpKSYmdS5faXNUcmFuc2l0aW9uaW5nKXx8KGY9cy5FdmVudChlaS5TSE9XKSwocyh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGYpLGYuaXNEZWZhdWx0UHJldmVudGVkKCkpfHwobiYmKHQuX2pRdWVyeUludGVyZmFjZS5jYWxsKHMobikubm90KHRoaXMuX3NlbGVjdG9yKSwiaGlkZSIpLHV8fHMobikuZGF0YSh3dCxudWxsKSksaT10aGlzLl9nZXREaW1lbnNpb24oKSxzKHRoaXMuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKG5yKS5hZGRDbGFzcyh0ciksKHRoaXMuX2VsZW1lbnQuc3R5bGVbaV09MCk8dGhpcy5fdHJpZ2dlckFycmF5Lmxlbmd0aCYmcyh0aGlzLl90cmlnZ2VyQXJyYXkpLnJlbW92ZUNsYXNzKGJyKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMCksdGhpcy5zZXRUcmFuc2l0aW9uaW5nKCEwKSxlPSJzY3JvbGwiKyhpWzBdLnRvVXBwZXJDYXNlKCkraS5zbGljZSgxKSksaD1vLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpLHModGhpcy5fZWxlbWVudCkub25lKG8uVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24oKXtzKHIuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKHRyKS5hZGRDbGFzcyhucikuYWRkQ2xhc3Moc3QpO3IuX2VsZW1lbnQuc3R5bGVbaV09IiI7ci5zZXRUcmFuc2l0aW9uaW5nKCExKTtzKHIuX2VsZW1lbnQpLnRyaWdnZXIoZWkuU0hPV04pfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoaCksdGhpcy5fZWxlbWVudC5zdHlsZVtpXT10aGlzLl9lbGVtZW50W2VdKyJweCIpKX0sbi5oaWRlPWZ1bmN0aW9uKCl7dmFyIGY9dGhpcyxpLG4sdCxyLHUsZTtpZighdGhpcy5faXNUcmFuc2l0aW9uaW5nJiZzKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKHN0KSYmKGk9cy5FdmVudChlaS5ISURFKSxzKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaSksIWkuaXNEZWZhdWx0UHJldmVudGVkKCkpKXtpZihuPXRoaXMuX2dldERpbWVuc2lvbigpLHRoaXMuX2VsZW1lbnQuc3R5bGVbbl09dGhpcy5fZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtuXSsicHgiLG8ucmVmbG93KHRoaXMuX2VsZW1lbnQpLHModGhpcy5fZWxlbWVudCkuYWRkQ2xhc3ModHIpLnJlbW92ZUNsYXNzKG5yKS5yZW1vdmVDbGFzcyhzdCksMDx0aGlzLl90cmlnZ2VyQXJyYXkubGVuZ3RoKWZvcih0PTA7dDx0aGlzLl90cmlnZ2VyQXJyYXkubGVuZ3RoO3QrKylyPXRoaXMuX3RyaWdnZXJBcnJheVt0XSx1PW8uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChyKSxudWxsIT09dSYmKHModSkuaGFzQ2xhc3Moc3QpfHxzKHIpLmFkZENsYXNzKGJyKS5hdHRyKCJhcmlhLWV4cGFuZGVkIiwhMSkpO3RoaXMuc2V0VHJhbnNpdGlvbmluZyghMCk7dGhpcy5fZWxlbWVudC5zdHlsZVtuXT0iIjtlPW8uZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7cyh0aGlzLl9lbGVtZW50KS5vbmUoby5UUkFOU0lUSU9OX0VORCxmdW5jdGlvbigpe2Yuc2V0VHJhbnNpdGlvbmluZyghMSk7cyhmLl9lbGVtZW50KS5yZW1vdmVDbGFzcyh0cikuYWRkQ2xhc3MobnIpLnRyaWdnZXIoZWkuSElEREVOKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGUpfX0sbi5zZXRUcmFuc2l0aW9uaW5nPWZ1bmN0aW9uKG4pe3RoaXMuX2lzVHJhbnNpdGlvbmluZz1ufSxuLmRpc3Bvc2U9ZnVuY3Rpb24oKXtzLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCx3dCk7dGhpcy5fY29uZmlnPW51bGw7dGhpcy5fcGFyZW50PW51bGw7dGhpcy5fZWxlbWVudD1udWxsO3RoaXMuX3RyaWdnZXJBcnJheT1udWxsO3RoaXMuX2lzVHJhbnNpdGlvbmluZz1udWxsfSxuLl9nZXRDb25maWc9ZnVuY3Rpb24obil7cmV0dXJuKG49dih7fSx3cixuKSkudG9nZ2xlPUJvb2xlYW4obi50b2dnbGUpLG8udHlwZUNoZWNrQ29uZmlnKHB0LG4sZmUpLG59LG4uX2dldERpbWVuc2lvbj1mdW5jdGlvbigpe3JldHVybiBzKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKHZ1KT92dTplZX0sbi5fZ2V0UGFyZW50PWZ1bmN0aW9uKCl7dmFyIHI9dGhpcyxuPW51bGwsaTtyZXR1cm4gby5pc0VsZW1lbnQodGhpcy5fY29uZmlnLnBhcmVudCk/KG49dGhpcy5fY29uZmlnLnBhcmVudCwidW5kZWZpbmVkIiE9dHlwZW9mIHRoaXMuX2NvbmZpZy5wYXJlbnQuanF1ZXJ5JiYobj10aGlzLl9jb25maWcucGFyZW50WzBdKSk6bj1zKHRoaXMuX2NvbmZpZy5wYXJlbnQpWzBdLGk9J1tkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXBhcmVudD0iJyt0aGlzLl9jb25maWcucGFyZW50KyciXScscyhuKS5maW5kKGkpLmVhY2goZnVuY3Rpb24obixpKXtyLl9hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3ModC5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQoaSksW2ldKX0pLG59LG4uX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcz1mdW5jdGlvbihuLHQpe2lmKG4pe3ZhciBpPXMobikuaGFzQ2xhc3Moc3QpOzA8dC5sZW5ndGgmJnModCkudG9nZ2xlQ2xhc3MoYnIsIWkpLmF0dHIoImFyaWEtZXhwYW5kZWQiLGkpfX0sdC5fZ2V0VGFyZ2V0RnJvbUVsZW1lbnQ9ZnVuY3Rpb24obil7dmFyIHQ9by5nZXRTZWxlY3RvckZyb21FbGVtZW50KG4pO3JldHVybiB0P3ModClbMF06bnVsbH0sdC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1zKHRoaXMpLGk9ci5kYXRhKHd0KSx1PXYoe30sd3Isci5kYXRhKCksIm9iamVjdCI9PXR5cGVvZiBuJiZuP246e30pO2lmKCFpJiZ1LnRvZ2dsZSYmL3Nob3d8aGlkZS8udGVzdChuKSYmKHUudG9nZ2xlPSExKSxpfHwoaT1uZXcgdCh0aGlzLHUpLHIuZGF0YSh3dCxpKSksInN0cmluZyI9PXR5cGVvZiBuKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGlbbl0pdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK24rJyInKTtpW25dKCl9fSl9LG50KHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB3cn19XSksdH0oKSxzKGRvY3VtZW50KS5vbihlaS5DTElDS19EQVRBX0FQSSxrci5EQVRBX1RPR0dMRSxmdW5jdGlvbihuKXsiQSI9PT1uLmN1cnJlbnRUYXJnZXQudGFnTmFtZSYmbi5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PXModGhpcyksaT1vLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyk7cyhpKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49cyh0aGlzKSxpPW4uZGF0YSh3dCk/InRvZ2dsZSI6dC5kYXRhKCk7b2kuX2pRdWVyeUludGVyZmFjZS5jYWxsKG4saSl9KX0pLHMuZm5bcHRdPW9pLl9qUXVlcnlJbnRlcmZhY2Uscy5mbltwdF0uQ29uc3RydWN0b3I9b2kscy5mbltwdF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBzLmZuW3B0XT11ZSxvaS5falF1ZXJ5SW50ZXJmYWNlfSxvaSksaWg9KGJ0PSJkcm9wZG93biIsdXQ9Ii4iKyhpcj0iYnMuZHJvcGRvd24iKSxkcj0iLmRhdGEtYXBpIixvZT0oZT10KS5mbltidF0sc2U9bmV3IFJlZ0V4cCgiMzh8NDB8MjciKSxiPXtISURFOiJoaWRlIit1dCxISURERU46ImhpZGRlbiIrdXQsU0hPVzoic2hvdyIrdXQsU0hPV046InNob3duIit1dCxDTElDSzoiY2xpY2siK3V0LENMSUNLX0RBVEFfQVBJOiJjbGljayIrdXQrZHIsS0VZRE9XTl9EQVRBX0FQSToia2V5ZG93biIrdXQrZHIsS0VZVVBfREFUQV9BUEk6ImtleXVwIit1dCtkcn0seXU9ImRpc2FibGVkIixodD0ic2hvdyIsaGU9ImRyb3B1cCIsY2U9ImRyb3ByaWdodCIsbGU9ImRyb3BsZWZ0IixwdT0iZHJvcGRvd24tbWVudS1yaWdodCIsYWU9InBvc2l0aW9uLXN0YXRpYyIscnI9J1tkYXRhLXRvZ2dsZT0iZHJvcGRvd24iXScsdmU9Ii5kcm9wZG93biBmb3JtIixncj0iLmRyb3Bkb3duLW1lbnUiLHllPSIubmF2YmFyLW5hdiIscGU9Ii5kcm9wZG93bi1tZW51IC5kcm9wZG93bi1pdGVtOm5vdCguZGlzYWJsZWQpOm5vdCg6ZGlzYWJsZWQpIix3ZT0idG9wLXN0YXJ0IixiZT0idG9wLWVuZCIsa2U9ImJvdHRvbS1zdGFydCIsZGU9ImJvdHRvbS1lbmQiLGdlPSJyaWdodC1zdGFydCIsbm89ImxlZnQtc3RhcnQiLHRvPXtvZmZzZXQ6MCxmbGlwOiEwLGJvdW5kYXJ5OiJzY3JvbGxQYXJlbnQiLHJlZmVyZW5jZToidG9nZ2xlIixkaXNwbGF5OiJkeW5hbWljIn0saW89e29mZnNldDoiKG51bWJlcnxzdHJpbmd8ZnVuY3Rpb24pIixmbGlwOiJib29sZWFuIixib3VuZGFyeToiKHN0cmluZ3xlbGVtZW50KSIscmVmZXJlbmNlOiIoc3RyaW5nfGVsZW1lbnQpIixkaXNwbGF5OiJzdHJpbmcifSxldD1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obix0KXt0aGlzLl9lbGVtZW50PW47dGhpcy5fcG9wcGVyPW51bGw7dGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyh0KTt0aGlzLl9tZW51PXRoaXMuX2dldE1lbnVFbGVtZW50KCk7dGhpcy5faW5OYXZiYXI9dGhpcy5fZGV0ZWN0TmF2YmFyKCk7dGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKX12YXIgdD1uLnByb3RvdHlwZTtyZXR1cm4gdC50b2dnbGU9ZnVuY3Rpb24oKXt2YXIgdCxzLHUsZixyO2lmKCF0aGlzLl9lbGVtZW50LmRpc2FibGVkJiYhZSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyh5dSkmJih0PW4uX2dldFBhcmVudEZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpLHM9ZSh0aGlzLl9tZW51KS5oYXNDbGFzcyhodCksKG4uX2NsZWFyTWVudXMoKSwhcykmJih1PXtyZWxhdGVkVGFyZ2V0OnRoaXMuX2VsZW1lbnR9LGY9ZS5FdmVudChiLlNIT1csdSksZSh0KS50cmlnZ2VyKGYpLCFmLmlzRGVmYXVsdFByZXZlbnRlZCgpKSkpe2lmKCF0aGlzLl9pbk5hdmJhcil7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvb3RzdHJhcCBkcm9wZG93biByZXF1aXJlIFBvcHBlci5qcyAoaHR0cHM6Ly9wb3BwZXIuanMub3JnKSIpO3I9dGhpcy5fZWxlbWVudDsicGFyZW50Ij09PXRoaXMuX2NvbmZpZy5yZWZlcmVuY2U/cj10Om8uaXNFbGVtZW50KHRoaXMuX2NvbmZpZy5yZWZlcmVuY2UpJiYocj10aGlzLl9jb25maWcucmVmZXJlbmNlLCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5fY29uZmlnLnJlZmVyZW5jZS5qcXVlcnkmJihyPXRoaXMuX2NvbmZpZy5yZWZlcmVuY2VbMF0pKTsic2Nyb2xsUGFyZW50IiE9PXRoaXMuX2NvbmZpZy5ib3VuZGFyeSYmZSh0KS5hZGRDbGFzcyhhZSk7dGhpcy5fcG9wcGVyPW5ldyBpKHIsdGhpcy5fbWVudSx0aGlzLl9nZXRQb3BwZXJDb25maWcoKSl9Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJjA9PT1lKHQpLmNsb3Nlc3QoeWUpLmxlbmd0aCYmZShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9uKCJtb3VzZW92ZXIiLG51bGwsZS5ub29wKTt0aGlzLl9lbGVtZW50LmZvY3VzKCk7dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKTtlKHRoaXMuX21lbnUpLnRvZ2dsZUNsYXNzKGh0KTtlKHQpLnRvZ2dsZUNsYXNzKGh0KS50cmlnZ2VyKGUuRXZlbnQoYi5TSE9XTix1KSl9fSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxpcik7ZSh0aGlzLl9lbGVtZW50KS5vZmYodXQpO3RoaXMuX2VsZW1lbnQ9bnVsbDsodGhpcy5fbWVudT1udWxsKSE9PXRoaXMuX3BvcHBlciYmKHRoaXMuX3BvcHBlci5kZXN0cm95KCksdGhpcy5fcG9wcGVyPW51bGwpfSx0LnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2luTmF2YmFyPXRoaXMuX2RldGVjdE5hdmJhcigpO251bGwhPT10aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpfSx0Ll9hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7ZSh0aGlzLl9lbGVtZW50KS5vbihiLkNMSUNLLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt0LnN0b3BQcm9wYWdhdGlvbigpO24udG9nZ2xlKCl9KX0sdC5fZ2V0Q29uZmlnPWZ1bmN0aW9uKG4pe3JldHVybiBuPXYoe30sdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0LGUodGhpcy5fZWxlbWVudCkuZGF0YSgpLG4pLG8udHlwZUNoZWNrQ29uZmlnKGJ0LG4sdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSksbn0sdC5fZ2V0TWVudUVsZW1lbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fbWVudSl7dmFyIHQ9bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7dGhpcy5fbWVudT1lKHQpLmZpbmQoZ3IpWzBdfXJldHVybiB0aGlzLl9tZW51fSx0Ll9nZXRQbGFjZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMuX2VsZW1lbnQpLnBhcmVudCgpLG49a2U7cmV0dXJuIHQuaGFzQ2xhc3MoaGUpPyhuPXdlLGUodGhpcy5fbWVudSkuaGFzQ2xhc3MocHUpJiYobj1iZSkpOnQuaGFzQ2xhc3MoY2UpP249Z2U6dC5oYXNDbGFzcyhsZSk/bj1ubzplKHRoaXMuX21lbnUpLmhhc0NsYXNzKHB1KSYmKG49ZGUpLG59LHQuX2RldGVjdE5hdmJhcj1mdW5jdGlvbigpe3JldHVybiAwPGUodGhpcy5fZWxlbWVudCkuY2xvc2VzdCgiLm5hdmJhciIpLmxlbmd0aH0sdC5fZ2V0UG9wcGVyQ29uZmlnPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxuPXt9LHQ7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX2NvbmZpZy5vZmZzZXQ/bi5mbj1mdW5jdGlvbihuKXtyZXR1cm4gbi5vZmZzZXRzPXYoe30sbi5vZmZzZXRzLGkuX2NvbmZpZy5vZmZzZXQobi5vZmZzZXRzKXx8e30pLG59Om4ub2Zmc2V0PXRoaXMuX2NvbmZpZy5vZmZzZXQsdD17cGxhY2VtZW50OnRoaXMuX2dldFBsYWNlbWVudCgpLG1vZGlmaWVyczp7b2Zmc2V0Om4sZmxpcDp7ZW5hYmxlZDp0aGlzLl9jb25maWcuZmxpcH0scHJldmVudE92ZXJmbG93Ontib3VuZGFyaWVzRWxlbWVudDp0aGlzLl9jb25maWcuYm91bmRhcnl9fX0sInN0YXRpYyI9PT10aGlzLl9jb25maWcuZGlzcGxheSYmKHQubW9kaWZpZXJzLmFwcGx5U3R5bGU9e2VuYWJsZWQ6ITF9KSx0fSxuLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPWUodGhpcykuZGF0YShpcik7aWYoaXx8KGk9bmV3IG4odGhpcywib2JqZWN0Ij09dHlwZW9mIHQ/dDpudWxsKSxlKHRoaXMpLmRhdGEoaXIsaSkpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7aVt0XSgpfX0pfSxuLl9jbGVhck1lbnVzPWZ1bmN0aW9uKHQpe3ZhciByLGksaCxmO2lmKCF0fHwzIT09dC53aGljaCYmKCJrZXl1cCIhPT10LnR5cGV8fDk9PT10LndoaWNoKSlmb3Iocj1lLm1ha2VBcnJheShlKHJyKSksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgdT1uLl9nZXRQYXJlbnRGcm9tRWxlbWVudChyW2ldKSxvPWUocltpXSkuZGF0YShpcikscz17cmVsYXRlZFRhcmdldDpyW2ldfTtvJiYoaD1vLl9tZW51LCFlKHUpLmhhc0NsYXNzKGh0KXx8dCYmKCJjbGljayI9PT10LnR5cGUmJi9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QodC50YXJnZXQudGFnTmFtZSl8fCJrZXl1cCI9PT10LnR5cGUmJjk9PT10LndoaWNoKSYmZS5jb250YWlucyh1LHQudGFyZ2V0KXx8KGY9ZS5FdmVudChiLkhJREUscyksZSh1KS50cmlnZ2VyKGYpLGYuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9mZigibW91c2VvdmVyIixudWxsLGUubm9vcCkscltpXS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpLGUoaCkucmVtb3ZlQ2xhc3MoaHQpLGUodSkucmVtb3ZlQ2xhc3MoaHQpLnRyaWdnZXIoZS5FdmVudChiLkhJRERFTixzKSkpKSl9fSxuLl9nZXRQYXJlbnRGcm9tRWxlbWVudD1mdW5jdGlvbihuKXt2YXIgdCxpPW8uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChuKTtyZXR1cm4gaSYmKHQ9ZShpKVswXSksdHx8bi5wYXJlbnROb2RlfSxuLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIHUsZixyLGksbzsoL2lucHV0fHRleHRhcmVhL2kudGVzdCh0LnRhcmdldC50YWdOYW1lKT8zMj09PXQud2hpY2h8fDI3IT09dC53aGljaCYmKDQwIT09dC53aGljaCYmMzghPT10LndoaWNofHxlKHQudGFyZ2V0KS5jbG9zZXN0KGdyKS5sZW5ndGgpOiFzZS50ZXN0KHQud2hpY2gpKXx8KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuZGlzYWJsZWR8fGUodGhpcykuaGFzQ2xhc3MoeXUpKXx8KHU9bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcyksZj1lKHUpLmhhc0NsYXNzKGh0KSwoZnx8Mjc9PT10LndoaWNoJiYzMj09PXQud2hpY2gpJiYoIWZ8fDI3IT09dC53aGljaCYmMzIhPT10LndoaWNoKT8ocj1lKHUpLmZpbmQocGUpLmdldCgpLDAhPT1yLmxlbmd0aCYmKGk9ci5pbmRleE9mKHQudGFyZ2V0KSwzOD09PXQud2hpY2gmJjA8aSYmaS0tLDQwPT09dC53aGljaCYmaTxyLmxlbmd0aC0xJiZpKyssaTwwJiYoaT0wKSxyW2ldLmZvY3VzKCkpKTooMjc9PT10LndoaWNoJiYobz1lKHUpLmZpbmQocnIpWzBdLGUobykudHJpZ2dlcigiZm9jdXMiKSksZSh0aGlzKS50cmlnZ2VyKCJjbGljayIpKSl9LG50KG4sbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB0b319LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaW99fV0pLG59KCksZShkb2N1bWVudCkub24oYi5LRVlET1dOX0RBVEFfQVBJLHJyLGV0Ll9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKGIuS0VZRE9XTl9EQVRBX0FQSSxncixldC5fZGF0YUFwaUtleWRvd25IYW5kbGVyKS5vbihiLkNMSUNLX0RBVEFfQVBJKyIgIitiLktFWVVQX0RBVEFfQVBJLGV0Ll9jbGVhck1lbnVzKS5vbihiLkNMSUNLX0RBVEFfQVBJLHJyLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtuLnN0b3BQcm9wYWdhdGlvbigpO2V0Ll9qUXVlcnlJbnRlcmZhY2UuY2FsbChlKHRoaXMpLCJ0b2dnbGUiKX0pLm9uKGIuQ0xJQ0tfREFUQV9BUEksdmUsZnVuY3Rpb24obil7bi5zdG9wUHJvcGFnYXRpb24oKX0pLGUuZm5bYnRdPWV0Ll9qUXVlcnlJbnRlcmZhY2UsZS5mbltidF0uQ29uc3RydWN0b3I9ZXQsZS5mbltidF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBlLmZuW2J0XT1vZSxldC5falF1ZXJ5SW50ZXJmYWNlfSxldCkscmg9KGt0PSJtb2RhbCIsdz0iLiIrKHVyPSJicy5tb2RhbCIpLHJvPShyPXQpLmZuW2t0XSxudT17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsZm9jdXM6ITAsc2hvdzohMH0sdW89e2JhY2tkcm9wOiIoYm9vbGVhbnxzdHJpbmcpIixrZXlib2FyZDoiYm9vbGVhbiIsZm9jdXM6ImJvb2xlYW4iLHNob3c6ImJvb2xlYW4ifSxhPXtISURFOiJoaWRlIit3LEhJRERFTjoiaGlkZGVuIit3LFNIT1c6InNob3ciK3csU0hPV046InNob3duIit3LEZPQ1VTSU46ImZvY3VzaW4iK3csUkVTSVpFOiJyZXNpemUiK3csQ0xJQ0tfRElTTUlTUzoiY2xpY2suZGlzbWlzcyIrdyxLRVlET1dOX0RJU01JU1M6ImtleWRvd24uZGlzbWlzcyIrdyxNT1VTRVVQX0RJU01JU1M6Im1vdXNldXAuZGlzbWlzcyIrdyxNT1VTRURPV05fRElTTUlTUzoibW91c2Vkb3duLmRpc21pc3MiK3csQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIit3KyIuZGF0YS1hcGkifSxmbz0ibW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUiLGVvPSJtb2RhbC1iYWNrZHJvcCIsd3U9Im1vZGFsLW9wZW4iLGR0PSJmYWRlIixmcj0ic2hvdyIsZnQ9e0RJQUxPRzoiLm1vZGFsLWRpYWxvZyIsREFUQV9UT0dHTEU6J1tkYXRhLXRvZ2dsZT0ibW9kYWwiXScsREFUQV9ESVNNSVNTOidbZGF0YS1kaXNtaXNzPSJtb2RhbCJdJyxGSVhFRF9DT05URU5UOiIuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wIixTVElDS1lfQ09OVEVOVDoiLnN0aWNreS10b3AiLE5BVkJBUl9UT0dHTEVSOiIubmF2YmFyLXRvZ2dsZXIifSxzaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQobix0KXt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMuX2VsZW1lbnQ9bjt0aGlzLl9kaWFsb2c9cihuKS5maW5kKGZ0LkRJQUxPRylbMF07dGhpcy5fYmFja2Ryb3A9bnVsbDt0aGlzLl9pc1Nob3duPSExO3RoaXMuX2lzQm9keU92ZXJmbG93aW5nPSExO3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9ITE7dGhpcy5fc2Nyb2xsYmFyV2lkdGg9MH12YXIgbj10LnByb3RvdHlwZTtyZXR1cm4gbi50b2dnbGU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2lzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KG4pfSxuLnNob3c9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpO3RoaXMuX2lzVHJhbnNpdGlvbmluZ3x8dGhpcy5faXNTaG93bnx8KHIodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoZHQpJiYodGhpcy5faXNUcmFuc2l0aW9uaW5nPSEwKSxpPXIuRXZlbnQoYS5TSE9XLHtyZWxhdGVkVGFyZ2V0Om59KSxyKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoaSksdGhpcy5faXNTaG93bnx8aS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuX2lzU2hvd249ITAsdGhpcy5fY2hlY2tTY3JvbGxiYXIoKSx0aGlzLl9zZXRTY3JvbGxiYXIoKSx0aGlzLl9hZGp1c3REaWFsb2coKSxyKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKHd1KSx0aGlzLl9zZXRFc2NhcGVFdmVudCgpLHRoaXMuX3NldFJlc2l6ZUV2ZW50KCkscih0aGlzLl9lbGVtZW50KS5vbihhLkNMSUNLX0RJU01JU1MsZnQuREFUQV9ESVNNSVNTLGZ1bmN0aW9uKG4pe3JldHVybiB0LmhpZGUobil9KSxyKHRoaXMuX2RpYWxvZykub24oYS5NT1VTRURPV05fRElTTUlTUyxmdW5jdGlvbigpe3IodC5fZWxlbWVudCkub25lKGEuTU9VU0VVUF9ESVNNSVNTLGZ1bmN0aW9uKG4pe3Iobi50YXJnZXQpLmlzKHQuX2VsZW1lbnQpJiYodC5faWdub3JlQmFja2Ryb3BDbGljaz0hMCl9KX0pLHRoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbigpe3JldHVybiB0Ll9zaG93RWxlbWVudChuKX0pKSl9LG4uaGlkZT1mdW5jdGlvbihuKXt2YXIgZj10aGlzLHQsaSx1OyhuJiZuLnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2lzVHJhbnNpdGlvbmluZyYmdGhpcy5faXNTaG93bikmJih0PXIuRXZlbnQoYS5ISURFKSwocih0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHQpLHRoaXMuX2lzU2hvd24mJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpKSYmKHRoaXMuX2lzU2hvd249ITEsaT1yKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGR0KSwoaSYmKHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMCksdGhpcy5fc2V0RXNjYXBlRXZlbnQoKSx0aGlzLl9zZXRSZXNpemVFdmVudCgpLHIoZG9jdW1lbnQpLm9mZihhLkZPQ1VTSU4pLHIodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoZnIpLHIodGhpcy5fZWxlbWVudCkub2ZmKGEuQ0xJQ0tfRElTTUlTUykscih0aGlzLl9kaWFsb2cpLm9mZihhLk1PVVNFRE9XTl9ESVNNSVNTKSxpKT8odT1vLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpLHIodGhpcy5fZWxlbWVudCkub25lKG8uVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24obil7cmV0dXJuIGYuX2hpZGVNb2RhbChuKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHUpKTp0aGlzLl9oaWRlTW9kYWwoKSkpfSxuLmRpc3Bvc2U9ZnVuY3Rpb24oKXtyLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCx1cik7cih3aW5kb3csZG9jdW1lbnQsdGhpcy5fZWxlbWVudCx0aGlzLl9iYWNrZHJvcCkub2ZmKHcpO3RoaXMuX2NvbmZpZz1udWxsO3RoaXMuX2VsZW1lbnQ9bnVsbDt0aGlzLl9kaWFsb2c9bnVsbDt0aGlzLl9iYWNrZHJvcD1udWxsO3RoaXMuX2lzU2hvd249bnVsbDt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1udWxsO3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9bnVsbDt0aGlzLl9zY3JvbGxiYXJXaWR0aD1udWxsfSxuLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2FkanVzdERpYWxvZygpfSxuLl9nZXRDb25maWc9ZnVuY3Rpb24obil7cmV0dXJuIG49dih7fSxudSxuKSxvLnR5cGVDaGVja0NvbmZpZyhrdCxuLHVvKSxufSxuLl9zaG93RWxlbWVudD1mdW5jdGlvbihuKXt2YXIgdD10aGlzLHU9cih0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhkdCksZixpLGU7dGhpcy5fZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERXx8ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTt0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iKTt0aGlzLl9lbGVtZW50LnNjcm9sbFRvcD0wO3UmJm8ucmVmbG93KHRoaXMuX2VsZW1lbnQpO3IodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoZnIpO3RoaXMuX2NvbmZpZy5mb2N1cyYmdGhpcy5fZW5mb3JjZUZvY3VzKCk7Zj1yLkV2ZW50KGEuU0hPV04se3JlbGF0ZWRUYXJnZXQ6bn0pO2k9ZnVuY3Rpb24oKXt0Ll9jb25maWcuZm9jdXMmJnQuX2VsZW1lbnQuZm9jdXMoKTt0Ll9pc1RyYW5zaXRpb25pbmc9ITE7cih0Ll9lbGVtZW50KS50cmlnZ2VyKGYpfTt1PyhlPW8uZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCkscih0aGlzLl9kaWFsb2cpLm9uZShvLlRSQU5TSVRJT05fRU5ELGkpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGUpKTppKCl9LG4uX2VuZm9yY2VGb2N1cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7cihkb2N1bWVudCkub2ZmKGEuRk9DVVNJTikub24oYS5GT0NVU0lOLGZ1bmN0aW9uKHQpe2RvY3VtZW50IT09dC50YXJnZXQmJm4uX2VsZW1lbnQhPT10LnRhcmdldCYmMD09PXIobi5fZWxlbWVudCkuaGFzKHQudGFyZ2V0KS5sZW5ndGgmJm4uX2VsZW1lbnQuZm9jdXMoKX0pfSxuLl9zZXRFc2NhcGVFdmVudD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5faXNTaG93biYmdGhpcy5fY29uZmlnLmtleWJvYXJkP3IodGhpcy5fZWxlbWVudCkub24oYS5LRVlET1dOX0RJU01JU1MsZnVuY3Rpb24odCl7Mjc9PT10LndoaWNoJiYodC5wcmV2ZW50RGVmYXVsdCgpLG4uaGlkZSgpKX0pOnRoaXMuX2lzU2hvd258fHIodGhpcy5fZWxlbWVudCkub2ZmKGEuS0VZRE9XTl9ESVNNSVNTKX0sbi5fc2V0UmVzaXplRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX2lzU2hvd24/cih3aW5kb3cpLm9uKGEuUkVTSVpFLGZ1bmN0aW9uKHQpe3JldHVybiBuLmhhbmRsZVVwZGF0ZSh0KX0pOnIod2luZG93KS5vZmYoYS5SRVNJWkUpfSxuLl9oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCk7dGhpcy5faXNUcmFuc2l0aW9uaW5nPSExO3RoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbigpe3IoZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3Mod3UpO24uX3Jlc2V0QWRqdXN0bWVudHMoKTtuLl9yZXNldFNjcm9sbGJhcigpO3Iobi5fZWxlbWVudCkudHJpZ2dlcihhLkhJRERFTil9KX0sbi5fcmVtb3ZlQmFja2Ryb3A9ZnVuY3Rpb24oKXt0aGlzLl9iYWNrZHJvcCYmKHIodGhpcy5fYmFja2Ryb3ApLnJlbW92ZSgpLHRoaXMuX2JhY2tkcm9wPW51bGwpfSxuLl9zaG93QmFja2Ryb3A9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxpPXIodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoZHQpP2R0OiIiLGYsdSxlO2lmKHRoaXMuX2lzU2hvd24mJnRoaXMuX2NvbmZpZy5iYWNrZHJvcCl7aWYodGhpcy5fYmFja2Ryb3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5fYmFja2Ryb3AuY2xhc3NOYW1lPWVvLGkmJnIodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKGkpLHIodGhpcy5fYmFja2Ryb3ApLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLHIodGhpcy5fZWxlbWVudCkub24oYS5DTElDS19ESVNNSVNTLGZ1bmN0aW9uKG4pe3QuX2lnbm9yZUJhY2tkcm9wQ2xpY2s/dC5faWdub3JlQmFja2Ryb3BDbGljaz0hMTpuLnRhcmdldD09PW4uY3VycmVudFRhcmdldCYmKCJzdGF0aWMiPT09dC5fY29uZmlnLmJhY2tkcm9wP3QuX2VsZW1lbnQuZm9jdXMoKTp0LmhpZGUoKSl9KSxpJiZvLnJlZmxvdyh0aGlzLl9iYWNrZHJvcCkscih0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3MoZnIpLCFuKXJldHVybjtpZighaSlyZXR1cm4gdm9pZCBuKCk7Zj1vLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtyKHRoaXMuX2JhY2tkcm9wKS5vbmUoby5UUkFOU0lUSU9OX0VORCxuKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChmKX1lbHNlIXRoaXMuX2lzU2hvd24mJnRoaXMuX2JhY2tkcm9wPyhyKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmVDbGFzcyhmciksdT1mdW5jdGlvbigpe3QuX3JlbW92ZUJhY2tkcm9wKCk7biYmbigpfSxyKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGR0KT8oZT1vLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKSxyKHRoaXMuX2JhY2tkcm9wKS5vbmUoby5UUkFOU0lUSU9OX0VORCx1KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChlKSk6dSgpKTpuJiZuKCl9LG4uX2FkanVzdERpYWxvZz1mdW5jdGlvbigpe3ZhciBuPXRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7IXRoaXMuX2lzQm9keU92ZXJmbG93aW5nJiZuJiYodGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmIW4mJih0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0sbi5fcmVzZXRBZGp1c3RtZW50cz1mdW5jdGlvbigpe3RoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQ9IiI7dGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ9IiJ9LG4uX2NoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1uLmxlZnQrbi5yaWdodDx3aW5kb3cuaW5uZXJXaWR0aDt0aGlzLl9zY3JvbGxiYXJXaWR0aD10aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpfSxuLl9zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQsaTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmKHIoZnQuRklYRURfQ09OVEVOVCkuZWFjaChmdW5jdGlvbih0LGkpe3ZhciB1PXIoaSlbMF0uc3R5bGUucGFkZGluZ1JpZ2h0LGY9cihpKS5jc3MoInBhZGRpbmctcmlnaHQiKTtyKGkpLmRhdGEoInBhZGRpbmctcmlnaHQiLHUpLmNzcygicGFkZGluZy1yaWdodCIscGFyc2VGbG9hdChmKStuLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0pLHIoZnQuU1RJQ0tZX0NPTlRFTlQpLmVhY2goZnVuY3Rpb24odCxpKXt2YXIgdT1yKGkpWzBdLnN0eWxlLm1hcmdpblJpZ2h0LGY9cihpKS5jc3MoIm1hcmdpbi1yaWdodCIpO3IoaSkuZGF0YSgibWFyZ2luLXJpZ2h0Iix1KS5jc3MoIm1hcmdpbi1yaWdodCIscGFyc2VGbG9hdChmKS1uLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0pLHIoZnQuTkFWQkFSX1RPR0dMRVIpLmVhY2goZnVuY3Rpb24odCxpKXt2YXIgdT1yKGkpWzBdLnN0eWxlLm1hcmdpblJpZ2h0LGY9cihpKS5jc3MoIm1hcmdpbi1yaWdodCIpO3IoaSkuZGF0YSgibWFyZ2luLXJpZ2h0Iix1KS5jc3MoIm1hcmdpbi1yaWdodCIscGFyc2VGbG9hdChmKStuLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0pLHQ9ZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQsaT1yKGRvY3VtZW50LmJvZHkpLmNzcygicGFkZGluZy1yaWdodCIpLHIoZG9jdW1lbnQuYm9keSkuZGF0YSgicGFkZGluZy1yaWdodCIsdCkuY3NzKCJwYWRkaW5nLXJpZ2h0IixwYXJzZUZsb2F0KGkpK3RoaXMuX3Njcm9sbGJhcldpZHRoKyJweCIpKX0sbi5fcmVzZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXtyKGZ0LkZJWEVEX0NPTlRFTlQpLmVhY2goZnVuY3Rpb24obix0KXt2YXIgaT1yKHQpLmRhdGEoInBhZGRpbmctcmlnaHQiKTsidW5kZWZpbmVkIiE9dHlwZW9mIGkmJnIodCkuY3NzKCJwYWRkaW5nLXJpZ2h0IixpKS5yZW1vdmVEYXRhKCJwYWRkaW5nLXJpZ2h0Iil9KTtyKGZ0LlNUSUNLWV9DT05URU5UKyIsICIrZnQuTkFWQkFSX1RPR0dMRVIpLmVhY2goZnVuY3Rpb24obix0KXt2YXIgaT1yKHQpLmRhdGEoIm1hcmdpbi1yaWdodCIpOyJ1bmRlZmluZWQiIT10eXBlb2YgaSYmcih0KS5jc3MoIm1hcmdpbi1yaWdodCIsaSkucmVtb3ZlRGF0YSgibWFyZ2luLXJpZ2h0Iil9KTt2YXIgbj1yKGRvY3VtZW50LmJvZHkpLmRhdGEoInBhZGRpbmctcmlnaHQiKTsidW5kZWZpbmVkIiE9dHlwZW9mIG4mJnIoZG9jdW1lbnQuYm9keSkuY3NzKCJwYWRkaW5nLXJpZ2h0IixuKS5yZW1vdmVEYXRhKCJwYWRkaW5nLXJpZ2h0Iil9LG4uX2dldFNjcm9sbGJhcldpZHRoPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdDtyZXR1cm4gbi5jbGFzc05hbWU9Zm8sZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSx0PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgtbi5jbGllbnRXaWR0aCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4pLHR9LHQuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuLGkpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1yKHRoaXMpLmRhdGEodXIpLGY9dih7fSxudSxyKHRoaXMpLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG4mJm4/bjp7fSk7aWYodXx8KHU9bmV3IHQodGhpcyxmKSxyKHRoaXMpLmRhdGEodXIsdSkpLCJzdHJpbmciPT10eXBlb2Ygbil7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB1W25dKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytuKyciJyk7dVtuXShpKX1lbHNlIGYuc2hvdyYmdS5zaG93KGkpfSl9LG50KHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBudX19XSksdH0oKSxyKGRvY3VtZW50KS5vbihhLkNMSUNLX0RBVEFfQVBJLGZ0LkRBVEFfVE9HR0xFLGZ1bmN0aW9uKG4pe3ZhciB0LGk9dGhpcyx1PW8uZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKSxmLGU7dSYmKHQ9cih1KVswXSk7Zj1yKHQpLmRhdGEodXIpPyJ0b2dnbGUiOnYoe30scih0KS5kYXRhKCkscih0aGlzKS5kYXRhKCkpOyJBIiE9PXRoaXMudGFnTmFtZSYmIkFSRUEiIT09dGhpcy50YWdOYW1lfHxuLnByZXZlbnREZWZhdWx0KCk7ZT1yKHQpLm9uZShhLlNIT1csZnVuY3Rpb24obil7bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8ZS5vbmUoYS5ISURERU4sZnVuY3Rpb24oKXtyKGkpLmlzKCI6dmlzaWJsZSIpJiZpLmZvY3VzKCl9KX0pO3NpLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChyKHQpLGYsdGhpcyl9KSxyLmZuW2t0XT1zaS5falF1ZXJ5SW50ZXJmYWNlLHIuZm5ba3RdLkNvbnN0cnVjdG9yPXNpLHIuZm5ba3RdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gci5mbltrdF09cm8sc2kuX2pRdWVyeUludGVyZmFjZX0sc2kpLHN1PShjdD0idG9vbHRpcCIsaz0iLiIrKHR1PSJicy50b29sdGlwIiksb289KHU9dCkuZm5bY3RdLGJ1PSJicy10b29sdGlwIixzbz1uZXcgUmVnRXhwKCIoXnxcXHMpIitidSsiXFxTKyIsImciKSxsbz17YW5pbWF0aW9uOiEwLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJ0b29sdGlwIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJhcnJvdyI+PFwvZGl2PjxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiPjxcL2Rpdj48XC9kaXY+Jyx0cmlnZ2VyOiJob3ZlciBmb2N1cyIsdGl0bGU6IiIsZGVsYXk6MCxodG1sOiEoY289e0FVVE86ImF1dG8iLFRPUDoidG9wIixSSUdIVDoicmlnaHQiLEJPVFRPTToiYm90dG9tIixMRUZUOiJsZWZ0In0pLHNlbGVjdG9yOiEoaG89e2FuaW1hdGlvbjoiYm9vbGVhbiIsdGVtcGxhdGU6InN0cmluZyIsdGl0bGU6IihzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbikiLHRyaWdnZXI6InN0cmluZyIsZGVsYXk6IihudW1iZXJ8b2JqZWN0KSIsaHRtbDoiYm9vbGVhbiIsc2VsZWN0b3I6IihzdHJpbmd8Ym9vbGVhbikiLHBsYWNlbWVudDoiKHN0cmluZ3xmdW5jdGlvbikiLG9mZnNldDoiKG51bWJlcnxzdHJpbmcpIixjb250YWluZXI6IihzdHJpbmd8ZWxlbWVudHxib29sZWFuKSIsZmFsbGJhY2tQbGFjZW1lbnQ6IihzdHJpbmd8YXJyYXkpIixib3VuZGFyeToiKHN0cmluZ3xlbGVtZW50KSJ9KSxwbGFjZW1lbnQ6InRvcCIsb2Zmc2V0OjAsY29udGFpbmVyOiExLGZhbGxiYWNrUGxhY2VtZW50OiJmbGlwIixib3VuZGFyeToic2Nyb2xsUGFyZW50In0saXU9Im91dCIsYW89e0hJREU6ImhpZGUiK2ssSElEREVOOiJoaWRkZW4iK2ssU0hPVzooaGk9InNob3ciKStrLFNIT1dOOiJzaG93biIrayxJTlNFUlRFRDoiaW5zZXJ0ZWQiK2ssQ0xJQ0s6ImNsaWNrIitrLEZPQ1VTSU46ImZvY3VzaW4iK2ssRk9DVVNPVVQ6ImZvY3Vzb3V0IitrLE1PVVNFRU5URVI6Im1vdXNlZW50ZXIiK2ssTU9VU0VMRUFWRToibW91c2VsZWF2ZSIra30sY2k9ImZhZGUiLGxpPSJzaG93Iix2bz0iLnRvb2x0aXAtaW5uZXIiLHlvPSIuYXJyb3ciLGFpPSJob3ZlciIscnU9ImZvY3VzIixwbz0iY2xpY2siLHdvPSJtYW51YWwiLGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuLHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaSl0aHJvdyBuZXcgVHlwZUVycm9yKCJCb290c3RyYXAgdG9vbHRpcHMgcmVxdWlyZSBQb3BwZXIuanMgKGh0dHBzOi8vcG9wcGVyLmpzLm9yZykiKTt0aGlzLl9pc0VuYWJsZWQ9ITA7dGhpcy5fdGltZW91dD0wO3RoaXMuX2hvdmVyU3RhdGU9IiI7dGhpcy5fYWN0aXZlVHJpZ2dlcj17fTt0aGlzLl9wb3BwZXI9bnVsbDt0aGlzLmVsZW1lbnQ9bjt0aGlzLmNvbmZpZz10aGlzLl9nZXRDb25maWcodCk7dGhpcy50aXA9bnVsbDt0aGlzLl9zZXRMaXN0ZW5lcnMoKX12YXIgbj10LnByb3RvdHlwZTtyZXR1cm4gbi5lbmFibGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0VuYWJsZWQ9ITB9LG4uZGlzYWJsZT1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hMX0sbi50b2dnbGVFbmFibGVkPWZ1bmN0aW9uKCl7dGhpcy5faXNFbmFibGVkPSF0aGlzLl9pc0VuYWJsZWR9LG4udG9nZ2xlPWZ1bmN0aW9uKG4pe2lmKHRoaXMuX2lzRW5hYmxlZClpZihuKXt2YXIgaT10aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZLHQ9dShuLmN1cnJlbnRUYXJnZXQpLmRhdGEoaSk7dHx8KHQ9bmV3IHRoaXMuY29uc3RydWN0b3Iobi5jdXJyZW50VGFyZ2V0LHRoaXMuX2dldERlbGVnYXRlQ29uZmlnKCkpLHUobi5jdXJyZW50VGFyZ2V0KS5kYXRhKGksdCkpO3QuX2FjdGl2ZVRyaWdnZXIuY2xpY2s9IXQuX2FjdGl2ZVRyaWdnZXIuY2xpY2s7dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpP3QuX2VudGVyKG51bGwsdCk6dC5fbGVhdmUobnVsbCx0KX1lbHNle2lmKHUodGhpcy5nZXRUaXBFbGVtZW50KCkpLmhhc0NsYXNzKGxpKSlyZXR1cm4gdm9pZCB0aGlzLl9sZWF2ZShudWxsLHRoaXMpO3RoaXMuX2VudGVyKG51bGwsdGhpcyl9fSxuLmRpc3Bvc2U9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5fdGltZW91dCk7dS5yZW1vdmVEYXRhKHRoaXMuZWxlbWVudCx0aGlzLmNvbnN0cnVjdG9yLkRBVEFfS0VZKTt1KHRoaXMuZWxlbWVudCkub2ZmKHRoaXMuY29uc3RydWN0b3IuRVZFTlRfS0VZKTt1KHRoaXMuZWxlbWVudCkuY2xvc2VzdCgiLm1vZGFsIikub2ZmKCJoaWRlLmJzLm1vZGFsIik7dGhpcy50aXAmJnUodGhpcy50aXApLnJlbW92ZSgpO3RoaXMuX2lzRW5hYmxlZD1udWxsO3RoaXMuX3RpbWVvdXQ9bnVsbDt0aGlzLl9ob3ZlclN0YXRlPW51bGw7KHRoaXMuX2FjdGl2ZVRyaWdnZXI9bnVsbCkhPT10aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci5kZXN0cm95KCk7dGhpcy5fcG9wcGVyPW51bGw7dGhpcy5lbGVtZW50PW51bGw7dGhpcy5jb25maWc9bnVsbDt0aGlzLnRpcD1udWxsfSxuLnNob3c9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHIsaCx0LGYsYyxlLGwscyxhO2lmKCJub25lIj09PXUodGhpcy5lbGVtZW50KS5jc3MoImRpc3BsYXkiKSl0aHJvdyBuZXcgRXJyb3IoIlBsZWFzZSB1c2Ugc2hvdyBvbiB2aXNpYmxlIGVsZW1lbnRzIik7aWYocj11LkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuU0hPVyksdGhpcy5pc1dpdGhDb250ZW50KCkmJnRoaXMuX2lzRW5hYmxlZCl7aWYodSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIociksaD11LmNvbnRhaW5zKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLmVsZW1lbnQpLHIuaXNEZWZhdWx0UHJldmVudGVkKCl8fCFoKXJldHVybjt0PXRoaXMuZ2V0VGlwRWxlbWVudCgpO2Y9by5nZXRVSUQodGhpcy5jb25zdHJ1Y3Rvci5OQU1FKTt0LnNldEF0dHJpYnV0ZSgiaWQiLGYpO3RoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtZGVzY3JpYmVkYnkiLGYpO3RoaXMuc2V0Q29udGVudCgpO3RoaXMuY29uZmlnLmFuaW1hdGlvbiYmdSh0KS5hZGRDbGFzcyhjaSk7Yz0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jb25maWcucGxhY2VtZW50P3RoaXMuY29uZmlnLnBsYWNlbWVudC5jYWxsKHRoaXMsdCx0aGlzLmVsZW1lbnQpOnRoaXMuY29uZmlnLnBsYWNlbWVudDtlPXRoaXMuX2dldEF0dGFjaG1lbnQoYyk7dGhpcy5hZGRBdHRhY2htZW50Q2xhc3MoZSk7bD0hMT09PXRoaXMuY29uZmlnLmNvbnRhaW5lcj9kb2N1bWVudC5ib2R5OnUodGhpcy5jb25maWcuY29udGFpbmVyKTt1KHQpLmRhdGEodGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSx0aGlzKTt1LmNvbnRhaW5zKHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCx0aGlzLnRpcCl8fHUodCkuYXBwZW5kVG8obCk7dSh0aGlzLmVsZW1lbnQpLnRyaWdnZXIodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5JTlNFUlRFRCk7dGhpcy5fcG9wcGVyPW5ldyBpKHRoaXMuZWxlbWVudCx0LHtwbGFjZW1lbnQ6ZSxtb2RpZmllcnM6e29mZnNldDp7b2Zmc2V0OnRoaXMuY29uZmlnLm9mZnNldH0sZmxpcDp7YmVoYXZpb3I6dGhpcy5jb25maWcuZmFsbGJhY2tQbGFjZW1lbnR9LGFycm93OntlbGVtZW50OnlvfSxwcmV2ZW50T3ZlcmZsb3c6e2JvdW5kYXJpZXNFbGVtZW50OnRoaXMuY29uZmlnLmJvdW5kYXJ5fX0sb25DcmVhdGU6ZnVuY3Rpb24odCl7dC5vcmlnaW5hbFBsYWNlbWVudCE9PXQucGxhY2VtZW50JiZuLl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2UodCl9LG9uVXBkYXRlOmZ1bmN0aW9uKHQpe24uX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSh0KX19KTt1KHQpLmFkZENsYXNzKGxpKTsib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmdShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9uKCJtb3VzZW92ZXIiLG51bGwsdS5ub29wKTtzPWZ1bmN0aW9uKCl7bi5jb25maWcuYW5pbWF0aW9uJiZuLl9maXhUcmFuc2l0aW9uKCk7dmFyIHQ9bi5faG92ZXJTdGF0ZTtuLl9ob3ZlclN0YXRlPW51bGw7dShuLmVsZW1lbnQpLnRyaWdnZXIobi5jb25zdHJ1Y3Rvci5FdmVudC5TSE9XTik7dD09PWl1JiZuLl9sZWF2ZShudWxsLG4pfTt1KHRoaXMudGlwKS5oYXNDbGFzcyhjaSk/KGE9by5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLnRpcCksdSh0aGlzLnRpcCkub25lKG8uVFJBTlNJVElPTl9FTkQscykuZW11bGF0ZVRyYW5zaXRpb25FbmQoYSkpOnMoKX19LG4uaGlkZT1mdW5jdGlvbihuKXt2YXIgdD10aGlzLGk9dGhpcy5nZXRUaXBFbGVtZW50KCkscj11LkV2ZW50KHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSElERSksZj1mdW5jdGlvbigpe3QuX2hvdmVyU3RhdGUhPT1oaSYmaS5wYXJlbnROb2RlJiZpLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaSk7dC5fY2xlYW5UaXBDbGFzcygpO3QuZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoImFyaWEtZGVzY3JpYmVkYnkiKTt1KHQuZWxlbWVudCkudHJpZ2dlcih0LmNvbnN0cnVjdG9yLkV2ZW50LkhJRERFTik7bnVsbCE9PXQuX3BvcHBlciYmdC5fcG9wcGVyLmRlc3Ryb3koKTtuJiZuKCl9LGU7KHUodGhpcy5lbGVtZW50KS50cmlnZ2VyKHIpLHIuaXNEZWZhdWx0UHJldmVudGVkKCkpfHwoKHUoaSkucmVtb3ZlQ2xhc3MobGkpLCJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZ1KGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub2ZmKCJtb3VzZW92ZXIiLG51bGwsdS5ub29wKSx0aGlzLl9hY3RpdmVUcmlnZ2VyW3BvXT0hMSx0aGlzLl9hY3RpdmVUcmlnZ2VyW3J1XT0hMSx0aGlzLl9hY3RpdmVUcmlnZ2VyW2FpXT0hMSx1KHRoaXMudGlwKS5oYXNDbGFzcyhjaSkpPyhlPW8uZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQoaSksdShpKS5vbmUoby5UUkFOU0lUSU9OX0VORCxmKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChlKSk6ZigpLHRoaXMuX2hvdmVyU3RhdGU9IiIpfSxuLnVwZGF0ZT1mdW5jdGlvbigpe251bGwhPT10aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpfSxuLmlzV2l0aENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gQm9vbGVhbih0aGlzLmdldFRpdGxlKCkpfSxuLmFkZEF0dGFjaG1lbnRDbGFzcz1mdW5jdGlvbihuKXt1KHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5hZGRDbGFzcyhidSsiLSIrbil9LG4uZ2V0VGlwRWxlbWVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLnRpcD10aGlzLnRpcHx8dSh0aGlzLmNvbmZpZy50ZW1wbGF0ZSlbMF0sdGhpcy50aXB9LG4uc2V0Q29udGVudD1mdW5jdGlvbigpe3ZhciBuPXUodGhpcy5nZXRUaXBFbGVtZW50KCkpO3RoaXMuc2V0RWxlbWVudENvbnRlbnQobi5maW5kKHZvKSx0aGlzLmdldFRpdGxlKCkpO24ucmVtb3ZlQ2xhc3MoY2krIiAiK2xpKX0sbi5zZXRFbGVtZW50Q29udGVudD1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuY29uZmlnLmh0bWw7Im9iamVjdCI9PXR5cGVvZiB0JiYodC5ub2RlVHlwZXx8dC5qcXVlcnkpP2k/dSh0KS5wYXJlbnQoKS5pcyhuKXx8bi5lbXB0eSgpLmFwcGVuZCh0KTpuLnRleHQodSh0KS50ZXh0KCkpOm5baT8iaHRtbCI6InRleHQiXSh0KX0sbi5nZXRUaXRsZT1mdW5jdGlvbigpe3ZhciBuPXRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoImRhdGEtb3JpZ2luYWwtdGl0bGUiKTtyZXR1cm4gbnx8KG49ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29uZmlnLnRpdGxlP3RoaXMuY29uZmlnLnRpdGxlLmNhbGwodGhpcy5lbGVtZW50KTp0aGlzLmNvbmZpZy50aXRsZSksbn0sbi5fZ2V0QXR0YWNobWVudD1mdW5jdGlvbihuKXtyZXR1cm4gY29bbi50b1VwcGVyQ2FzZSgpXX0sbi5fc2V0TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLmNvbmZpZy50cmlnZ2VyLnNwbGl0KCIgIikuZm9yRWFjaChmdW5jdGlvbih0KXtpZigiY2xpY2siPT09dCl1KG4uZWxlbWVudCkub24obi5jb25zdHJ1Y3Rvci5FdmVudC5DTElDSyxuLmNvbmZpZy5zZWxlY3RvcixmdW5jdGlvbih0KXtyZXR1cm4gbi50b2dnbGUodCl9KTtlbHNlIGlmKHQhPT13byl7dmFyIGk9dD09PWFpP24uY29uc3RydWN0b3IuRXZlbnQuTU9VU0VFTlRFUjpuLmNvbnN0cnVjdG9yLkV2ZW50LkZPQ1VTSU4scj10PT09YWk/bi5jb25zdHJ1Y3Rvci5FdmVudC5NT1VTRUxFQVZFOm4uY29uc3RydWN0b3IuRXZlbnQuRk9DVVNPVVQ7dShuLmVsZW1lbnQpLm9uKGksbi5jb25maWcuc2VsZWN0b3IsZnVuY3Rpb24odCl7cmV0dXJuIG4uX2VudGVyKHQpfSkub24ocixuLmNvbmZpZy5zZWxlY3RvcixmdW5jdGlvbih0KXtyZXR1cm4gbi5fbGVhdmUodCl9KX11KG4uZWxlbWVudCkuY2xvc2VzdCgiLm1vZGFsIikub24oImhpZGUuYnMubW9kYWwiLGZ1bmN0aW9uKCl7cmV0dXJuIG4uaGlkZSgpfSl9KTt0aGlzLmNvbmZpZy5zZWxlY3Rvcj90aGlzLmNvbmZpZz12KHt9LHRoaXMuY29uZmlnLHt0cmlnZ2VyOiJtYW51YWwiLHNlbGVjdG9yOiIifSk6dGhpcy5fZml4VGl0bGUoKX0sbi5fZml4VGl0bGU9ZnVuY3Rpb24oKXt2YXIgbj10eXBlb2YgdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbC10aXRsZSIpOyh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpfHwic3RyaW5nIiE9PW4pJiYodGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbC10aXRsZSIsdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgidGl0bGUiKXx8IiIpLHRoaXMuZWxlbWVudC5zZXRBdHRyaWJ1dGUoInRpdGxlIiwiIikpfSxuLl9lbnRlcj1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7KHQ9dHx8dShuLmN1cnJlbnRUYXJnZXQpLmRhdGEoaSkpfHwodD1uZXcgdGhpcy5jb25zdHJ1Y3RvcihuLmN1cnJlbnRUYXJnZXQsdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSksdShuLmN1cnJlbnRUYXJnZXQpLmRhdGEoaSx0KSk7biYmKHQuX2FjdGl2ZVRyaWdnZXJbImZvY3VzaW4iPT09bi50eXBlP3J1OmFpXT0hMCk7dSh0LmdldFRpcEVsZW1lbnQoKSkuaGFzQ2xhc3MobGkpfHx0Ll9ob3ZlclN0YXRlPT09aGk/dC5faG92ZXJTdGF0ZT1oaTooY2xlYXJUaW1lb3V0KHQuX3RpbWVvdXQpLHQuX2hvdmVyU3RhdGU9aGksdC5jb25maWcuZGVsYXkmJnQuY29uZmlnLmRlbGF5LnNob3c/dC5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5faG92ZXJTdGF0ZT09PWhpJiZ0LnNob3coKX0sdC5jb25maWcuZGVsYXkuc2hvdyk6dC5zaG93KCkpfSxuLl9sZWF2ZT1mdW5jdGlvbihuLHQpe3ZhciBpPXRoaXMuY29uc3RydWN0b3IuREFUQV9LRVk7KHQ9dHx8dShuLmN1cnJlbnRUYXJnZXQpLmRhdGEoaSkpfHwodD1uZXcgdGhpcy5jb25zdHJ1Y3RvcihuLmN1cnJlbnRUYXJnZXQsdGhpcy5fZ2V0RGVsZWdhdGVDb25maWcoKSksdShuLmN1cnJlbnRUYXJnZXQpLmRhdGEoaSx0KSk7biYmKHQuX2FjdGl2ZVRyaWdnZXJbImZvY3Vzb3V0Ij09PW4udHlwZT9ydTphaV09ITEpO3QuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKXx8KGNsZWFyVGltZW91dCh0Ll90aW1lb3V0KSx0Ll9ob3ZlclN0YXRlPWl1LHQuY29uZmlnLmRlbGF5JiZ0LmNvbmZpZy5kZWxheS5oaWRlP3QuX3RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3QuX2hvdmVyU3RhdGU9PT1pdSYmdC5oaWRlKCl9LHQuY29uZmlnLmRlbGF5LmhpZGUpOnQuaGlkZSgpKX0sbi5faXNXaXRoQWN0aXZlVHJpZ2dlcj1mdW5jdGlvbigpe2Zvcih2YXIgbiBpbiB0aGlzLl9hY3RpdmVUcmlnZ2VyKWlmKHRoaXMuX2FjdGl2ZVRyaWdnZXJbbl0pcmV0dXJuITA7cmV0dXJuITF9LG4uX2dldENvbmZpZz1mdW5jdGlvbihuKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mKG49dih7fSx0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHQsdSh0aGlzLmVsZW1lbnQpLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG4mJm4/bjp7fSkpLmRlbGF5JiYobi5kZWxheT17c2hvdzpuLmRlbGF5LGhpZGU6bi5kZWxheX0pLCJudW1iZXIiPT10eXBlb2Ygbi50aXRsZSYmKG4udGl0bGU9bi50aXRsZS50b1N0cmluZygpKSwibnVtYmVyIj09dHlwZW9mIG4uY29udGVudCYmKG4uY29udGVudD1uLmNvbnRlbnQudG9TdHJpbmcoKSksby50eXBlQ2hlY2tDb25maWcoY3Qsbix0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRUeXBlKSxufSxuLl9nZXREZWxlZ2F0ZUNvbmZpZz1mdW5jdGlvbigpe3ZhciB0PXt9LG47aWYodGhpcy5jb25maWcpZm9yKG4gaW4gdGhpcy5jb25maWcpdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0W25dIT09dGhpcy5jb25maWdbbl0mJih0W25dPXRoaXMuY29uZmlnW25dKTtyZXR1cm4gdH0sbi5fY2xlYW5UaXBDbGFzcz1mdW5jdGlvbigpe3ZhciB0PXUodGhpcy5nZXRUaXBFbGVtZW50KCkpLG49dC5hdHRyKCJjbGFzcyIpLm1hdGNoKHNvKTtudWxsIT09biYmMDxuLmxlbmd0aCYmdC5yZW1vdmVDbGFzcyhuLmpvaW4oIiIpKX0sbi5faGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlPWZ1bmN0aW9uKG4pe3RoaXMuX2NsZWFuVGlwQ2xhc3MoKTt0aGlzLmFkZEF0dGFjaG1lbnRDbGFzcyh0aGlzLl9nZXRBdHRhY2htZW50KG4ucGxhY2VtZW50KSl9LG4uX2ZpeFRyYW5zaXRpb249ZnVuY3Rpb24oKXt2YXIgbj10aGlzLmdldFRpcEVsZW1lbnQoKSx0PXRoaXMuY29uZmlnLmFuaW1hdGlvbjtudWxsPT09bi5nZXRBdHRyaWJ1dGUoIngtcGxhY2VtZW50IikmJih1KG4pLnJlbW92ZUNsYXNzKGNpKSx0aGlzLmNvbmZpZy5hbmltYXRpb249ITEsdGhpcy5oaWRlKCksdGhpcy5zaG93KCksdGhpcy5jb25maWcuYW5pbWF0aW9uPXQpfSx0Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXUodGhpcykuZGF0YSh0dSkscj0ib2JqZWN0Ij09dHlwZW9mIG4mJm47aWYoKGl8fCEvZGlzcG9zZXxoaWRlLy50ZXN0KG4pKSYmKGl8fChpPW5ldyB0KHRoaXMsciksdSh0aGlzKS5kYXRhKHR1LGkpKSwic3RyaW5nIj09dHlwZW9mIG4pKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGlbbl0pdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK24rJyInKTtpW25dKCl9fSl9LG50KHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBsb319LHtrZXk6Ik5BTUUiLGdldDpmdW5jdGlvbigpe3JldHVybiBjdH19LHtrZXk6IkRBVEFfS0VZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdHV9fSx7a2V5OiJFdmVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGFvfX0se2tleToiRVZFTlRfS0VZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4ga319LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gaG99fV0pLHR9KCksdS5mbltjdF09ZXIuX2pRdWVyeUludGVyZmFjZSx1LmZuW2N0XS5Db25zdHJ1Y3Rvcj1lcix1LmZuW2N0XS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHUuZm5bY3RdPW9vLGVyLl9qUXVlcnlJbnRlcmZhY2V9LGVyKSx1aD0oZ3Q9InBvcG92ZXIiLGQ9Ii4iKyh1dT0iYnMucG9wb3ZlciIpLGJvPShnPXQpLmZuW2d0XSxrdT0iYnMtcG9wb3ZlciIsa289bmV3IFJlZ0V4cCgiKF58XFxzKSIra3UrIlxcUysiLCJnIiksZ289dih7fSxzdS5EZWZhdWx0LHtwbGFjZW1lbnQ6InJpZ2h0Iix0cmlnZ2VyOiJjbGljayIsY29udGVudDoiIix0ZW1wbGF0ZTonPGRpdiBjbGFzcz0icG9wb3ZlciIgcm9sZT0idG9vbHRpcCI+PGRpdiBjbGFzcz0iYXJyb3ciPjxcL2Rpdj48aDMgY2xhc3M9InBvcG92ZXItaGVhZGVyIj48XC9oMz48ZGl2IGNsYXNzPSJwb3BvdmVyLWJvZHkiPjxcL2Rpdj48XC9kaXY+J30pLG5zPXYoe30sc3UuRGVmYXVsdFR5cGUse2NvbnRlbnQ6IihzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbikifSksdHM9ImZhZGUiLHJzPSIucG9wb3Zlci1oZWFkZXIiLHVzPSIucG9wb3Zlci1ib2R5Iixmcz17SElERToiaGlkZSIrZCxISURERU46ImhpZGRlbiIrZCxTSE9XOihpcz0ic2hvdyIpK2QsU0hPV046InNob3duIitkLElOU0VSVEVEOiJpbnNlcnRlZCIrZCxDTElDSzoiY2xpY2siK2QsRk9DVVNJTjoiZm9jdXNpbiIrZCxGT0NVU09VVDoiZm9jdXNvdXQiK2QsTU9VU0VFTlRFUjoibW91c2VlbnRlciIrZCxNT1VTRUxFQVZFOiJtb3VzZWxlYXZlIitkfSxvcj1mdW5jdGlvbihuKXtmdW5jdGlvbiBpKCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzfXZhciByLHUsdDtyZXR1cm4gdT1uLChyPWkpLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSwoci5wcm90b3R5cGUuY29uc3RydWN0b3I9cikuX19wcm90b19fPXUsdD1pLnByb3RvdHlwZSx0LmlzV2l0aENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUaXRsZSgpfHx0aGlzLl9nZXRDb250ZW50KCl9LHQuYWRkQXR0YWNobWVudENsYXNzPWZ1bmN0aW9uKG4pe2codGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKGt1KyItIituKX0sdC5nZXRUaXBFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlwPXRoaXMudGlwfHxnKHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXSx0aGlzLnRpcH0sdC5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIHQ9Zyh0aGlzLmdldFRpcEVsZW1lbnQoKSksbjt0aGlzLnNldEVsZW1lbnRDb250ZW50KHQuZmluZChycyksdGhpcy5nZXRUaXRsZSgpKTtuPXRoaXMuX2dldENvbnRlbnQoKTsiZnVuY3Rpb24iPT10eXBlb2YgbiYmKG49bi5jYWxsKHRoaXMuZWxlbWVudCkpO3RoaXMuc2V0RWxlbWVudENvbnRlbnQodC5maW5kKHVzKSxuKTt0LnJlbW92ZUNsYXNzKHRzKyIgIitpcyl9LHQuX2dldENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS1jb250ZW50Iil8fHRoaXMuY29uZmlnLmNvbnRlbnR9LHQuX2NsZWFuVGlwQ2xhc3M9ZnVuY3Rpb24oKXt2YXIgdD1nKHRoaXMuZ2V0VGlwRWxlbWVudCgpKSxuPXQuYXR0cigiY2xhc3MiKS5tYXRjaChrbyk7bnVsbCE9PW4mJjA8bi5sZW5ndGgmJnQucmVtb3ZlQ2xhc3Mobi5qb2luKCIiKSl9LGkuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9Zyh0aGlzKS5kYXRhKHV1KSxyPSJvYmplY3QiPT10eXBlb2Ygbj9uOm51bGw7aWYoKHR8fCEvZGVzdHJveXxoaWRlLy50ZXN0KG4pKSYmKHR8fCh0PW5ldyBpKHRoaXMsciksZyh0aGlzKS5kYXRhKHV1LHQpKSwic3RyaW5nIj09dHlwZW9mIG4pKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIHRbbl0pdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK24rJyInKTt0W25dKCl9fSl9LG50KGksbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBnb319LHtrZXk6Ik5BTUUiLGdldDpmdW5jdGlvbigpe3JldHVybiBndH19LHtrZXk6IkRBVEFfS0VZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdXV9fSx7a2V5OiJFdmVudCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGZzfX0se2tleToiRVZFTlRfS0VZIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZH19LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnN9fV0pLGl9KHN1KSxnLmZuW2d0XT1vci5falF1ZXJ5SW50ZXJmYWNlLGcuZm5bZ3RdLkNvbnN0cnVjdG9yPW9yLGcuZm5bZ3RdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gZy5mbltndF09Ym8sb3IuX2pRdWVyeUludGVyZmFjZX0sb3IpLGZoPShsdD0ic2Nyb2xsc3B5Iixzcj0iLiIrKGZ1PSJicy5zY3JvbGxzcHkiKSxlcz0obD10KS5mbltsdF0sZHU9e29mZnNldDoxMCxtZXRob2Q6ImF1dG8iLHRhcmdldDoiIn0sb3M9e29mZnNldDoibnVtYmVyIixtZXRob2Q6InN0cmluZyIsdGFyZ2V0OiIoc3RyaW5nfGVsZW1lbnQpIn0sZXU9e0FDVElWQVRFOiJhY3RpdmF0ZSIrc3IsU0NST0xMOiJzY3JvbGwiK3NyLExPQURfREFUQV9BUEk6ImxvYWQiK3NyKyIuZGF0YS1hcGkifSxzcz0iZHJvcGRvd24taXRlbSIsbmk9ImFjdGl2ZSIscD17REFUQV9TUFk6J1tkYXRhLXNweT0ic2Nyb2xsIl0nLEFDVElWRToiLmFjdGl2ZSIsTkFWX0xJU1RfR1JPVVA6Ii5uYXYsIC5saXN0LWdyb3VwIixOQVZfTElOS1M6Ii5uYXYtbGluayIsTkFWX0lURU1TOiIubmF2LWl0ZW0iLExJU1RfSVRFTVM6Ii5saXN0LWdyb3VwLWl0ZW0iLERST1BET1dOOiIuZHJvcGRvd24iLERST1BET1dOX0lURU1TOiIuZHJvcGRvd24taXRlbSIsRFJPUERPV05fVE9HR0xFOiIuZHJvcGRvd24tdG9nZ2xlIn0saHM9Im9mZnNldCIsZ3U9InBvc2l0aW9uIix2aT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQobix0KXt2YXIgaT10aGlzO3RoaXMuX2VsZW1lbnQ9bjt0aGlzLl9zY3JvbGxFbGVtZW50PSJCT0RZIj09PW4udGFnTmFtZT93aW5kb3c6bjt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMuX3NlbGVjdG9yPXRoaXMuX2NvbmZpZy50YXJnZXQrIiAiK3AuTkFWX0xJTktTKyIsIit0aGlzLl9jb25maWcudGFyZ2V0KyIgIitwLkxJU1RfSVRFTVMrIiwiK3RoaXMuX2NvbmZpZy50YXJnZXQrIiAiK3AuRFJPUERPV05fSVRFTVM7dGhpcy5fb2Zmc2V0cz1bXTt0aGlzLl90YXJnZXRzPVtdO3RoaXMuX2FjdGl2ZVRhcmdldD1udWxsO3RoaXMuX3Njcm9sbEhlaWdodD0wO2wodGhpcy5fc2Nyb2xsRWxlbWVudCkub24oZXUuU0NST0xMLGZ1bmN0aW9uKG4pe3JldHVybiBpLl9wcm9jZXNzKG4pfSk7dGhpcy5yZWZyZXNoKCk7dGhpcy5fcHJvY2VzcygpfXZhciBuPXQucHJvdG90eXBlO3JldHVybiBuLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGk9dGhpcy5fc2Nyb2xsRWxlbWVudD09PXRoaXMuX3Njcm9sbEVsZW1lbnQud2luZG93P2hzOmd1LHQ9ImF1dG8iPT09dGhpcy5fY29uZmlnLm1ldGhvZD9pOnRoaXMuX2NvbmZpZy5tZXRob2Qscj10PT09Z3U/dGhpcy5fZ2V0U2Nyb2xsVG9wKCk6MDt0aGlzLl9vZmZzZXRzPVtdO3RoaXMuX3RhcmdldHM9W107dGhpcy5fc2Nyb2xsSGVpZ2h0PXRoaXMuX2dldFNjcm9sbEhlaWdodCgpO2wubWFrZUFycmF5KGwodGhpcy5fc2VsZWN0b3IpKS5tYXAoZnVuY3Rpb24obil7dmFyIGksdT1vLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQobiksZjtyZXR1cm4odSYmKGk9bCh1KVswXSksaSkmJihmPWkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZi53aWR0aHx8Zi5oZWlnaHQpP1tsKGkpW3RdKCkudG9wK3IsdV06bnVsbH0pLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbn0pLnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gblswXS10WzBdfSkuZm9yRWFjaChmdW5jdGlvbih0KXtuLl9vZmZzZXRzLnB1c2godFswXSk7bi5fdGFyZ2V0cy5wdXNoKHRbMV0pfSl9LG4uZGlzcG9zZT1mdW5jdGlvbigpe2wucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LGZ1KTtsKHRoaXMuX3Njcm9sbEVsZW1lbnQpLm9mZihzcik7dGhpcy5fZWxlbWVudD1udWxsO3RoaXMuX3Njcm9sbEVsZW1lbnQ9bnVsbDt0aGlzLl9jb25maWc9bnVsbDt0aGlzLl9zZWxlY3Rvcj1udWxsO3RoaXMuX29mZnNldHM9bnVsbDt0aGlzLl90YXJnZXRzPW51bGw7dGhpcy5fYWN0aXZlVGFyZ2V0PW51bGw7dGhpcy5fc2Nyb2xsSGVpZ2h0PW51bGx9LG4uX2dldENvbmZpZz1mdW5jdGlvbihuKXtpZigic3RyaW5nIiE9dHlwZW9mKG49dih7fSxkdSwib2JqZWN0Ij09dHlwZW9mIG4mJm4/bjp7fSkpLnRhcmdldCl7dmFyIHQ9bChuLnRhcmdldCkuYXR0cigiaWQiKTt0fHwodD1vLmdldFVJRChsdCksbChuLnRhcmdldCkuYXR0cigiaWQiLHQpKTtuLnRhcmdldD0iIyIrdH1yZXR1cm4gby50eXBlQ2hlY2tDb25maWcobHQsbixvcyksbn0sbi5fZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQ9PT13aW5kb3c/dGhpcy5fc2Nyb2xsRWxlbWVudC5wYWdlWU9mZnNldDp0aGlzLl9zY3JvbGxFbGVtZW50LnNjcm9sbFRvcH0sbi5fZ2V0U2Nyb2xsSGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsSGVpZ2h0fHxNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KX0sbi5fZ2V0T2Zmc2V0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Njcm9sbEVsZW1lbnQ9PT13aW5kb3c/d2luZG93LmlubmVySGVpZ2h0OnRoaXMuX3Njcm9sbEVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0fSxuLl9wcm9jZXNzPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fZ2V0U2Nyb2xsVG9wKCkrdGhpcy5fY29uZmlnLm9mZnNldCxyPXRoaXMuX2dldFNjcm9sbEhlaWdodCgpLHU9dGhpcy5fY29uZmlnLm9mZnNldCtyLXRoaXMuX2dldE9mZnNldEhlaWdodCgpLGksbjtpZih0aGlzLl9zY3JvbGxIZWlnaHQhPT1yJiZ0aGlzLnJlZnJlc2goKSx1PD10KWk9dGhpcy5fdGFyZ2V0c1t0aGlzLl90YXJnZXRzLmxlbmd0aC0xXSx0aGlzLl9hY3RpdmVUYXJnZXQhPT1pJiZ0aGlzLl9hY3RpdmF0ZShpKTtlbHNle2lmKHRoaXMuX2FjdGl2ZVRhcmdldCYmdDx0aGlzLl9vZmZzZXRzWzBdJiYwPHRoaXMuX29mZnNldHNbMF0pcmV0dXJuIHRoaXMuX2FjdGl2ZVRhcmdldD1udWxsLHZvaWQgdGhpcy5fY2xlYXIoKTtmb3Iobj10aGlzLl9vZmZzZXRzLmxlbmd0aDtuLS07KXRoaXMuX2FjdGl2ZVRhcmdldCE9PXRoaXMuX3RhcmdldHNbbl0mJnQ+PXRoaXMuX29mZnNldHNbbl0mJigidW5kZWZpbmVkIj09dHlwZW9mIHRoaXMuX29mZnNldHNbbisxXXx8dDx0aGlzLl9vZmZzZXRzW24rMV0pJiZ0aGlzLl9hY3RpdmF0ZSh0aGlzLl90YXJnZXRzW25dKX19LG4uX2FjdGl2YXRlPWZ1bmN0aW9uKG4pe3ZhciBpLHQ7dGhpcy5fYWN0aXZlVGFyZ2V0PW47dGhpcy5fY2xlYXIoKTtpPXRoaXMuX3NlbGVjdG9yLnNwbGl0KCIsIik7aT1pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdCsnW2RhdGEtdGFyZ2V0PSInK24rJyJdLCcrdCsnW2hyZWY9IicrbisnIl0nfSk7dD1sKGkuam9pbigiLCIpKTt0Lmhhc0NsYXNzKHNzKT8odC5jbG9zZXN0KHAuRFJPUERPV04pLmZpbmQocC5EUk9QRE9XTl9UT0dHTEUpLmFkZENsYXNzKG5pKSx0LmFkZENsYXNzKG5pKSk6KHQuYWRkQ2xhc3MobmkpLHQucGFyZW50cyhwLk5BVl9MSVNUX0dST1VQKS5wcmV2KHAuTkFWX0xJTktTKyIsICIrcC5MSVNUX0lURU1TKS5hZGRDbGFzcyhuaSksdC5wYXJlbnRzKHAuTkFWX0xJU1RfR1JPVVApLnByZXYocC5OQVZfSVRFTVMpLmNoaWxkcmVuKHAuTkFWX0xJTktTKS5hZGRDbGFzcyhuaSkpO2wodGhpcy5fc2Nyb2xsRWxlbWVudCkudHJpZ2dlcihldS5BQ1RJVkFURSx7cmVsYXRlZFRhcmdldDpufSl9LG4uX2NsZWFyPWZ1bmN0aW9uKCl7bCh0aGlzLl9zZWxlY3RvcikuZmlsdGVyKHAuQUNUSVZFKS5yZW1vdmVDbGFzcyhuaSl9LHQuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9bCh0aGlzKS5kYXRhKGZ1KTtpZihpfHwoaT1uZXcgdCh0aGlzLCJvYmplY3QiPT10eXBlb2YgbiYmbiksbCh0aGlzKS5kYXRhKGZ1LGkpKSwic3RyaW5nIj09dHlwZW9mIG4pe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaVtuXSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrbisnIicpO2lbbl0oKX19KX0sbnQodCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC4xLjEifX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGR1fX1dKSx0fSgpLGwod2luZG93KS5vbihldS5MT0FEX0RBVEFfQVBJLGZ1bmN0aW9uKCl7Zm9yKHZhciBpLG49bC5tYWtlQXJyYXkobChwLkRBVEFfU1BZKSksdD1uLmxlbmd0aDt0LS07KWk9bChuW3RdKSx2aS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoaSxpLmRhdGEoKSl9KSxsLmZuW2x0XT12aS5falF1ZXJ5SW50ZXJmYWNlLGwuZm5bbHRdLkNvbnN0cnVjdG9yPXZpLGwuZm5bbHRdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gbC5mbltsdF09ZXMsdmkuX2pRdWVyeUludGVyZmFjZX0sdmkpLGVoPSh5aT0iLiIrKG91PSJicy50YWIiKSxjcz0oaD10KS5mbi50YWIscGk9e0hJREU6ImhpZGUiK3lpLEhJRERFTjoiaGlkZGVuIit5aSxTSE9XOiJzaG93Iit5aSxTSE9XTjoic2hvd24iK3lpLENMSUNLX0RBVEFfQVBJOiJjbGljayIreWkrIi5kYXRhLWFwaSJ9LGxzPSJkcm9wZG93bi1tZW51Iix3aT0iYWN0aXZlIixhcz0iZGlzYWJsZWQiLHZzPSJmYWRlIixuZj0ic2hvdyIseXM9Ii5kcm9wZG93biIscHM9Ii5uYXYsIC5saXN0LWdyb3VwIix0Zj0iLmFjdGl2ZSIscmY9Ij4gbGkgPiAuYWN0aXZlIix3cz0nW2RhdGEtdG9nZ2xlPSJ0YWIiXSwgW2RhdGEtdG9nZ2xlPSJwaWxsIl0sIFtkYXRhLXRvZ2dsZT0ibGlzdCJdJyxicz0iLmRyb3Bkb3duLXRvZ2dsZSIsa3M9Ij4gLmRyb3Bkb3duLW1lbnUgLmFjdGl2ZSIsYmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe3RoaXMuX2VsZW1lbnQ9bn12YXIgdD1uLnByb3RvdHlwZTtyZXR1cm4gdC5zaG93PWZ1bmN0aW9uKCl7dmFyIHM9dGhpcyxpLG4sdCxyLGMsdSxmLGU7dGhpcy5fZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERSYmaCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyh3aSl8fGgodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoYXMpfHwodD1oKHRoaXMuX2VsZW1lbnQpLmNsb3Nlc3QocHMpWzBdLHI9by5nZXRTZWxlY3RvckZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpLHQmJihjPSJVTCI9PT10Lm5vZGVOYW1lP3JmOnRmLG49KG49aC5tYWtlQXJyYXkoaCh0KS5maW5kKGMpKSlbbi5sZW5ndGgtMV0pLHU9aC5FdmVudChwaS5ISURFLHtyZWxhdGVkVGFyZ2V0OnRoaXMuX2VsZW1lbnR9KSxmPWguRXZlbnQocGkuU0hPVyx7cmVsYXRlZFRhcmdldDpufSksKG4mJmgobikudHJpZ2dlcih1KSxoKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoZiksZi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8dS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl8fChyJiYoaT1oKHIpWzBdKSx0aGlzLl9hY3RpdmF0ZSh0aGlzLl9lbGVtZW50LHQpLGU9ZnVuY3Rpb24oKXt2YXIgdD1oLkV2ZW50KHBpLkhJRERFTix7cmVsYXRlZFRhcmdldDpzLl9lbGVtZW50fSksaT1oLkV2ZW50KHBpLlNIT1dOLHtyZWxhdGVkVGFyZ2V0Om59KTtoKG4pLnRyaWdnZXIodCk7aChzLl9lbGVtZW50KS50cmlnZ2VyKGkpfSxpP3RoaXMuX2FjdGl2YXRlKGksaS5wYXJlbnROb2RlLGUpOmUoKSkpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXtoLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxvdSk7dGhpcy5fZWxlbWVudD1udWxsfSx0Ll9hY3RpdmF0ZT1mdW5jdGlvbihuLHQsaSl7dmFyIGU9dGhpcyxyPSgiVUwiPT09dC5ub2RlTmFtZT9oKHQpLmZpbmQocmYpOmgodCkuY2hpbGRyZW4odGYpKVswXSxzPWkmJnImJmgocikuaGFzQ2xhc3ModnMpLHU9ZnVuY3Rpb24oKXtyZXR1cm4gZS5fdHJhbnNpdGlvbkNvbXBsZXRlKG4scixpKX0sZjtyJiZzPyhmPW8uZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQociksaChyKS5vbmUoby5UUkFOU0lUSU9OX0VORCx1KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChmKSk6dSgpfSx0Ll90cmFuc2l0aW9uQ29tcGxldGU9ZnVuY3Rpb24obix0LGkpe3ZhciByLHU7dCYmKGgodCkucmVtb3ZlQ2xhc3MobmYrIiAiK3dpKSxyPWgodC5wYXJlbnROb2RlKS5maW5kKGtzKVswXSxyJiZoKHIpLnJlbW92ZUNsYXNzKHdpKSwidGFiIj09PXQuZ2V0QXR0cmlidXRlKCJyb2xlIikmJnQuc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIiwhMSkpOyhoKG4pLmFkZENsYXNzKHdpKSwidGFiIj09PW4uZ2V0QXR0cmlidXRlKCJyb2xlIikmJm4uc2V0QXR0cmlidXRlKCJhcmlhLXNlbGVjdGVkIiwhMCksby5yZWZsb3cobiksaChuKS5hZGRDbGFzcyhuZiksbi5wYXJlbnROb2RlJiZoKG4ucGFyZW50Tm9kZSkuaGFzQ2xhc3MobHMpKSYmKHU9aChuKS5jbG9zZXN0KHlzKVswXSx1JiZoKHUpLmZpbmQoYnMpLmFkZENsYXNzKHdpKSxuLnNldEF0dHJpYnV0ZSgiYXJpYS1leHBhbmRlZCIsITApKTtpJiZpKCl9LG4uX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9aCh0aGlzKSxpPXIuZGF0YShvdSk7aWYoaXx8KGk9bmV3IG4odGhpcyksci5kYXRhKG91LGkpKSwic3RyaW5nIj09dHlwZW9mIHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaVt0XSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrdCsnIicpO2lbdF0oKX19KX0sbnQobixudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC4xLjEifX1dKSxufSgpLGgoZG9jdW1lbnQpLm9uKHBpLkNMSUNLX0RBVEFfQVBJLHdzLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtiaS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoaCh0aGlzKSwic2hvdyIpfSksaC5mbi50YWI9YmkuX2pRdWVyeUludGVyZmFjZSxoLmZuLnRhYi5Db25zdHJ1Y3Rvcj1iaSxoLmZuLnRhYi5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIGguZm4udGFiPWNzLGJpLl9qUXVlcnlJbnRlcmZhY2V9LGJpKTshZnVuY3Rpb24obil7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBuKXRocm93IG5ldyBUeXBlRXJyb3IoIkJvb3RzdHJhcCdzIEphdmFTY3JpcHQgcmVxdWlyZXMgalF1ZXJ5LiBqUXVlcnkgbXVzdCBiZSBpbmNsdWRlZCBiZWZvcmUgQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdC4iKTt2YXIgdD1uLmZuLmpxdWVyeS5zcGxpdCgiICIpWzBdLnNwbGl0KCIuIik7aWYodFswXTwyJiZ0WzFdPDl8fDE9PT10WzBdJiY5PT09dFsxXSYmdFsyXTwxfHw0PD10WzBdKXRocm93IG5ldyBFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBhdCBsZWFzdCBqUXVlcnkgdjEuOS4xIGJ1dCBsZXNzIHRoYW4gdjQuMC4wIik7fSh0KTtuLlV0aWw9bztuLkFsZXJ0PWRzO24uQnV0dG9uPWdzO24uQ2Fyb3VzZWw9bmg7bi5Db2xsYXBzZT10aDtuLkRyb3Bkb3duPWloO24uTW9kYWw9cmg7bi5Qb3BvdmVyPXVoO24uU2Nyb2xsc3B5PWZoO24uVGFiPWVoO24uVG9vbHRpcD1zdTtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSl9KTsKLyohCiAqIFZ1ZS5qcyB2Mi41LjEzCiAqIChjKSAyMDE0LTIwMTcgRXZhbiBZb3UKICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLgogKi8KIWZ1bmN0aW9uKG4sdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYidW5kZWZpbmVkIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUodCk6bi5WdWU9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQobil7cmV0dXJuIHZvaWQgMD09PW58fG51bGw9PT1ufWZ1bmN0aW9uIG4obil7cmV0dXJuIHZvaWQgMCE9PW4mJm51bGwhPT1ufWZ1bmN0aW9uIHUobil7cmV0dXJuITA9PT1ufWZ1bmN0aW9uIHZpKG4pe3JldHVybiJzdHJpbmciPT10eXBlb2Ygbnx8Im51bWJlciI9PXR5cGVvZiBufHwic3ltYm9sIj09dHlwZW9mIG58fCJib29sZWFuIj09dHlwZW9mIG59ZnVuY3Rpb24gaChuKXtyZXR1cm4gbnVsbCE9PW4mJiJvYmplY3QiPT10eXBlb2Ygbn1mdW5jdGlvbiB2KG4pe3JldHVybiJbb2JqZWN0IE9iamVjdF0iPT09cmwuY2FsbChuKX1mdW5jdGlvbiBzbyhuKXt2YXIgdD1wYXJzZUZsb2F0KFN0cmluZyhuKSk7cmV0dXJuIHQ+PTAmJk1hdGguZmxvb3IodCk9PT10JiZpc0Zpbml0ZShuKX1mdW5jdGlvbiB0eShuKXtyZXR1cm4gbnVsbD09bj8iIjoib2JqZWN0Ij09dHlwZW9mIG4/SlNPTi5zdHJpbmdpZnkobixudWxsLDIpOlN0cmluZyhuKX1mdW5jdGlvbiB5aShuKXt2YXIgdD1wYXJzZUZsb2F0KG4pO3JldHVybiBpc05hTih0KT9uOnR9ZnVuY3Rpb24gZShuLHQpe2Zvcih2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpLHU9bi5zcGxpdCgiLCIpLHI9MDtyPHUubGVuZ3RoO3IrKylpW3Vbcl1dPSEwO3JldHVybiB0P2Z1bmN0aW9uKG4pe3JldHVybiBpW24udG9Mb3dlckNhc2UoKV19OmZ1bmN0aW9uKG4pe3JldHVybiBpW25dfX1mdW5jdGlvbiBodChuLHQpe2lmKG4ubGVuZ3RoKXt2YXIgaT1uLmluZGV4T2YodCk7aWYoaT4tMSlyZXR1cm4gbi5zcGxpY2UoaSwxKX19ZnVuY3Rpb24gYyhuLHQpe3JldHVybiB5cC5jYWxsKG4sdCl9ZnVuY3Rpb24gayhuKXt2YXIgdD1PYmplY3QuY3JlYXRlKG51bGwpO3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gdFtpXXx8KHRbaV09bihpKSl9fWZ1bmN0aW9uIGl5KG4sdCl7ZnVuY3Rpb24gaShpKXt2YXIgcj1hcmd1bWVudHMubGVuZ3RoO3JldHVybiByP3I+MT9uLmFwcGx5KHQsYXJndW1lbnRzKTpuLmNhbGwodCxpKTpuLmNhbGwodCl9cmV0dXJuIGkuX2xlbmd0aD1uLmxlbmd0aCxpfWZ1bmN0aW9uIGZ1KG4sdCl7dD10fHwwO2Zvcih2YXIgaT1uLmxlbmd0aC10LHI9bmV3IEFycmF5KGkpO2ktLTspcltpXT1uW2krdF07cmV0dXJuIHJ9ZnVuY3Rpb24gaShuLHQpe2Zvcih2YXIgaSBpbiB0KW5baV09dFtpXTtyZXR1cm4gbn1mdW5jdGlvbiBobyhuKXtmb3IodmFyIHI9e30sdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF0mJmkocixuW3RdKTtyZXR1cm4gcn1mdW5jdGlvbiBvKCl7fWZ1bmN0aW9uIHZ0KG4sdCl7dmFyIGkscix1LGYsZSxvO2lmKG49PT10KXJldHVybiEwO2lmKGk9aChuKSxyPWgodCksIWl8fCFyKXJldHVybiFpJiYhciYmU3RyaW5nKG4pPT09U3RyaW5nKHQpO3RyeXtyZXR1cm4odT1BcnJheS5pc0FycmF5KG4pLGY9QXJyYXkuaXNBcnJheSh0KSx1JiZmKT9uLmxlbmd0aD09PXQubGVuZ3RoJiZuLmV2ZXJ5KGZ1bmN0aW9uKG4saSl7cmV0dXJuIHZ0KG4sdFtpXSl9KTp1fHxmPyExOihlPU9iamVjdC5rZXlzKG4pLG89T2JqZWN0LmtleXModCksZS5sZW5ndGg9PT1vLmxlbmd0aCYmZS5ldmVyeShmdW5jdGlvbihpKXtyZXR1cm4gdnQobltpXSx0W2ldKX0pKX1jYXRjaChuKXtyZXR1cm4hMX19ZnVuY3Rpb24gY28obix0KXtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylpZih2dChuW2ldLHQpKXJldHVybiBpO3JldHVybi0xfWZ1bmN0aW9uIHJyKG4pe3ZhciB0PSExO3JldHVybiBmdW5jdGlvbigpe3R8fCh0PSEwLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpKX19ZnVuY3Rpb24gcnkobil7dmFyIHQ9KG4rIiIpLmNoYXJDb2RlQXQoMCk7cmV0dXJuIDM2PT09dHx8OTU9PT10fWZ1bmN0aW9uIGV1KG4sdCxpLHIpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse3ZhbHVlOmksZW51bWVyYWJsZTohIXIsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfSl9ZnVuY3Rpb24gaWkobil7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIG4mJi9uYXRpdmUgY29kZS8udGVzdChuLnRvU3RyaW5nKCkpfWZ1bmN0aW9uIHJpKG4pe3JldHVybiBuZXcgYSh2b2lkIDAsdm9pZCAwLHZvaWQgMCxTdHJpbmcobikpfWZ1bmN0aW9uIGxvKG4sdCl7dmFyIHI9bi5jb21wb25lbnRPcHRpb25zLGk9bmV3IGEobi50YWcsbi5kYXRhLG4uY2hpbGRyZW4sbi50ZXh0LG4uZWxtLG4uY29udGV4dCxyLG4uYXN5bmNGYWN0b3J5KTtyZXR1cm4gaS5ucz1uLm5zLGkuaXNTdGF0aWM9bi5pc1N0YXRpYyxpLmtleT1uLmtleSxpLmlzQ29tbWVudD1uLmlzQ29tbWVudCxpLmZuQ29udGV4dD1uLmZuQ29udGV4dCxpLmZuT3B0aW9ucz1uLmZuT3B0aW9ucyxpLmZuU2NvcGVJZD1uLmZuU2NvcGVJZCxpLmlzQ2xvbmVkPSEwLHQmJihuLmNoaWxkcmVuJiYoaS5jaGlsZHJlbj11cihuLmNoaWxkcmVuLCEwKSksciYmci5jaGlsZHJlbiYmKHIuY2hpbGRyZW49dXIoci5jaGlsZHJlbiwhMCkpKSxpfWZ1bmN0aW9uIHVyKG4sdCl7Zm9yKHZhciByPW4ubGVuZ3RoLHU9bmV3IEFycmF5KHIpLGk9MDtpPHI7aSsrKXVbaV09bG8obltpXSx0KTtyZXR1cm4gdX1mdW5jdGlvbiB1eShuLHQpe24uX19wcm90b19fPXR9ZnVuY3Rpb24gZnkobix0LGkpe2Zvcih2YXIgdSxyPTAsZj1pLmxlbmd0aDtyPGY7cisrKXU9aVtyXSxldShuLHUsdFt1XSl9ZnVuY3Rpb24gdWkobix0KXtpZihoKG4pJiYhKG4gaW5zdGFuY2VvZiBhKSl7dmFyIGk7cmV0dXJuIGMobiwiX19vYl9fIikmJm4uX19vYl9fIGluc3RhbmNlb2YgeXI/aT1uLl9fb2JfXzpydC5zaG91bGRDb252ZXJ0JiYhZGkoKSYmKEFycmF5LmlzQXJyYXkobil8fHYobikpJiZPYmplY3QuaXNFeHRlbnNpYmxlKG4pJiYhbi5faXNWdWUmJihpPW5ldyB5cihuKSksdCYmaSYmaS52bUNvdW50KyssaX19ZnVuY3Rpb24geXQobix0LGkscix1KXt2YXIgaD1uZXcgcyxmPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KTtpZighZnx8ITEhPT1mLmNvbmZpZ3VyYWJsZSl7dmFyIGU9ZiYmZi5nZXQsYz1mJiZmLnNldCxvPSF1JiZ1aShpKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXt2YXIgdD1lP2UuY2FsbChuKTppO3JldHVybiBzLnRhcmdldCYmKGguZGVwZW5kKCksbyYmKG8uZGVwLmRlcGVuZCgpLEFycmF5LmlzQXJyYXkodCkmJnZvKHQpKSksdH0sc2V0OmZ1bmN0aW9uKHQpe3ZhciByPWU/ZS5jYWxsKG4pOmk7dD09PXJ8fHQhPXQmJnIhPXJ8fChjP2MuY2FsbChuLHQpOmk9dCxvPSF1JiZ1aSh0KSxoLm5vdGlmeSgpKX19KX19ZnVuY3Rpb24gb3Uobix0LGkpe2lmKEFycmF5LmlzQXJyYXkobikmJnNvKHQpKXJldHVybiBuLmxlbmd0aD1NYXRoLm1heChuLmxlbmd0aCx0KSxuLnNwbGljZSh0LDEsaSksaTtpZih0IGluIG4mJiEodCBpbiBPYmplY3QucHJvdG90eXBlKSlyZXR1cm4gblt0XT1pLGk7dmFyIHI9bi5fX29iX187cmV0dXJuIG4uX2lzVnVlfHxyJiZyLnZtQ291bnQ/aTpyPyh5dChyLnZhbHVlLHQsaSksci5kZXAubm90aWZ5KCksaSk6KG5bdF09aSxpKX1mdW5jdGlvbiBhbyhuLHQpe2lmKEFycmF5LmlzQXJyYXkobikmJnNvKHQpKW4uc3BsaWNlKHQsMSk7ZWxzZXt2YXIgaT1uLl9fb2JfXztuLl9pc1Z1ZXx8aSYmaS52bUNvdW50fHxjKG4sdCkmJihkZWxldGUgblt0XSxpJiZpLmRlcC5ub3RpZnkoKSl9fWZ1bmN0aW9uIHZvKG4pe2Zvcih2YXIgdD12b2lkIDAsaT0wLHI9bi5sZW5ndGg7aTxyO2krKykodD1uW2ldKSYmdC5fX29iX18mJnQuX19vYl9fLmRlcC5kZXBlbmQoKSxBcnJheS5pc0FycmF5KHQpJiZ2byh0KX1mdW5jdGlvbiBzdShuLHQpe2lmKCF0KXJldHVybiBuO2Zvcih2YXIgaSx1LHIsZT1PYmplY3Qua2V5cyh0KSxmPTA7ZjxlLmxlbmd0aDtmKyspdT1uW2k9ZVtmXV0scj10W2ldLGMobixpKT92KHUpJiZ2KHIpJiZzdSh1LHIpOm91KG4saSxyKTtyZXR1cm4gbn1mdW5jdGlvbiBodShuLHQsaSl7cmV0dXJuIGk/ZnVuY3Rpb24oKXt2YXIgcj0iZnVuY3Rpb24iPT10eXBlb2YgdD90LmNhbGwoaSxpKTp0LHU9ImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5jYWxsKGksaSk6bjtyZXR1cm4gcj9zdShyLHUpOnV9OnQ/bj9mdW5jdGlvbigpe3JldHVybiBzdSgiZnVuY3Rpb24iPT10eXBlb2YgdD90LmNhbGwodGhpcyx0aGlzKTp0LCJmdW5jdGlvbiI9PXR5cGVvZiBuP24uY2FsbCh0aGlzLHRoaXMpOm4pfTp0Om59ZnVuY3Rpb24gZXkobix0KXtyZXR1cm4gdD9uP24uY29uY2F0KHQpOkFycmF5LmlzQXJyYXkodCk/dDpbdF06bn1mdW5jdGlvbiBveShuLHQpe3ZhciByPU9iamVjdC5jcmVhdGUobnx8bnVsbCk7cmV0dXJuIHQ/aShyLHQpOnJ9ZnVuY3Rpb24gcHQobix0LHIpe2Z1bmN0aW9uIHMoaSl7dmFyIHU9bnRbaV18fHV3O29baV09dShuW2ldLHRbaV0scixpKX12YXIgZSxmLGgsdSxvO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0JiYodD10Lm9wdGlvbnMpLGZ1bmN0aW9uKG4pe3ZhciB0PW4ucHJvcHMsdSxpLHIsZjtpZih0KXtpZihyPXt9LEFycmF5LmlzQXJyYXkodCkpZm9yKHU9dC5sZW5ndGg7dS0tOykic3RyaW5nIj09dHlwZW9mKGk9dFt1XSkmJihyW2l0KGkpXT17dHlwZTpudWxsfSk7ZWxzZSBpZih2KHQpKWZvcihmIGluIHQpaT10W2ZdLHJbaXQoZildPXYoaSk/aTp7dHlwZTppfTtuLnByb3BzPXJ9fSh0KSxmdW5jdGlvbihuKXt2YXIgdD1uLmluamVjdCxlLHIsdSxmO2lmKHQpaWYoZT1uLmluamVjdD17fSxBcnJheS5pc0FycmF5KHQpKWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspZVt0W3JdXT17ZnJvbTp0W3JdfTtlbHNlIGlmKHYodCkpZm9yKHUgaW4gdClmPXRbdV0sZVt1XT12KGYpP2koe2Zyb206dX0sZik6e2Zyb206Zn19KHQpLGZ1bmN0aW9uKG4pe3ZhciB0PW4uZGlyZWN0aXZlcyxyLGk7aWYodClmb3IociBpbiB0KWk9dFtyXSwiZnVuY3Rpb24iPT10eXBlb2YgaSYmKHRbcl09e2JpbmQ6aSx1cGRhdGU6aX0pfSh0KSxlPXQuZXh0ZW5kcyxlJiYobj1wdChuLGUscikpLHQubWl4aW5zKWZvcihmPTAsaD10Lm1peGlucy5sZW5ndGg7ZjxoO2YrKyluPXB0KG4sdC5taXhpbnNbZl0scik7bz17fTtmb3IodSBpbiBuKXModSk7Zm9yKHUgaW4gdCljKG4sdSl8fHModSk7cmV0dXJuIG99ZnVuY3Rpb24gY3Uobix0LGkpe3ZhciByLHUsZjtpZigic3RyaW5nIj09dHlwZW9mIGkpcmV0dXJuKHI9blt0XSxjKHIsaSkpP3JbaV06KHU9aXQoaSksYyhyLHUpKT9yW3VdOihmPXdwKHUpLGMocixmKSk/cltmXTpyW2ldfHxyW3VdfHxyW2ZdfWZ1bmN0aW9uIGx1KG4sdCxpLHIpe3ZhciBmPXRbbl0sbz0hYyhpLG4pLHU9aVtuXSxlO3JldHVybih5byhCb29sZWFuLGYudHlwZSkmJihvJiYhYyhmLCJkZWZhdWx0Iik/dT0hMTp5byhTdHJpbmcsZi50eXBlKXx8IiIhPT11JiZ1IT09Z2Yobil8fCh1PSEwKSksdm9pZCAwPT09dSkmJih1PWZ1bmN0aW9uKG4sdCxpKXtpZihjKHQsImRlZmF1bHQiKSl7dmFyIHI9dC5kZWZhdWx0O3JldHVybiBuJiZuLiRvcHRpb25zLnByb3BzRGF0YSYmdm9pZCAwPT09bi4kb3B0aW9ucy5wcm9wc0RhdGFbaV0mJnZvaWQgMCE9PW4uX3Byb3BzW2ldP24uX3Byb3BzW2ldOiJmdW5jdGlvbiI9PXR5cGVvZiByJiYiRnVuY3Rpb24iIT09cGkodC50eXBlKT9yLmNhbGwobik6cn19KHIsZixuKSxlPXJ0LnNob3VsZENvbnZlcnQscnQuc2hvdWxkQ29udmVydD0hMCx1aSh1KSxydC5zaG91bGRDb252ZXJ0PWUpLHV9ZnVuY3Rpb24gcGkobil7dmFyIHQ9biYmbi50b1N0cmluZygpLm1hdGNoKC9eXHMqZnVuY3Rpb24gKFx3KykvKTtyZXR1cm4gdD90WzFdOiIifWZ1bmN0aW9uIHlvKG4sdCl7aWYoIUFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHBpKHQpPT09cGkobik7Zm9yKHZhciBpPTAscj10Lmxlbmd0aDtpPHI7aSsrKWlmKHBpKHRbaV0pPT09cGkobikpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gY3Qobix0LGkpe3ZhciByLHUsZjtpZih0KWZvcihyPXQ7cj1yLiRwYXJlbnQ7KWlmKHU9ci4kb3B0aW9ucy5lcnJvckNhcHR1cmVkLHUpZm9yKGY9MDtmPHUubGVuZ3RoO2YrKyl0cnl7aWYoITE9PT11W2ZdLmNhbGwocixuLHQsaSkpcmV0dXJufWNhdGNoKG4pe3BvKG4sciwiZXJyb3JDYXB0dXJlZCBob29rIil9cG8obix0LGkpfWZ1bmN0aW9uIHBvKG4sdCxpKXtpZih3LmVycm9ySGFuZGxlcil0cnl7cmV0dXJuIHcuZXJyb3JIYW5kbGVyLmNhbGwobnVsbCxuLHQsaSl9Y2F0Y2gobil7d28obixudWxsLCJjb25maWcuZXJyb3JIYW5kbGVyIil9d28obix0LGkpfWZ1bmN0aW9uIHdvKG4pe2lmKCFsJiYhb2x8fCJ1bmRlZmluZWQiPT10eXBlb2YgY29uc29sZSl0aHJvdyBuO2NvbnNvbGUuZXJyb3Iobil9ZnVuY3Rpb24gZnIoKXt2YXIgdCxuO2ZvcihlZT0hMSx0PWZlLnNsaWNlKDApLGZlLmxlbmd0aD0wLG49MDtuPHQubGVuZ3RoO24rKyl0W25dKCl9ZnVuY3Rpb24gYXUobix0KXt2YXIgaTtpZihmZS5wdXNoKGZ1bmN0aW9uKCl7aWYobil0cnl7bi5jYWxsKHQpfWNhdGNoKG4pe2N0KG4sdCwibmV4dFRpY2siKX1lbHNlIGkmJmkodCl9KSxlZXx8KGVlPSEwLG9lP2dpKCk6dWUoKSksIW4mJiJ1bmRlZmluZWQiIT10eXBlb2YgUHJvbWlzZSlyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24obil7aT1ufSl9ZnVuY3Rpb24gYm8obil7dnUobixibCk7YmwuY2xlYXIoKX1mdW5jdGlvbiB2dShuLHQpe3ZhciBpLHUsZj1BcnJheS5pc0FycmF5KG4pLHI7aWYoKGZ8fGgobikpJiYhT2JqZWN0LmlzRnJvemVuKG4pKXtpZihuLl9fb2JfXyl7aWYocj1uLl9fb2JfXy5kZXAuaWQsdC5oYXMocikpcmV0dXJuO3QuYWRkKHIpfWlmKGYpZm9yKGk9bi5sZW5ndGg7aS0tOyl2dShuW2ldLHQpO2Vsc2UgZm9yKGk9KHU9T2JqZWN0LmtleXMobikpLmxlbmd0aDtpLS07KXZ1KG5bdVtpXV0sdCl9fWZ1bmN0aW9uIHl1KG4pe2Z1bmN0aW9uIHQoKXt2YXIgdT1hcmd1bWVudHMsaT10LmZucyxyLG47aWYoIUFycmF5LmlzQXJyYXkoaSkpcmV0dXJuIGkuYXBwbHkobnVsbCxhcmd1bWVudHMpO2ZvcihyPWkuc2xpY2UoKSxuPTA7bjxyLmxlbmd0aDtuKyspcltuXS5hcHBseShudWxsLHUpfXJldHVybiB0LmZucz1uLHR9ZnVuY3Rpb24ga28obixpLHIsdSl7dmFyIGYsZSxzLG87Zm9yKGYgaW4gbillPW5bZl0scz1pW2ZdLG89a2woZiksdChlKXx8KHQocyk/KHQoZS5mbnMpJiYoZT1uW2ZdPXl1KGUpKSxyKG8ubmFtZSxlLG8ub25jZSxvLmNhcHR1cmUsby5wYXNzaXZlLG8ucGFyYW1zKSk6ZSE9PXMmJihzLmZucz1lLG5bZl09cykpO2ZvcihmIGluIGkpdChuW2ZdKSYmdSgobz1rbChmKSkubmFtZSxpW2ZdLG8uY2FwdHVyZSl9ZnVuY3Rpb24gbHQoaSxyLGYpe2Z1bmN0aW9uIHMoKXtmLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtodChlLmZucyxzKX1pIGluc3RhbmNlb2YgYSYmKGk9aS5kYXRhLmhvb2t8fChpLmRhdGEuaG9vaz17fSkpO3ZhciBlLG89aVtyXTt0KG8pP2U9eXUoW3NdKTpuKG8uZm5zKSYmdShvLm1lcmdlZCk/KGU9bykuZm5zLnB1c2gocyk6ZT15dShbbyxzXSk7ZS5tZXJnZWQ9ITA7aVtyXT1lfWZ1bmN0aW9uIGdvKHQsaSxyLHUsZil7aWYobihpKSl7aWYoYyhpLHIpKXJldHVybiB0W3JdPWlbcl0sZnx8ZGVsZXRlIGlbcl0sITA7aWYoYyhpLHUpKXJldHVybiB0W3JdPWlbdV0sZnx8ZGVsZXRlIGlbdV0sITB9cmV0dXJuITF9ZnVuY3Rpb24gd2kodCl7cmV0dXJuIG4odCkmJm4odC50ZXh0KSYmZnVuY3Rpb24obil7cmV0dXJuITE9PT1ufSh0LmlzQ29tbWVudCl9ZnVuY3Rpb24gbnMoaSxyKXtmb3IodmFyIGYsaCxvLGU9W10scz0wO3M8aS5sZW5ndGg7cysrKXQoZj1pW3NdKXx8ImJvb2xlYW4iPT10eXBlb2YgZnx8KG89ZVtoPWUubGVuZ3RoLTFdLEFycmF5LmlzQXJyYXkoZik/Zi5sZW5ndGg+MCYmKHdpKChmPW5zKGYsKHJ8fCIiKSsiXyIrcykpWzBdKSYmd2kobykmJihlW2hdPXJpKG8udGV4dCtmWzBdLnRleHQpLGYuc2hpZnQoKSksZS5wdXNoLmFwcGx5KGUsZikpOnZpKGYpP3dpKG8pP2VbaF09cmkoby50ZXh0K2YpOiIiIT09ZiYmZS5wdXNoKHJpKGYpKTp3aShmKSYmd2kobyk/ZVtoXT1yaShvLnRleHQrZi50ZXh0KToodShpLl9pc1ZMaXN0KSYmbihmLnRhZykmJnQoZi5rZXkpJiZuKHIpJiYoZi5rZXk9Il9fdmxpc3QiK3IrIl8iK3MrIl9fIiksZS5wdXNoKGYpKSk7cmV0dXJuIGV9ZnVuY3Rpb24gcHUobix0KXtyZXR1cm4obi5fX2VzTW9kdWxlfHxsbCYmIk1vZHVsZSI9PT1uW1N5bWJvbC50b1N0cmluZ1RhZ10pJiYobj1uLmRlZmF1bHQpLGgobik/dC5leHRlbmQobik6bn1mdW5jdGlvbiBlcihuKXtyZXR1cm4gbi5pc0NvbW1lbnQmJm4uYXN5bmNGYWN0b3J5fWZ1bmN0aW9uIHRzKHQpe3ZhciByLGk7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3Iocj0wO3I8dC5sZW5ndGg7cisrKWlmKGk9dFtyXSxuKGkpJiYobihpLmNvbXBvbmVudE9wdGlvbnMpfHxlcihpKSkpcmV0dXJuIGl9ZnVuY3Rpb24gc3kobix0LGkpe2k/bnIuJG9uY2Uobix0KTpuci4kb24obix0KX1mdW5jdGlvbiBoeShuLHQpe25yLiRvZmYobix0KX1mdW5jdGlvbiBpcyhuLHQsaSl7bnI9bjtrbyh0LGl8fHt9LHN5LGh5KTtucj12b2lkIDB9ZnVuY3Rpb24gd3Uobix0KXt2YXIgaT17fSxmLGgscix1LG8sZSxzO2lmKCFuKXJldHVybiBpO2ZvcihmPTAsaD1uLmxlbmd0aDtmPGg7ZisrKXI9bltmXSx1PXIuZGF0YSwodSYmdS5hdHRycyYmdS5hdHRycy5zbG90JiZkZWxldGUgdS5hdHRycy5zbG90LChyLmNvbnRleHQ9PT10fHxyLmZuQ29udGV4dD09PXQpJiZ1JiZudWxsIT11LnNsb3QpPyhvPXUuc2xvdCxlPWlbb118fChpW29dPVtdKSwidGVtcGxhdGUiPT09ci50YWc/ZS5wdXNoLmFwcGx5KGUsci5jaGlsZHJlbnx8W10pOmUucHVzaChyKSk6KGkuZGVmYXVsdHx8KGkuZGVmYXVsdD1bXSkpLnB1c2gocik7Zm9yKHMgaW4gaSlpW3NdLmV2ZXJ5KGN5KSYmZGVsZXRlIGlbc107cmV0dXJuIGl9ZnVuY3Rpb24gY3kobil7cmV0dXJuIG4uaXNDb21tZW50JiYhbi5hc3luY0ZhY3Rvcnl8fCIgIj09PW4udGV4dH1mdW5jdGlvbiBycyhuLHQpe3Q9dHx8e307Zm9yKHZhciBpPTA7aTxuLmxlbmd0aDtpKyspQXJyYXkuaXNBcnJheShuW2ldKT9ycyhuW2ldLHQpOnRbbltpXS5rZXldPW5baV0uZm47cmV0dXJuIHR9ZnVuY3Rpb24gdXMobil7Zm9yKDtuJiYobj1uLiRwYXJlbnQpOylpZihuLl9pbmFjdGl2ZSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBidShuLHQpe2lmKHQpe2lmKG4uX2RpcmVjdEluYWN0aXZlPSExLHVzKG4pKXJldHVybn1lbHNlIGlmKG4uX2RpcmVjdEluYWN0aXZlKXJldHVybjtpZihuLl9pbmFjdGl2ZXx8bnVsbD09PW4uX2luYWN0aXZlKXtuLl9pbmFjdGl2ZT0hMTtmb3IodmFyIGk9MDtpPG4uJGNoaWxkcmVuLmxlbmd0aDtpKyspYnUobi4kY2hpbGRyZW5baV0pO2QobiwiYWN0aXZhdGVkIil9fWZ1bmN0aW9uIGZzKG4sdCl7aWYoISh0JiYobi5fZGlyZWN0SW5hY3RpdmU9ITAsdXMobikpfHxuLl9pbmFjdGl2ZSkpe24uX2luYWN0aXZlPSEwO2Zvcih2YXIgaT0wO2k8bi4kY2hpbGRyZW4ubGVuZ3RoO2krKylmcyhuLiRjaGlsZHJlbltpXSk7ZChuLCJkZWFjdGl2YXRlZCIpfX1mdW5jdGlvbiBkKG4sdCl7dmFyIGk9bi4kb3B0aW9uc1t0XSxyLHU7aWYoaSlmb3Iocj0wLHU9aS5sZW5ndGg7cjx1O3IrKyl0cnl7aVtyXS5jYWxsKG4pfWNhdGNoKGkpe2N0KGksbix0KyIgaG9vayIpfW4uX2hhc0hvb2tFdmVudCYmbi4kZW1pdCgiaG9vazoiK3QpfWZ1bmN0aW9uIGx5KCl7dmFyIG4sdCxpLHI7Zm9yKGxlPSEwLGV0LnNvcnQoZnVuY3Rpb24obix0KXtyZXR1cm4gbi5pZC10LmlkfSksbGk9MDtsaTxldC5sZW5ndGg7bGkrKyl0PShuPWV0W2xpXSkuaWQscHJbdF09bnVsbCxuLnJ1bigpO2k9aGUuc2xpY2UoKTtyPWV0LnNsaWNlKCk7bGk9ZXQubGVuZ3RoPWhlLmxlbmd0aD0wO3ByPXt9O2NlPWxlPSExLGZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKW5bdF0uX2luYWN0aXZlPSEwLGJ1KG5bdF0sITApfShpKSxmdW5jdGlvbihuKXtmb3IodmFyIHI9bi5sZW5ndGgsaSx0O3ItLTspaT1uW3JdLHQ9aS52bSx0Ll93YXRjaGVyPT09aSYmdC5faXNNb3VudGVkJiZkKHQsInVwZGF0ZWQiKX0ocik7dnImJncuZGV2dG9vbHMmJnZyLmVtaXQoImZsdXNoIil9ZnVuY3Rpb24ga3Uobix0LGkpe290LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzW3RdW2ldfTtvdC5zZXQ9ZnVuY3Rpb24obil7dGhpc1t0XVtpXT1ufTtPYmplY3QuZGVmaW5lUHJvcGVydHkobixpLG90KX1mdW5jdGlvbiBheShuKXtuLl93YXRjaGVycz1bXTt2YXIgdD1uLiRvcHRpb25zO3QucHJvcHMmJmZ1bmN0aW9uKG4sdCl7dmFyIHU9bi4kb3B0aW9ucy5wcm9wc0RhdGF8fHt9LGY9bi5fcHJvcHM9e30sZT1uLiRvcHRpb25zLl9wcm9wS2V5cz1bXSxvPSFuLiRwYXJlbnQsaSxyO3J0LnNob3VsZENvbnZlcnQ9bztpPWZ1bmN0aW9uKGkpe2UucHVzaChpKTt2YXIgcj1sdShpLHQsdSxuKTt5dChmLGkscik7aSBpbiBufHxrdShuLCJfcHJvcHMiLGkpfTtmb3IociBpbiB0KWkocik7cnQuc2hvdWxkQ29udmVydD0hMH0obix0LnByb3BzKTt0Lm1ldGhvZHMmJmZ1bmN0aW9uKG4sdCl7bi4kb3B0aW9ucy5wcm9wcztmb3IodmFyIGkgaW4gdCluW2ldPW51bGw9PXRbaV0/bzppeSh0W2ldLG4pfShuLHQubWV0aG9kcyk7dC5kYXRhP2Z1bmN0aW9uKG4pe3ZhciB0PW4uJG9wdGlvbnMuZGF0YSxpO3Q9bi5fZGF0YT0iZnVuY3Rpb24iPT10eXBlb2YgdD9mdW5jdGlvbihuLHQpe3RyeXtyZXR1cm4gbi5jYWxsKHQsdCl9Y2F0Y2gobil7cmV0dXJuIGN0KG4sdCwiZGF0YSgpIikse319fSh0LG4pOnR8fHt9O3YodCl8fCh0PXt9KTtmb3IodmFyIHI9T2JqZWN0LmtleXModCksdT1uLiRvcHRpb25zLnByb3BzLGY9KG4uJG9wdGlvbnMubWV0aG9kcyxyLmxlbmd0aCk7Zi0tOylpPXJbZl0sdSYmYyh1LGkpfHxyeShpKXx8a3UobiwiX2RhdGEiLGkpO3VpKHQsITApfShuKTp1aShuLl9kYXRhPXt9LCEwKTt0LmNvbXB1dGVkJiZmdW5jdGlvbihuLHQpe3ZhciBmPW4uX2NvbXB1dGVkV2F0Y2hlcnM9T2JqZWN0LmNyZWF0ZShudWxsKSxlPWRpKCksaSxyLHU7Zm9yKGkgaW4gdClyPXRbaV0sdT0iZnVuY3Rpb24iPT10eXBlb2Ygcj9yOnIuZ2V0LGV8fChmW2ldPW5ldyB0dChuLHV8fG8sbyxkbCkpLGkgaW4gbnx8ZXMobixpLHIpfShuLHQuY29tcHV0ZWQpO3Qud2F0Y2gmJnQud2F0Y2ghPT1uZSYmZnVuY3Rpb24obix0KXt2YXIgcixpLHU7Zm9yKHIgaW4gdClpZihpPXRbcl0sQXJyYXkuaXNBcnJheShpKSlmb3IodT0wO3U8aS5sZW5ndGg7dSsrKWR1KG4scixpW3VdKTtlbHNlIGR1KG4scixpKX0obix0LndhdGNoKX1mdW5jdGlvbiBlcyhuLHQsaSl7dmFyIHI9IWRpKCk7ImZ1bmN0aW9uIj09dHlwZW9mIGk/KG90LmdldD1yP29zKHQpOmksb3Quc2V0PW8pOihvdC5nZXQ9aS5nZXQ/ciYmITEhPT1pLmNhY2hlP29zKHQpOmkuZ2V0Om8sb3Quc2V0PWkuc2V0P2kuc2V0Om8pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQsb3QpfWZ1bmN0aW9uIG9zKG4pe3JldHVybiBmdW5jdGlvbigpe3ZhciB0PXRoaXMuX2NvbXB1dGVkV2F0Y2hlcnMmJnRoaXMuX2NvbXB1dGVkV2F0Y2hlcnNbbl07aWYodClyZXR1cm4gdC5kaXJ0eSYmdC5ldmFsdWF0ZSgpLHMudGFyZ2V0JiZ0LmRlcGVuZCgpLHQudmFsdWV9fWZ1bmN0aW9uIGR1KG4sdCxpLHIpe3JldHVybiB2KGkpJiYocj1pLGk9aS5oYW5kbGVyKSwic3RyaW5nIj09dHlwZW9mIGkmJihpPW5baV0pLG4uJHdhdGNoKHQsaSxyKX1mdW5jdGlvbiBzcyhuLHQpe3ZhciB1O2lmKG4pe2Zvcih2YXIgZj1PYmplY3QuY3JlYXRlKG51bGwpLG89bGw/UmVmbGVjdC5vd25LZXlzKG4pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpLmVudW1lcmFibGV9KTpPYmplY3Qua2V5cyhuKSxlPTA7ZTxvLmxlbmd0aDtlKyspe2Zvcih2YXIgcj1vW2VdLHM9bltyXS5mcm9tLGk9dDtpOyl7aWYoaS5fcHJvdmlkZWQmJnMgaW4gaS5fcHJvdmlkZWQpe2Zbcl09aS5fcHJvdmlkZWRbc107YnJlYWt9aT1pLiRwYXJlbnR9IWkmJiJkZWZhdWx0ImluIG5bcl0mJih1PW5bcl0uZGVmYXVsdCxmW3JdPSJmdW5jdGlvbiI9PXR5cGVvZiB1P3UuY2FsbCh0KTp1KX1yZXR1cm4gZn19ZnVuY3Rpb24gdnkodCxpKXt2YXIgdSxyLGYsZSxvO2lmKEFycmF5LmlzQXJyYXkodCl8fCJzdHJpbmciPT10eXBlb2YgdClmb3IodT1uZXcgQXJyYXkodC5sZW5ndGgpLHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdVtyXT1pKHRbcl0scik7ZWxzZSBpZigibnVtYmVyIj09dHlwZW9mIHQpZm9yKHU9bmV3IEFycmF5KHQpLHI9MDtyPHQ7cisrKXVbcl09aShyKzEscik7ZWxzZSBpZihoKHQpKWZvcihlPU9iamVjdC5rZXlzKHQpLHU9bmV3IEFycmF5KGUubGVuZ3RoKSxyPTAsZj1lLmxlbmd0aDtyPGY7cisrKW89ZVtyXSx1W3JdPWkodFtvXSxvLHIpO3JldHVybiBuKHUpJiYodS5faXNWTGlzdD0hMCksdX1mdW5jdGlvbiB5eShuLHQscix1KXt2YXIgZixzPXRoaXMuJHNjb3BlZFNsb3RzW25dLGUsbztyZXR1cm4gcz8ocj1yfHx7fSx1JiYocj1pKGkoe30sdSkscikpLGY9cyhyKXx8dCk6KGU9dGhpcy4kc2xvdHNbbl0sZSYmKGUuX3JlbmRlcmVkPSEwKSxmPWV8fHQpLG89ciYmci5zbG90LG8/dGhpcy4kY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiLHtzbG90Om99LGYpOmZ9ZnVuY3Rpb24gcHkobil7cmV0dXJuIGN1KHRoaXMuJG9wdGlvbnMsImZpbHRlcnMiLG4pfHx1bH1mdW5jdGlvbiB3eShuLHQsaSxyKXt2YXIgdT13LmtleUNvZGVzW3RdfHxpO3JldHVybiB1P0FycmF5LmlzQXJyYXkodSk/LTE9PT11LmluZGV4T2Yobik6dSE9PW46cj9nZihyKSE9PXQ6dm9pZCAwfWZ1bmN0aW9uIGJ5KG4sdCxpLHIsdSl7dmFyIGYsZSxvO2lmKGkmJmgoaSkpe0FycmF5LmlzQXJyYXkoaSkmJihpPWhvKGkpKTtlPWZ1bmN0aW9uKGUpe2lmKCJjbGFzcyI9PT1lfHwic3R5bGUiPT09ZXx8dnAoZSkpZj1uO2Vsc2V7dmFyIG89bi5hdHRycyYmbi5hdHRycy50eXBlO2Y9cnx8dy5tdXN0VXNlUHJvcCh0LG8sZSk/bi5kb21Qcm9wc3x8KG4uZG9tUHJvcHM9e30pOm4uYXR0cnN8fChuLmF0dHJzPXt9KX1lIGluIGZ8fChmW2VdPWlbZV0sIXUpfHwoKG4ub258fChuLm9uPXt9KSlbInVwZGF0ZToiK2VdPWZ1bmN0aW9uKG4pe2lbZV09bn0pfTtmb3IobyBpbiBpKWUobyl9cmV0dXJuIG59ZnVuY3Rpb24ga3kobix0KXt2YXIgcj10aGlzLl9zdGF0aWNUcmVlc3x8KHRoaXMuX3N0YXRpY1RyZWVzPVtdKSxpPXJbbl07cmV0dXJuIGkmJiF0P0FycmF5LmlzQXJyYXkoaSk/dXIoaSk6bG8oaSk6KGk9cltuXT10aGlzLiRvcHRpb25zLnN0YXRpY1JlbmRlckZuc1tuXS5jYWxsKHRoaXMuX3JlbmRlclByb3h5LG51bGwsdGhpcyksaHMoaSwiX19zdGF0aWNfXyIrbiwhMSksaSl9ZnVuY3Rpb24gZHkobix0LGkpe3JldHVybiBocyhuLCJfX29uY2VfXyIrdCsoaT8iXyIraToiIiksITApLG59ZnVuY3Rpb24gaHMobix0LGkpe2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHZhciByPTA7cjxuLmxlbmd0aDtyKyspbltyXSYmInN0cmluZyIhPXR5cGVvZiBuW3JdJiZjcyhuW3JdLHQrIl8iK3IsaSk7ZWxzZSBjcyhuLHQsaSl9ZnVuY3Rpb24gY3Mobix0LGkpe24uaXNTdGF0aWM9ITA7bi5rZXk9dDtuLmlzT25jZT1pfWZ1bmN0aW9uIGd5KG4sdCl7dmFyIHUscixmLGU7aWYodCYmdih0KSl7dT1uLm9uPW4ub24/aSh7fSxuLm9uKTp7fTtmb3IociBpbiB0KWY9dVtyXSxlPXRbcl0sdVtyXT1mP1tdLmNvbmNhdChmLGUpOmV9cmV0dXJuIG59ZnVuY3Rpb24gbHMobil7bi5fbz1keTtuLl9uPXlpO24uX3M9dHk7bi5fbD12eTtuLl90PXl5O24uX3E9dnQ7bi5faT1jbztuLl9tPWt5O24uX2Y9cHk7bi5faz13eTtuLl9iPWJ5O24uX3Y9cmk7bi5fZT1ndDtuLl91PXJzO24uX2c9Z3l9ZnVuY3Rpb24gYXMobix0LGkscixmKXt2YXIgZT1mLm9wdGlvbnM7dGhpcy5kYXRhPW47dGhpcy5wcm9wcz10O3RoaXMuY2hpbGRyZW49aTt0aGlzLnBhcmVudD1yO3RoaXMubGlzdGVuZXJzPW4ub258fHA7dGhpcy5pbmplY3Rpb25zPXNzKGUuaW5qZWN0LHIpO3RoaXMuc2xvdHM9ZnVuY3Rpb24oKXtyZXR1cm4gd3UoaSxyKX07dmFyIG89T2JqZWN0LmNyZWF0ZShyKSxzPXUoZS5fY29tcGlsZWQpLGg9IXM7cyYmKHRoaXMuJG9wdGlvbnM9ZSx0aGlzLiRzbG90cz10aGlzLnNsb3RzKCksdGhpcy4kc2NvcGVkU2xvdHM9bi5zY29wZWRTbG90c3x8cCk7dGhpcy5fYz1lLl9zY29wZUlkP2Z1bmN0aW9uKG4sdCxpLHUpe3ZhciBmPW9yKG8sbix0LGksdSxoKTtyZXR1cm4gZiYmKGYuZm5TY29wZUlkPWUuX3Njb3BlSWQsZi5mbkNvbnRleHQ9ciksZn06ZnVuY3Rpb24obix0LGkscil7cmV0dXJuIG9yKG8sbix0LGkscixoKX19ZnVuY3Rpb24gdnMobix0KXtmb3IodmFyIGkgaW4gdCluW2l0KGkpXT10W2ldfWZ1bmN0aW9uIHlzKGkscixmLGUsbyl7dmFyIGMscyxsLHcsdix5O2lmKCF0KGkpJiYoYz1mLiRvcHRpb25zLl9iYXNlLGgoaSkmJihpPWMuZXh0ZW5kKGkpKSwiZnVuY3Rpb24iPT10eXBlb2YgaSkpcmV0dXJuIHQoaS5jaWQpJiYocz1pLHZvaWQgMD09PShpPWZ1bmN0aW9uKGkscixmKXtpZih1KGkuZXJyb3IpJiZuKGkuZXJyb3JDb21wKSlyZXR1cm4gaS5lcnJvckNvbXA7aWYobihpLnJlc29sdmVkKSlyZXR1cm4gaS5yZXNvbHZlZDtpZih1KGkubG9hZGluZykmJm4oaS5sb2FkaW5nQ29tcCkpcmV0dXJuIGkubG9hZGluZ0NvbXA7aWYoIW4oaS5jb250ZXh0cykpe3ZhciBsPWkuY29udGV4dHM9W2ZdLGE9ITAscz1mdW5jdGlvbigpe2Zvcih2YXIgbj0wLHQ9bC5sZW5ndGg7bjx0O24rKylsW25dLiRmb3JjZVVwZGF0ZSgpfSxjPXJyKGZ1bmN0aW9uKG4pe2kucmVzb2x2ZWQ9cHUobixyKTthfHxzKCl9KSxvPXJyKGZ1bmN0aW9uKCl7bihpLmVycm9yQ29tcCkmJihpLmVycm9yPSEwLHMoKSl9KSxlPWkoYyxvKTtyZXR1cm4gaChlKSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLnRoZW4/dChpLnJlc29sdmVkKSYmZS50aGVuKGMsbyk6bihlLmNvbXBvbmVudCkmJiJmdW5jdGlvbiI9PXR5cGVvZiBlLmNvbXBvbmVudC50aGVuJiYoZS5jb21wb25lbnQudGhlbihjLG8pLG4oZS5lcnJvcikmJihpLmVycm9yQ29tcD1wdShlLmVycm9yLHIpKSxuKGUubG9hZGluZykmJihpLmxvYWRpbmdDb21wPXB1KGUubG9hZGluZyxyKSwwPT09ZS5kZWxheT9pLmxvYWRpbmc9ITA6c2V0VGltZW91dChmdW5jdGlvbigpe3QoaS5yZXNvbHZlZCkmJnQoaS5lcnJvcikmJihpLmxvYWRpbmc9ITAscygpKX0sZS5kZWxheXx8MjAwKSksbihlLnRpbWVvdXQpJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChpLnJlc29sdmVkKSYmbyhudWxsKX0sZS50aW1lb3V0KSkpLGE9ITEsaS5sb2FkaW5nP2kubG9hZGluZ0NvbXA6aS5yZXNvbHZlZH1pLmNvbnRleHRzLnB1c2goZil9KHMsYyxmKSkpP2Z1bmN0aW9uKG4sdCxpLHIsdSl7dmFyIGY9Z3QoKTtyZXR1cm4gZi5hc3luY0ZhY3Rvcnk9bixmLmFzeW5jTWV0YT17ZGF0YTp0LGNvbnRleHQ6aSxjaGlsZHJlbjpyLHRhZzp1fSxmfShzLHIsZixlLG8pOihyPXJ8fHt9LGd1KGkpLG4oci5tb2RlbCkmJmZ1bmN0aW9uKHQsaSl7dmFyIGY9dC5tb2RlbCYmdC5tb2RlbC5wcm9wfHwidmFsdWUiLHU9dC5tb2RlbCYmdC5tb2RlbC5ldmVudHx8ImlucHV0IixyOyhpLnByb3BzfHwoaS5wcm9wcz17fSkpW2ZdPWkubW9kZWwudmFsdWU7cj1pLm9ufHwoaS5vbj17fSk7clt1XT1uKHJbdV0pP1tpLm1vZGVsLmNhbGxiYWNrXS5jb25jYXQoclt1XSk6aS5tb2RlbC5jYWxsYmFja30oaS5vcHRpb25zLHIpLGw9ZnVuY3Rpb24oaSxyKXt2YXIgbz1yLm9wdGlvbnMucHJvcHMsdSxlO2lmKCF0KG8pKXt2YXIgZj17fSxzPWkuYXR0cnMsaD1pLnByb3BzO2lmKG4ocyl8fG4oaCkpZm9yKHUgaW4gbyllPWdmKHUpLGdvKGYsaCx1LGUsITApfHxnbyhmLHMsdSxlLCExKTtyZXR1cm4gZn19KHIsaSksdShpLm9wdGlvbnMuZnVuY3Rpb25hbCkpP2Z1bmN0aW9uKHQsaSxyLHUsZil7dmFyIHM9dC5vcHRpb25zLG89e30saD1zLnByb3BzLGMsbCxlO2lmKG4oaCkpZm9yKGMgaW4gaClvW2NdPWx1KGMsaCxpfHxwKTtlbHNlIG4oci5hdHRycykmJnZzKG8sci5hdHRycyksbihyLnByb3BzKSYmdnMobyxyLnByb3BzKTtyZXR1cm4gbD1uZXcgYXMocixvLGYsdSx0KSxlPXMucmVuZGVyLmNhbGwobnVsbCxsLl9jLGwpLGUgaW5zdGFuY2VvZiBhJiYoZS5mbkNvbnRleHQ9dSxlLmZuT3B0aW9ucz1zLHIuc2xvdCYmKChlLmRhdGF8fChlLmRhdGE9e30pKS5zbG90PXIuc2xvdCkpLGV9KGksbCxyLGYsZSk6KHc9ci5vbiwoci5vbj1yLm5hdGl2ZU9uLHUoaS5vcHRpb25zLmFic3RyYWN0KSkmJih2PXIuc2xvdCxyPXt9LHYmJihyLnNsb3Q9dikpLCFmdW5jdGlvbihuKXt2YXIgdDtmb3Iobi5ob29rfHwobi5ob29rPXt9KSx0PTA7dDxnbC5sZW5ndGg7dCsrKXt2YXIgaT1nbFt0XSxyPW4uaG9va1tpXSx1PWFlW2ldO24uaG9va1tpXT1yP2Z1bmN0aW9uKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKGkscix1LGYpe24oaSxyLHUsZik7dChpLHIsdSxmKX19KHUscik6dX19KHIpLHk9aS5vcHRpb25zLm5hbWV8fG8sbmV3IGEoInZ1ZS1jb21wb25lbnQtIitpLmNpZCsoeT8iLSIreToiIikscix2b2lkIDAsdm9pZCAwLHZvaWQgMCxmLHtDdG9yOmkscHJvcHNEYXRhOmwsbGlzdGVuZXJzOncsdGFnOm8sY2hpbGRyZW46ZX0scykpfWZ1bmN0aW9uIG9yKHQsaSxyLGYsZSxvKXtyZXR1cm4oQXJyYXkuaXNBcnJheShyKXx8dmkocikpJiYoZT1mLGY9cixyPXZvaWQgMCksdShvKSYmKGU9bmEpLGZ1bmN0aW9uKHQsaSxyLHUsZil7dmFyIGUsbyxzO3JldHVybiBuKHIpJiZuKHIuX19vYl9fKT9ndCgpOihuKHIpJiZuKHIuaXMpJiYoaT1yLmlzKSwhaSk/Z3QoKTooQXJyYXkuaXNBcnJheSh1KSYmImZ1bmN0aW9uIj09dHlwZW9mIHVbMF0mJigocj1yfHx7fSkuc2NvcGVkU2xvdHM9eyJkZWZhdWx0Ijp1WzBdfSx1Lmxlbmd0aD0wKSxmPT09bmE/dT1mdW5jdGlvbihuKXtyZXR1cm4gdmkobik/W3JpKG4pXTpBcnJheS5pc0FycmF5KG4pP25zKG4pOnZvaWQgMH0odSk6Zj09PWV3JiYodT1mdW5jdGlvbihuKXtmb3IodmFyIHQ9MDt0PG4ubGVuZ3RoO3QrKylpZihBcnJheS5pc0FycmF5KG5bdF0pKXJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLG4pO3JldHVybiBufSh1KSksInN0cmluZyI9PXR5cGVvZiBpPyhvPXQuJHZub2RlJiZ0LiR2bm9kZS5uc3x8dy5nZXRUYWdOYW1lc3BhY2UoaSksZT13LmlzUmVzZXJ2ZWRUYWcoaSk/bmV3IGEody5wYXJzZVBsYXRmb3JtVGFnTmFtZShpKSxyLHUsdm9pZCAwLHZvaWQgMCx0KTpuKHM9Y3UodC4kb3B0aW9ucywiY29tcG9uZW50cyIsaSkpP3lzKHMscix0LHUsaSk6bmV3IGEoaSxyLHUsdm9pZCAwLHZvaWQgMCx0KSk6ZT15cyhpLHIsdCx1KSxuKGUpPyhvJiZwcyhlLG8pLGUpOmd0KCkpfSh0LGkscixmLGUpfWZ1bmN0aW9uIHBzKGkscixmKXt2YXIgZSxzLG87aWYoaS5ucz1yLCJmb3JlaWduT2JqZWN0Ij09PWkudGFnJiYocj12b2lkIDAsZj0hMCksbihpLmNoaWxkcmVuKSlmb3IoZT0wLHM9aS5jaGlsZHJlbi5sZW5ndGg7ZTxzO2UrKylvPWkuY2hpbGRyZW5bZV0sbihvLnRhZykmJih0KG8ubnMpfHx1KGYpKSYmcHMobyxyLGYpfWZ1bmN0aW9uIGd1KG4pe3ZhciB0PW4ub3B0aW9ucyxyLHU7cmV0dXJuIG4uc3VwZXImJihyPWd1KG4uc3VwZXIpLHIhPT1uLnN1cGVyT3B0aW9ucyYmKG4uc3VwZXJPcHRpb25zPXIsdT1mdW5jdGlvbihuKXt2YXIgaSxyPW4ub3B0aW9ucyxmPW4uZXh0ZW5kT3B0aW9ucyx1PW4uc2VhbGVkT3B0aW9ucztmb3IodmFyIHQgaW4gcilyW3RdIT09dVt0XSYmKGl8fChpPXt9KSxpW3RdPWZ1bmN0aW9uKG4sdCxpKXt2YXIgdSxyO2lmKEFycmF5LmlzQXJyYXkobikpe2Zvcih1PVtdLGk9QXJyYXkuaXNBcnJheShpKT9pOltpXSx0PUFycmF5LmlzQXJyYXkodCk/dDpbdF0scj0wO3I8bi5sZW5ndGg7cisrKSh0LmluZGV4T2YobltyXSk+PTB8fGkuaW5kZXhPZihuW3JdKTwwKSYmdS5wdXNoKG5bcl0pO3JldHVybiB1fXJldHVybiBufShyW3RdLGZbdF0sdVt0XSkpO3JldHVybiBpfShuKSx1JiZpKG4uZXh0ZW5kT3B0aW9ucyx1KSwodD1uLm9wdGlvbnM9cHQocixuLmV4dGVuZE9wdGlvbnMpKS5uYW1lJiYodC5jb21wb25lbnRzW3QubmFtZV09bikpKSx0fWZ1bmN0aW9uIHIobil7dGhpcy5faW5pdChuKX1mdW5jdGlvbiBucChuKXtuLmNpZD0wO3ZhciB0PTE7bi5leHRlbmQ9ZnVuY3Rpb24obil7dmFyIG8scjtuPW58fHt9O3ZhciB1PXRoaXMsZj11LmNpZCxlPW4uX0N0b3J8fChuLl9DdG9yPXt9KTtyZXR1cm4gZVtmXT9lW2ZdOihvPW4ubmFtZXx8dS5vcHRpb25zLm5hbWUscj1mdW5jdGlvbihuKXt0aGlzLl9pbml0KG4pfSxyLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHUucHJvdG90eXBlKSxyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yLHIuY2lkPXQrKyxyLm9wdGlvbnM9cHQodS5vcHRpb25zLG4pLHIuc3VwZXI9dSxyLm9wdGlvbnMucHJvcHMmJmZ1bmN0aW9uKG4pe3ZhciB0PW4ub3B0aW9ucy5wcm9wcztmb3IodmFyIGkgaW4gdClrdShuLnByb3RvdHlwZSwiX3Byb3BzIixpKX0ociksci5vcHRpb25zLmNvbXB1dGVkJiZmdW5jdGlvbihuKXt2YXIgdD1uLm9wdGlvbnMuY29tcHV0ZWQ7Zm9yKHZhciBpIGluIHQpZXMobi5wcm90b3R5cGUsaSx0W2ldKX0ociksci5leHRlbmQ9dS5leHRlbmQsci5taXhpbj11Lm1peGluLHIudXNlPXUudXNlLGxyLmZvckVhY2goZnVuY3Rpb24obil7cltuXT11W25dfSksbyYmKHIub3B0aW9ucy5jb21wb25lbnRzW29dPXIpLHIuc3VwZXJPcHRpb25zPXUub3B0aW9ucyxyLmV4dGVuZE9wdGlvbnM9bixyLnNlYWxlZE9wdGlvbnM9aSh7fSxyLm9wdGlvbnMpLGVbZl09cixyKX19ZnVuY3Rpb24gd3Mobil7cmV0dXJuIG4mJihuLkN0b3Iub3B0aW9ucy5uYW1lfHxuLnRhZyl9ZnVuY3Rpb24gc3Iobix0KXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uLmluZGV4T2YodCk+LTE6InN0cmluZyI9PXR5cGVvZiBuP24uc3BsaXQoIiwiKS5pbmRleE9mKHQpPi0xOiEhZnVuY3Rpb24obil7cmV0dXJuIltvYmplY3QgUmVnRXhwXSI9PT1ybC5jYWxsKG4pfShuKSYmbi50ZXN0KHQpfWZ1bmN0aW9uIGJzKG4sdCl7dmFyIGk9bi5jYWNoZSxlPW4ua2V5cyxvPW4uX3Zub2RlLHIsdSxmO2ZvcihyIGluIGkpdT1pW3JdLHUmJihmPXdzKHUuY29tcG9uZW50T3B0aW9ucyksZiYmIXQoZikmJm5mKGkscixlLG8pKX1mdW5jdGlvbiBuZihuLHQsaSxyKXt2YXIgdT1uW3RdOyF1fHxyJiZ1LnRhZz09PXIudGFnfHx1LmNvbXBvbmVudEluc3RhbmNlLiRkZXN0cm95KCk7blt0XT1udWxsO2h0KGksdCl9ZnVuY3Rpb24gdHAodCl7Zm9yKHZhciBpPXQuZGF0YSxyPXQsdT10O24odS5jb21wb25lbnRJbnN0YW5jZSk7KSh1PXUuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlKSYmdS5kYXRhJiYoaT1rcyh1LmRhdGEsaSkpO2Zvcig7bihyPXIucGFyZW50KTspciYmci5kYXRhJiYoaT1rcyhpLHIuZGF0YSkpO3JldHVybiBmdW5jdGlvbih0LGkpe3JldHVybiBuKHQpfHxuKGkpP3RmKHQscmYoaSkpOiIifShpLnN0YXRpY0NsYXNzLGkuY2xhc3MpfWZ1bmN0aW9uIGtzKHQsaSl7cmV0dXJue3N0YXRpY0NsYXNzOnRmKHQuc3RhdGljQ2xhc3MsaS5zdGF0aWNDbGFzcyksImNsYXNzIjpuKHQuY2xhc3MpP1t0LmNsYXNzLGkuY2xhc3NdOmkuY2xhc3N9fWZ1bmN0aW9uIHRmKG4sdCl7cmV0dXJuIG4/dD9uKyIgIit0Om46dHx8IiJ9ZnVuY3Rpb24gcmYodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/ZnVuY3Rpb24odCl7Zm9yKHZhciByLGk9IiIsdT0wLGY9dC5sZW5ndGg7dTxmO3UrKyluKHI9cmYodFt1XSkpJiYiIiE9PXImJihpJiYoaSs9IiAiKSxpKz1yKTtyZXR1cm4gaX0odCk6aCh0KT9mdW5jdGlvbihuKXt2YXIgdD0iIjtmb3IodmFyIGkgaW4gbiluW2ldJiYodCYmKHQrPSIgIiksdCs9aSk7cmV0dXJuIHR9KHQpOiJzdHJpbmciPT10eXBlb2YgdD90OiIifWZ1bmN0aW9uIGRzKG4pe3JldHVybiBlYShuKT8ic3ZnIjoibWF0aCI9PT1uPyJtYXRoIjp2b2lkIDB9ZnVuY3Rpb24gdWYobil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pO3JldHVybiB0fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKX1yZXR1cm4gbn1mdW5jdGlvbiBmaShuLHQpe3ZhciBpPW4uZGF0YS5yZWY7aWYoaSl7dmFyIGY9bi5jb250ZXh0LHU9bi5jb21wb25lbnRJbnN0YW5jZXx8bi5lbG0scj1mLiRyZWZzO3Q/QXJyYXkuaXNBcnJheShyW2ldKT9odChyW2ldLHUpOnJbaV09PT11JiYocltpXT12b2lkIDApOm4uZGF0YS5yZWZJbkZvcj9BcnJheS5pc0FycmF5KHJbaV0pP3JbaV0uaW5kZXhPZih1KTwwJiZyW2ldLnB1c2godSk6cltpXT1bdV06cltpXT11fX1mdW5jdGlvbiB3dChpLHIpe3JldHVybiBpLmtleT09PXIua2V5JiYoaS50YWc9PT1yLnRhZyYmaS5pc0NvbW1lbnQ9PT1yLmlzQ29tbWVudCYmbihpLmRhdGEpPT09bihyLmRhdGEpJiZmdW5jdGlvbih0LGkpe2lmKCJpbnB1dCIhPT10LnRhZylyZXR1cm4hMDt2YXIgcix1PW4ocj10LmRhdGEpJiZuKHI9ci5hdHRycykmJnIudHlwZSxmPW4ocj1pLmRhdGEpJiZuKHI9ci5hdHRycykmJnIudHlwZTtyZXR1cm4gdT09PWZ8fGRlKHUpJiZkZShmKX0oaSxyKXx8dShpLmlzQXN5bmNQbGFjZWhvbGRlcikmJmkuYXN5bmNGYWN0b3J5PT09ci5hc3luY0ZhY3RvcnkmJnQoci5hc3luY0ZhY3RvcnkuZXJyb3IpKX1mdW5jdGlvbiBpcCh0LGkscil7Zm9yKHZhciBmLGU9e30sdT1pO3U8PXI7Kyt1KW4oZj10W3VdLmtleSkmJihlW2ZdPXUpO3JldHVybiBlfWZ1bmN0aW9uIGZmKG4sdCl7KG4uZGF0YS5kaXJlY3RpdmVzfHx0LmRhdGEuZGlyZWN0aXZlcykmJmZ1bmN0aW9uKG4sdCl7dmFyIHIsZSxpLGM9bj09PXRpLGw9dD09PXRpLG89Z3Mobi5kYXRhLmRpcmVjdGl2ZXMsbi5jb250ZXh0KSxzPWdzKHQuZGF0YS5kaXJlY3RpdmVzLHQuY29udGV4dCksdT1bXSxmPVtdLGg7Zm9yKHIgaW4gcyllPW9bcl0saT1zW3JdLGU/KGkub2xkVmFsdWU9ZS52YWx1ZSxiaShpLCJ1cGRhdGUiLHQsbiksaS5kZWYmJmkuZGVmLmNvbXBvbmVudFVwZGF0ZWQmJmYucHVzaChpKSk6KGJpKGksImJpbmQiLHQsbiksaS5kZWYmJmkuZGVmLmluc2VydGVkJiZ1LnB1c2goaSkpO2lmKHUubGVuZ3RoJiYoaD1mdW5jdGlvbigpe2Zvcih2YXIgaT0wO2k8dS5sZW5ndGg7aSsrKWJpKHVbaV0sImluc2VydGVkIix0LG4pfSxjP2x0KHQsImluc2VydCIsaCk6aCgpKSxmLmxlbmd0aCYmbHQodCwicG9zdHBhdGNoIixmdW5jdGlvbigpe2Zvcih2YXIgaT0wO2k8Zi5sZW5ndGg7aSsrKWJpKGZbaV0sImNvbXBvbmVudFVwZGF0ZWQiLHQsbil9KSwhYylmb3IociBpbiBvKXNbcl18fGJpKG9bcl0sInVuYmluZCIsbixuLGwpfShuLHQpfWZ1bmN0aW9uIGdzKG4sdCl7dmFyIHU9T2JqZWN0LmNyZWF0ZShudWxsKSxyLGk7aWYoIW4pcmV0dXJuIHU7Zm9yKHI9MDtyPG4ubGVuZ3RoO3IrKykoaT1uW3JdKS5tb2RpZmllcnN8fChpLm1vZGlmaWVycz13dyksdVtmdW5jdGlvbihuKXtyZXR1cm4gbi5yYXdOYW1lfHxuLm5hbWUrIi4iK09iamVjdC5rZXlzKG4ubW9kaWZpZXJzfHx7fSkuam9pbigiLiIpfShpKV09aSxpLmRlZj1jdSh0LiRvcHRpb25zLCJkaXJlY3RpdmVzIixpLm5hbWUpO3JldHVybiB1fWZ1bmN0aW9uIGJpKG4sdCxpLHIsdSl7dmFyIGY9bi5kZWYmJm4uZGVmW3RdO2lmKGYpdHJ5e2YoaS5lbG0sbixpLHIsdSl9Y2F0Y2gocil7Y3QocixpLmNvbnRleHQsImRpcmVjdGl2ZSAiK24ubmFtZSsiICIrdCsiIGhvb2siKX19ZnVuY3Rpb24gbmgocix1KXt2YXIgYz11LmNvbXBvbmVudE9wdGlvbnM7aWYoIShuKGMpJiYhMT09PWMuQ3Rvci5vcHRpb25zLmluaGVyaXRBdHRyc3x8dChyLmRhdGEuYXR0cnMpJiZ0KHUuZGF0YS5hdHRycykpKXt2YXIgZixzLG89dS5lbG0saD1yLmRhdGEuYXR0cnN8fHt9LGU9dS5kYXRhLmF0dHJzfHx7fTtuKGUuX19vYl9fKSYmKGU9dS5kYXRhLmF0dHJzPWkoe30sZSkpO2ZvcihmIGluIGUpcz1lW2ZdLGhbZl0hPT1zJiZ0aChvLGYscyk7KGhpfHxobCkmJmUudmFsdWUhPT1oLnZhbHVlJiZ0aChvLCJ2YWx1ZSIsZS52YWx1ZSk7Zm9yKGYgaW4gaCl0KGVbZl0pJiYoYmUoZik/by5yZW1vdmVBdHRyaWJ1dGVOUyh3ZSxmYShmKSk6dWEoZil8fG8ucmVtb3ZlQXR0cmlidXRlKGYpKX19ZnVuY3Rpb24gdGgobix0LGkpe2lmKGN3KHQpKWRyKGkpP24ucmVtb3ZlQXR0cmlidXRlKHQpOihpPSJhbGxvd2Z1bGxzY3JlZW4iPT09dCYmIkVNQkVEIj09PW4udGFnTmFtZT8idHJ1ZSI6dCxuLnNldEF0dHJpYnV0ZSh0LGkpKTtlbHNlIGlmKHVhKHQpKW4uc2V0QXR0cmlidXRlKHQsZHIoaSl8fCJmYWxzZSI9PT1pPyJmYWxzZSI6InRydWUiKTtlbHNlIGlmKGJlKHQpKWRyKGkpP24ucmVtb3ZlQXR0cmlidXRlTlMod2UsZmEodCkpOm4uc2V0QXR0cmlidXRlTlMod2UsdCxpKTtlbHNlIGlmKGRyKGkpKW4ucmVtb3ZlQXR0cmlidXRlKHQpO2Vsc2V7aWYoaGkmJiFjaSYmIlRFWFRBUkVBIj09PW4udGFnTmFtZSYmInBsYWNlaG9sZGVyIj09PXQmJiFuLl9faWVwaCl7dmFyIHI9ZnVuY3Rpb24odCl7dC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoImlucHV0IixyKX07bi5hZGRFdmVudExpc3RlbmVyKCJpbnB1dCIscik7bi5fX2llcGg9ITB9bi5zZXRBdHRyaWJ1dGUodCxpKX19ZnVuY3Rpb24gaWgoaSxyKXt2YXIgZj1yLmVsbSxzPXIuZGF0YSxlPWkuZGF0YSx1LG87dChzLnN0YXRpY0NsYXNzKSYmdChzLmNsYXNzKSYmKHQoZSl8fHQoZS5zdGF0aWNDbGFzcykmJnQoZS5jbGFzcykpfHwodT10cChyKSxvPWYuX3RyYW5zaXRpb25DbGFzc2VzLG4obykmJih1PXRmKHUscmYobykpKSx1IT09Zi5fcHJldkNsYXNzJiYoZi5zZXRBdHRyaWJ1dGUoImNsYXNzIix1KSxmLl9wcmV2Q2xhc3M9dSkpfWZ1bmN0aW9uIGVmKG4pe2Z1bmN0aW9uIHcoKXsoZnx8KGY9W10pKS5wdXNoKG4uc2xpY2UoZSx0KS50cmltKCkpO2U9dCsxfWZvcih2YXIgaSx1LHIsZixoPSExLGM9ITEsbD0hMSxhPSExLHY9MCx5PTAscD0wLGU9MCxvLHMsdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKHU9aSxpPW4uY2hhckNvZGVBdCh0KSxoKTM5PT09aSYmOTIhPT11JiYoaD0hMSk7ZWxzZSBpZihjKTM0PT09aSYmOTIhPT11JiYoYz0hMSk7ZWxzZSBpZihsKTk2PT09aSYmOTIhPT11JiYobD0hMSk7ZWxzZSBpZihhKTQ3PT09aSYmOTIhPT11JiYoYT0hMSk7ZWxzZSBpZigxMjQhPT1pfHwxMjQ9PT1uLmNoYXJDb2RlQXQodCsxKXx8MTI0PT09bi5jaGFyQ29kZUF0KHQtMSl8fHZ8fHl8fHApe3N3aXRjaChpKXtjYXNlIDM0OmM9ITA7YnJlYWs7Y2FzZSAzOTpoPSEwO2JyZWFrO2Nhc2UgOTY6bD0hMDticmVhaztjYXNlIDQwOnArKzticmVhaztjYXNlIDQxOnAtLTticmVhaztjYXNlIDkxOnkrKzticmVhaztjYXNlIDkzOnktLTticmVhaztjYXNlIDEyMzp2Kys7YnJlYWs7Y2FzZSAxMjU6di0tfWlmKDQ3PT09aSl7Zm9yKG89dC0xLHM9dm9pZCAwO28+PTAmJiIgIj09PShzPW4uY2hhckF0KG8pKTtvLS0pO3MmJmd3LnRlc3Qocyl8fChhPSEwKX19ZWxzZSB2b2lkIDA9PT1yPyhlPXQrMSxyPW4uc2xpY2UoMCx0KS50cmltKCkpOncoKTtpZih2b2lkIDA9PT1yP3I9bi5zbGljZSgwLHQpLnRyaW0oKTowIT09ZSYmdygpLGYpZm9yKHQ9MDt0PGYubGVuZ3RoO3QrKylyPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dC5pbmRleE9mKCIoIikscix1O3JldHVybiBpPDA/J19mKCInK3QrJyIpKCcrbisiKSI6KHI9dC5zbGljZSgwLGkpLHU9dC5zbGljZShpKzEpLCdfZigiJytyKyciKSgnK24rIiwiK3UpfShyLGZbdF0pO3JldHVybiByfWZ1bmN0aW9uIHJoKG4pe2NvbnNvbGUuZXJyb3IoIltWdWUgY29tcGlsZXJdOiAiK24pfWZ1bmN0aW9uIGtpKG4sdCl7cmV0dXJuIG4/bi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIG5bdF19KS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG59KTpbXX1mdW5jdGlvbiBidChuLHQsaSl7KG4ucHJvcHN8fChuLnByb3BzPVtdKSkucHVzaCh7bmFtZTp0LHZhbHVlOml9KTtuLnBsYWluPSExfWZ1bmN0aW9uIG9mKG4sdCxpKXsobi5hdHRyc3x8KG4uYXR0cnM9W10pKS5wdXNoKHtuYW1lOnQsdmFsdWU6aX0pO24ucGxhaW49ITF9ZnVuY3Rpb24gc2Yobix0LGkpe24uYXR0cnNNYXBbdF09aTtuLmF0dHJzTGlzdC5wdXNoKHtuYW1lOnQsdmFsdWU6aX0pfWZ1bmN0aW9uIHJwKG4sdCxpLHIsdSxmKXsobi5kaXJlY3RpdmVzfHwobi5kaXJlY3RpdmVzPVtdKSkucHVzaCh7bmFtZTp0LHJhd05hbWU6aSx2YWx1ZTpyLGFyZzp1LG1vZGlmaWVyczpmfSk7bi5wbGFpbj0hMX1mdW5jdGlvbiBrdChuLHQsaSxyLHUpe3ZhciBvLGYsZTsocj1yfHxwKS5jYXB0dXJlJiYoZGVsZXRlIHIuY2FwdHVyZSx0PSIhIit0KTtyLm9uY2UmJihkZWxldGUgci5vbmNlLHQ9In4iK3QpO3IucGFzc2l2ZSYmKGRlbGV0ZSByLnBhc3NpdmUsdD0iJiIrdCk7ImNsaWNrIj09PXQmJihyLnJpZ2h0Pyh0PSJjb250ZXh0bWVudSIsZGVsZXRlIHIucmlnaHQpOnIubWlkZGxlJiYodD0ibW91c2V1cCIpKTtyLm5hdGl2ZT8oZGVsZXRlIHIubmF0aXZlLG89bi5uYXRpdmVFdmVudHN8fChuLm5hdGl2ZUV2ZW50cz17fSkpOm89bi5ldmVudHN8fChuLmV2ZW50cz17fSk7Zj17dmFsdWU6aX07ciE9PXAmJihmLm1vZGlmaWVycz1yKTtlPW9bdF07QXJyYXkuaXNBcnJheShlKT91P2UudW5zaGlmdChmKTplLnB1c2goZik6b1t0XT1lP3U/W2YsZV06W2UsZl06ZjtuLnBsYWluPSExfWZ1bmN0aW9uIHkobix0LGkpe3ZhciB1PWYobiwiOiIrdCl8fGYobiwidi1iaW5kOiIrdCkscjtyZXR1cm4gbnVsbCE9dT9lZih1KTohMSE9PWkmJihyPWYobix0KSxudWxsIT1yKT9KU09OLnN0cmluZ2lmeShyKTp2b2lkIDB9ZnVuY3Rpb24gZihuLHQsaSl7dmFyIGY7aWYobnVsbCE9KGY9bi5hdHRyc01hcFt0XSkpZm9yKHZhciB1PW4uYXR0cnNMaXN0LHI9MCxlPXUubGVuZ3RoO3I8ZTtyKyspaWYodVtyXS5uYW1lPT09dCl7dS5zcGxpY2UociwxKTticmVha31yZXR1cm4gaSYmZGVsZXRlIG4uYXR0cnNNYXBbdF0sZn1mdW5jdGlvbiB1aChuLHQsaSl7dmFyIHU9aXx8e30scj0iJCR2IixmO3UudHJpbSYmKHI9Iih0eXBlb2YgJCR2ID09PSAnc3RyaW5nJz8gJCR2LnRyaW0oKTogJCR2KSIpO3UubnVtYmVyJiYocj0iX24oIityKyIpIik7Zj1laSh0LHIpO24ubW9kZWw9e3ZhbHVlOiIoIit0KyIpIixleHByZXNzaW9uOiciJyt0KyciJyxjYWxsYmFjazoiZnVuY3Rpb24gKCQkdikgeyIrZisifSJ9fWZ1bmN0aW9uIGVpKG4sdCl7dmFyIGk9ZnVuY3Rpb24obil7aWYoeWU9bi5sZW5ndGgsbi5pbmRleE9mKCJbIik8MHx8bi5sYXN0SW5kZXhPZigiXSIpPHllLTEpcmV0dXJuKGF0PW4ubGFzdEluZGV4T2YoIi4iKSk+LTE/e2V4cDpuLnNsaWNlKDAsYXQpLGtleTonIicrbi5zbGljZShhdCsxKSsnIid9OntleHA6bixrZXk6bnVsbH07Zm9yKGlhPW4sYXQ9YnI9cGU9MDshY2YoKTspZmgod3I9aGYoKSk/ZWgod3IpOjkxPT09d3ImJmZ1bmN0aW9uKG4pe3ZhciB0PTE7Zm9yKGJyPWF0OyFjZigpOylpZihuPWhmKCksZmgobikpZWgobik7ZWxzZSBpZig5MT09PW4mJnQrKyw5Mz09PW4mJnQtLSwwPT09dCl7cGU9YXQ7YnJlYWt9fSh3cik7cmV0dXJue2V4cDpuLnNsaWNlKDAsYnIpLGtleTpuLnNsaWNlKGJyKzEscGUpfX0obik7cmV0dXJuIG51bGw9PT1pLmtleT9uKyI9Iit0OiIkc2V0KCIraS5leHArIiwgIitpLmtleSsiLCAiK3QrIikifWZ1bmN0aW9uIGhmKCl7cmV0dXJuIGlhLmNoYXJDb2RlQXQoKythdCl9ZnVuY3Rpb24gY2YoKXtyZXR1cm4gYXQ+PXllfWZ1bmN0aW9uIGZoKG4pe3JldHVybiAzND09PW58fDM5PT09bn1mdW5jdGlvbiBlaChuKXtmb3IodmFyIHQ9bjshY2YoKSYmKG49aGYoKSkhPT10Oyk7fWZ1bmN0aW9uIHVwKG4sdCxpLHIsdSl7dD1mdW5jdGlvbihuKXtyZXR1cm4gbi5fd2l0aFRhc2t8fChuLl93aXRoVGFzaz1mdW5jdGlvbigpe29lPSEwO3ZhciB0PW4uYXBwbHkobnVsbCxhcmd1bWVudHMpO3JldHVybiBvZT0hMSx0fSl9KHQpO2kmJih0PWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10cjtyZXR1cm4gZnVuY3Rpb24gdSgpe251bGwhPT1uLmFwcGx5KG51bGwsYXJndW1lbnRzKSYmb2godCx1LGkscil9fSh0LG4scikpO3RyLmFkZEV2ZW50TGlzdGVuZXIobix0LGNsP3tjYXB0dXJlOnIscGFzc2l2ZTp1fTpyKX1mdW5jdGlvbiBvaChuLHQsaSxyKXsocnx8dHIpLnJlbW92ZUV2ZW50TGlzdGVuZXIobix0Ll93aXRoVGFza3x8dCxpKX1mdW5jdGlvbiBzaChpLHIpe2lmKCF0KGkuZGF0YS5vbil8fCF0KHIuZGF0YS5vbikpe3ZhciB1PXIuZGF0YS5vbnx8e30sZj1pLmRhdGEub258fHt9O3RyPXIuZWxtLGZ1bmN0aW9uKHQpe2lmKG4odFtudV0pKXt2YXIgaT1oaT8iY2hhbmdlIjoiaW5wdXQiO3RbaV09W10uY29uY2F0KHRbbnVdLHRbaV18fFtdKTtkZWxldGUgdFtudV19bih0W2dlXSkmJih0LmNoYW5nZT1bXS5jb25jYXQodFtnZV0sdC5jaGFuZ2V8fFtdKSxkZWxldGUgdFtnZV0pfSh1KTtrbyh1LGYsdXAsb2gsci5jb250ZXh0KTt0cj12b2lkIDB9fWZ1bmN0aW9uIGhoKHIsdSl7dmFyIGg7aWYoIXQoci5kYXRhLmRvbVByb3BzKXx8IXQodS5kYXRhLmRvbVByb3BzKSl7dmFyIGYsbyxlPXUuZWxtLGM9ci5kYXRhLmRvbVByb3BzfHx7fSxzPXUuZGF0YS5kb21Qcm9wc3x8e307bihzLl9fb2JfXykmJihzPXUuZGF0YS5kb21Qcm9wcz1pKHt9LHMpKTtmb3IoZiBpbiBjKXQoc1tmXSkmJihlW2ZdPSIiKTtmb3IoZiBpbiBzKXtpZihvPXNbZl0sInRleHRDb250ZW50Ij09PWZ8fCJpbm5lckhUTUwiPT09Zil7aWYodS5jaGlsZHJlbiYmKHUuY2hpbGRyZW4ubGVuZ3RoPTApLG89PT1jW2ZdKWNvbnRpbnVlOzE9PT1lLmNoaWxkTm9kZXMubGVuZ3RoJiZlLnJlbW92ZUNoaWxkKGUuY2hpbGROb2Rlc1swXSl9InZhbHVlIj09PWY/KGUuX3ZhbHVlPW8saD10KG8pPyIiOlN0cmluZyhvKSxmdW5jdGlvbih0LGkpe3JldHVybiF0LmNvbXBvc2luZyYmKCJPUFRJT04iPT09dC50YWdOYW1lfHxmdW5jdGlvbihuLHQpe3ZhciBpPSEwO3RyeXtpPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQhPT1ufWNhdGNoKG4pe31yZXR1cm4gaSYmbi52YWx1ZSE9PXR9KHQsaSl8fGZ1bmN0aW9uKHQsaSl7dmFyIHU9dC52YWx1ZSxyPXQuX3ZNb2RpZmllcnM7aWYobihyKSl7aWYoci5sYXp5KXJldHVybiExO2lmKHIubnVtYmVyKXJldHVybiB5aSh1KSE9PXlpKGkpO2lmKHIudHJpbSlyZXR1cm4gdS50cmltKCkhPT1pLnRyaW0oKX1yZXR1cm4gdSE9PWl9KHQsaSkpfShlLGgpJiYoZS52YWx1ZT1oKSk6ZVtmXT1vfX19ZnVuY3Rpb24gbGYobil7dmFyIHQ9Y2gobi5zdHlsZSk7cmV0dXJuIG4uc3RhdGljU3R5bGU/aShuLnN0YXRpY1N0eWxlLHQpOnR9ZnVuY3Rpb24gY2gobil7cmV0dXJuIEFycmF5LmlzQXJyYXkobik/aG8obik6InN0cmluZyI9PXR5cGVvZiBuP29hKG4pOm59ZnVuY3Rpb24gbGgocix1KXt2YXIgYz11LmRhdGEsZT1yLmRhdGEsbztpZighKHQoYy5zdGF0aWNTdHlsZSkmJnQoYy5zdHlsZSkmJnQoZS5zdGF0aWNTdHlsZSkmJnQoZS5zdHlsZSkpKXt2YXIgcyxmLGw9dS5lbG0sdj1lLnN0YXRpY1N0eWxlLHk9ZS5ub3JtYWxpemVkU3R5bGV8fGUuc3R5bGV8fHt9LGE9dnx8eSxoPWNoKHUuZGF0YS5zdHlsZSl8fHt9O3UuZGF0YS5ub3JtYWxpemVkU3R5bGU9bihoLl9fb2JfXyk/aSh7fSxoKTpoO289ZnVuY3Rpb24obix0KXt2YXIgcixlPXt9LHUsZjtpZih0KWZvcih1PW47dS5jb21wb25lbnRJbnN0YW5jZTspKHU9dS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpJiZ1LmRhdGEmJihyPWxmKHUuZGF0YSkpJiZpKGUscik7Zm9yKChyPWxmKG4uZGF0YSkpJiZpKGUsciksZj1uO2Y9Zi5wYXJlbnQ7KWYuZGF0YSYmKHI9bGYoZi5kYXRhKSkmJmkoZSxyKTtyZXR1cm4gZX0odSwhMCk7Zm9yKGYgaW4gYSl0KG9bZl0pJiZoYShsLGYsIiIpO2ZvcihmIGluIG8pKHM9b1tmXSkhPT1hW2ZdJiZoYShsLGYsbnVsbD09cz8iIjpzKX19ZnVuY3Rpb24gYWgobix0KXtpZih0JiYodD10LnRyaW0oKSkpaWYobi5jbGFzc0xpc3QpdC5pbmRleE9mKCIgIik+LTE/dC5zcGxpdCgvXHMrLykuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5jbGFzc0xpc3QuYWRkKHQpfSk6bi5jbGFzc0xpc3QuYWRkKHQpO2Vsc2V7dmFyIGk9IiAiKyhuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIjtpLmluZGV4T2YoIiAiK3QrIiAiKTwwJiZuLnNldEF0dHJpYnV0ZSgiY2xhc3MiLChpK3QpLnRyaW0oKSl9fWZ1bmN0aW9uIHZoKG4sdCl7aWYodCYmKHQ9dC50cmltKCkpKWlmKG4uY2xhc3NMaXN0KXQuaW5kZXhPZigiICIpPi0xP3Quc3BsaXQoL1xzKy8pLmZvckVhY2goZnVuY3Rpb24odCl7cmV0dXJuIG4uY2xhc3NMaXN0LnJlbW92ZSh0KX0pOm4uY2xhc3NMaXN0LnJlbW92ZSh0KSxuLmNsYXNzTGlzdC5sZW5ndGh8fG4ucmVtb3ZlQXR0cmlidXRlKCJjbGFzcyIpO2Vsc2V7Zm9yKHZhciBpPSIgIisobi5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiKSsiICIscj0iICIrdCsiICI7aS5pbmRleE9mKHIpPj0wOylpPWkucmVwbGFjZShyLCIgIik7KGk9aS50cmltKCkpP24uc2V0QXR0cmlidXRlKCJjbGFzcyIsaSk6bi5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIil9fWZ1bmN0aW9uIHloKG4pe2lmKG4pe2lmKCJvYmplY3QiPT10eXBlb2Ygbil7dmFyIHQ9e307cmV0dXJuITEhPT1uLmNzcyYmaSh0LGxhKG4ubmFtZXx8InYiKSksaSh0LG4pLHR9cmV0dXJuInN0cmluZyI9PXR5cGVvZiBuP2xhKG4pOnZvaWQgMH19ZnVuY3Rpb24gcGgobil7eWEoZnVuY3Rpb24oKXt5YShuKX0pfWZ1bmN0aW9uIGR0KG4sdCl7dmFyIGk9bi5fdHJhbnNpdGlvbkNsYXNzZXN8fChuLl90cmFuc2l0aW9uQ2xhc3Nlcz1bXSk7aS5pbmRleE9mKHQpPDAmJihpLnB1c2godCksYWgobix0KSl9ZnVuY3Rpb24gdXQobix0KXtuLl90cmFuc2l0aW9uQ2xhc3NlcyYmaHQobi5fdHJhbnNpdGlvbkNsYXNzZXMsdCk7dmgobix0KX1mdW5jdGlvbiB3aChuLHQsaSl7dmFyIHI9Ymgobix0KSx1PXIudHlwZSxjPXIudGltZW91dCxmPXIucHJvcENvdW50O2lmKCF1KXJldHVybiBpKCk7dmFyIGU9dT09PWFpP2l1OnZhLG89MCxzPWZ1bmN0aW9uKCl7bi5yZW1vdmVFdmVudExpc3RlbmVyKGUsaCk7aSgpfSxoPWZ1bmN0aW9uKHQpe3QudGFyZ2V0PT09biYmKytvPj1mJiZzKCl9O3NldFRpbWVvdXQoZnVuY3Rpb24oKXtvPGYmJnMoKX0sYysxKTtuLmFkZEV2ZW50TGlzdGVuZXIoZSxoKX1mdW5jdGlvbiBiaChuLHQpe3ZhciBpLHI9d2luZG93LmdldENvbXB1dGVkU3R5bGUobiksYz1yW3R1KyJEZWxheSJdLnNwbGl0KCIsICIpLHM9clt0dSsiRHVyYXRpb24iXS5zcGxpdCgiLCAiKSx1PWtoKGMscyksbD1yW3RvKyJEZWxheSJdLnNwbGl0KCIsICIpLGg9clt0bysiRHVyYXRpb24iXS5zcGxpdCgiLCAiKSxmPWtoKGwsaCksZT0wLG89MDtyZXR1cm4gdD09PWFpP3U+MCYmKGk9YWksZT11LG89cy5sZW5ndGgpOnQ9PT1ubz9mPjAmJihpPW5vLGU9ZixvPWgubGVuZ3RoKTpvPShpPShlPU1hdGgubWF4KHUsZikpPjA/dT5mP2FpOm5vOm51bGwpP2k9PT1haT9zLmxlbmd0aDpoLmxlbmd0aDowLHt0eXBlOmksdGltZW91dDplLHByb3BDb3VudDpvLGhhc1RyYW5zZm9ybTppPT09YWkmJmZiLnRlc3Qoclt0dSsiUHJvcGVydHkiXSl9fWZ1bmN0aW9uIGtoKG4sdCl7Zm9yKDtuLmxlbmd0aDx0Lmxlbmd0aDspbj1uLmNvbmNhdChuKTtyZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCx0Lm1hcChmdW5jdGlvbih0LGkpe3JldHVybiBkaCh0KStkaChuW2ldKX0pKX1mdW5jdGlvbiBkaChuKXtyZXR1cm4gMWUzKk51bWJlcihuLnNsaWNlKDAsLTEpKX1mdW5jdGlvbiBhZihpLHIpe3ZhciB1PWkuZWxtLGYsZTtpZihuKHUuX2xlYXZlQ2IpJiYodS5fbGVhdmVDYi5jYW5jZWxsZWQ9ITAsdS5fbGVhdmVDYigpKSxmPXloKGkuZGF0YS50cmFuc2l0aW9uKSwhdChmKSYmIW4odS5fZW50ZXJDYikmJjE9PT11Lm5vZGVUeXBlKXtmb3IodmFyIGh0PWYuY3NzLGN0PWYudHlwZSxhdD1mLmVudGVyQ2xhc3MsdnQ9Zi5lbnRlclRvQ2xhc3MseXQ9Zi5lbnRlckFjdGl2ZUNsYXNzLHA9Zi5hcHBlYXJDbGFzcyx3PWYuYXBwZWFyVG9DbGFzcyxiPWYuYXBwZWFyQWN0aXZlQ2xhc3Msaz1mLmJlZm9yZUVudGVyLHB0PWYuZW50ZXIsZD1mLmFmdGVyRW50ZXIsZz1mLmVudGVyQ2FuY2VsbGVkLHd0PWYuYmVmb3JlQXBwZWFyLGM9Zi5hcHBlYXIsYnQ9Zi5hZnRlckFwcGVhcixrdD1mLmFwcGVhckNhbmNlbGxlZCx2PWYuZHVyYXRpb24sbnQ9bmksbD1uaS4kdm5vZGU7bCYmbC5wYXJlbnQ7KW50PShsPWwucGFyZW50KS5jb250ZXh0O2lmKGU9IW50Ll9pc01vdW50ZWR8fCFpLmlzUm9vdEluc2VydCwhZXx8Y3x8IiI9PT1jKXt2YXIgeT1lJiZwP3A6YXQsdHQ9ZSYmYj9iOnl0LGl0PWUmJnc/dzp2dCxydD1lP3d0fHxrOmsscz1lJiYiZnVuY3Rpb24iPT10eXBlb2YgYz9jOnB0LGZ0PWU/YnR8fGQ6ZCxldD1lP2t0fHxnOmcsb3Q9eWkoaCh2KT92LmVudGVyOnYpLGE9ITEhPT1odCYmIWNpLHN0PXZmKHMpLG89dS5fZW50ZXJDYj1ycihmdW5jdGlvbigpe2EmJih1dCh1LGl0KSx1dCh1LHR0KSk7by5jYW5jZWxsZWQ/KGEmJnV0KHUseSksZXQmJmV0KHUpKTpmdCYmZnQodSk7dS5fZW50ZXJDYj1udWxsfSk7aS5kYXRhLnNob3d8fGx0KGksImluc2VydCIsZnVuY3Rpb24oKXt2YXIgdD11LnBhcmVudE5vZGUsbj10JiZ0Ll9wZW5kaW5nJiZ0Ll9wZW5kaW5nW2kua2V5XTtuJiZuLnRhZz09PWkudGFnJiZuLmVsbS5fbGVhdmVDYiYmbi5lbG0uX2xlYXZlQ2IoKTtzJiZzKHUsbyl9KTtydCYmcnQodSk7YSYmKGR0KHUseSksZHQodSx0dCkscGgoZnVuY3Rpb24oKXtkdCh1LGl0KTt1dCh1LHkpO28uY2FuY2VsbGVkfHxzdHx8KG5jKG90KT9zZXRUaW1lb3V0KG8sb3QpOndoKHUsY3QsbykpfSkpO2kuZGF0YS5zaG93JiYociYmcigpLHMmJnModSxvKSk7YXx8c3R8fG8oKX19fWZ1bmN0aW9uIGdoKGkscil7ZnVuY3Rpb24gYSgpe2UuY2FuY2VsbGVkfHwoaS5kYXRhLnNob3d8fCgodS5wYXJlbnROb2RlLl9wZW5kaW5nfHwodS5wYXJlbnROb2RlLl9wZW5kaW5nPXt9KSlbaS5rZXldPWkpLHAmJnAodSksbyYmKGR0KHUscyksZHQodSx5KSxwaChmdW5jdGlvbigpe2R0KHUsdik7dXQodSxzKTtlLmNhbmNlbGxlZHx8ZHx8KG5jKGcpP3NldFRpbWVvdXQoZSxnKTp3aCh1LHR0LGUpKX0pKSxjJiZjKHUsZSksb3x8ZHx8ZSgpKX12YXIgdT1pLmVsbSxmO2lmKG4odS5fZW50ZXJDYikmJih1Ll9lbnRlckNiLmNhbmNlbGxlZD0hMCx1Ll9lbnRlckNiKCkpLGY9eWgoaS5kYXRhLnRyYW5zaXRpb24pLHQoZil8fDEhPT11Lm5vZGVUeXBlKXJldHVybiByKCk7aWYoIW4odS5fbGVhdmVDYikpe3ZhciBudD1mLmNzcyx0dD1mLnR5cGUscz1mLmxlYXZlQ2xhc3Msdj1mLmxlYXZlVG9DbGFzcyx5PWYubGVhdmVBY3RpdmVDbGFzcyxwPWYuYmVmb3JlTGVhdmUsYz1mLmxlYXZlLHc9Zi5hZnRlckxlYXZlLGI9Zi5sZWF2ZUNhbmNlbGxlZCxrPWYuZGVsYXlMZWF2ZSxsPWYuZHVyYXRpb24sbz0hMSE9PW50JiYhY2ksZD12ZihjKSxnPXlpKGgobCk/bC5sZWF2ZTpsKSxlPXUuX2xlYXZlQ2I9cnIoZnVuY3Rpb24oKXt1LnBhcmVudE5vZGUmJnUucGFyZW50Tm9kZS5fcGVuZGluZyYmKHUucGFyZW50Tm9kZS5fcGVuZGluZ1tpLmtleV09bnVsbCk7byYmKHV0KHUsdiksdXQodSx5KSk7ZS5jYW5jZWxsZWQ/KG8mJnV0KHUscyksYiYmYih1KSk6KHIoKSx3JiZ3KHUpKTt1Ll9sZWF2ZUNiPW51bGx9KTtrP2soYSk6YSgpfX1mdW5jdGlvbiBuYyhuKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIG4mJiFpc05hTihuKX1mdW5jdGlvbiB2ZihpKXtpZih0KGkpKXJldHVybiExO3ZhciByPWkuZm5zO3JldHVybiBuKHIpP3ZmKEFycmF5LmlzQXJyYXkocik/clswXTpyKTooaS5fbGVuZ3RofHxpLmxlbmd0aCk+MX1mdW5jdGlvbiB0YyhuLHQpeyEwIT09dC5kYXRhLnNob3cmJmFmKHQpfWZ1bmN0aW9uIGljKG4sdCxpKXtyYyhuLHQsaSk7KGhpfHxobCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtyYyhuLHQsaSl9LDApfWZ1bmN0aW9uIHJjKG4sdCl7dmFyIHU9dC52YWx1ZSxmPW4ubXVsdGlwbGUsZSxyLGksbztpZighZnx8QXJyYXkuaXNBcnJheSh1KSl7Zm9yKGk9MCxvPW4ub3B0aW9ucy5sZW5ndGg7aTxvO2krKylpZihyPW4ub3B0aW9uc1tpXSxmKWU9Y28odSxocihyKSk+LTEsci5zZWxlY3RlZCE9PWUmJihyLnNlbGVjdGVkPWUpO2Vsc2UgaWYodnQoaHIociksdSkpcmV0dXJuIHZvaWQobi5zZWxlY3RlZEluZGV4IT09aSYmKG4uc2VsZWN0ZWRJbmRleD1pKSk7Znx8KG4uc2VsZWN0ZWRJbmRleD0tMSl9fWZ1bmN0aW9uIHVjKG4sdCl7cmV0dXJuIHQuZXZlcnkoZnVuY3Rpb24odCl7cmV0dXJuIXZ0KHQsbil9KX1mdW5jdGlvbiBocihuKXtyZXR1cm4iX3ZhbHVlImluIG4/bi5fdmFsdWU6bi52YWx1ZX1mdW5jdGlvbiBmcChuKXtuLnRhcmdldC5jb21wb3Npbmc9ITB9ZnVuY3Rpb24gZmMobil7bi50YXJnZXQuY29tcG9zaW5nJiYobi50YXJnZXQuY29tcG9zaW5nPSExLHlmKG4udGFyZ2V0LCJpbnB1dCIpKX1mdW5jdGlvbiB5ZihuLHQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7aS5pbml0RXZlbnQodCwhMCwhMCk7bi5kaXNwYXRjaEV2ZW50KGkpfWZ1bmN0aW9uIHBmKG4pe3JldHVybiFuLmNvbXBvbmVudEluc3RhbmNlfHxuLmRhdGEmJm4uZGF0YS50cmFuc2l0aW9uP246cGYobi5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpfWZ1bmN0aW9uIHdmKG4pe3ZhciB0PW4mJm4uY29tcG9uZW50T3B0aW9ucztyZXR1cm4gdCYmdC5DdG9yLm9wdGlvbnMuYWJzdHJhY3Q/d2YodHModC5jaGlsZHJlbikpOm59ZnVuY3Rpb24gZWMobil7dmFyIHQ9e30sZj1uLiRvcHRpb25zLGkscix1O2ZvcihpIGluIGYucHJvcHNEYXRhKXRbaV09bltpXTtyPWYuX3BhcmVudExpc3RlbmVycztmb3IodSBpbiByKXRbaXQodSldPXJbdV07cmV0dXJuIHR9ZnVuY3Rpb24gb2Mobix0KXtpZigvXGQta2VlcC1hbGl2ZSQvLnRlc3QodC50YWcpKXJldHVybiBuKCJrZWVwLWFsaXZlIix7cHJvcHM6dC5jb21wb25lbnRPcHRpb25zLnByb3BzRGF0YX0pfWZ1bmN0aW9uIGVwKG4pe24uZWxtLl9tb3ZlQ2ImJm4uZWxtLl9tb3ZlQ2IoKTtuLmVsbS5fZW50ZXJDYiYmbi5lbG0uX2VudGVyQ2IoKX1mdW5jdGlvbiBvcChuKXtuLmRhdGEubmV3UG9zPW4uZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWZ1bmN0aW9uIHNwKG4pe3ZhciBpPW4uZGF0YS5wb3Mscj1uLmRhdGEubmV3UG9zLHU9aS5sZWZ0LXIubGVmdCxmPWkudG9wLXIudG9wLHQ7KHV8fGYpJiYobi5kYXRhLm1vdmVkPSEwLHQ9bi5lbG0uc3R5bGUsdC50cmFuc2Zvcm09dC5XZWJraXRUcmFuc2Zvcm09InRyYW5zbGF0ZSgiK3UrInB4LCIrZisicHgpIix0LnRyYW5zaXRpb25EdXJhdGlvbj0iMHMiKX1mdW5jdGlvbiBocChuLHQpe3ZhciBpPXQ/dGs6bms7cmV0dXJuIG4ucmVwbGFjZShpLGZ1bmN0aW9uKG4pe3JldHVybiBnYltuXX0pfWZ1bmN0aW9uIHNjKG4sdCxpKXtyZXR1cm57dHlwZToxLHRhZzpuLGF0dHJzTGlzdDp0LGF0dHJzTWFwOmZ1bmN0aW9uKG4pe2Zvcih2YXIgaT17fSx0PTAscj1uLmxlbmd0aDt0PHI7dCsrKWlbblt0XS5uYW1lXT1uW3RdLnZhbHVlO3JldHVybiBpfSh0KSxwYXJlbnQ6aSxjaGlsZHJlbjpbXX19ZnVuY3Rpb24gY3Aobix0KXtmdW5jdGlvbiBzKG4pe24ucHJlJiYoZT0hMSk7Zm8obi50YWcpJiYobz0hMSk7Zm9yKHZhciBpPTA7aTx1by5sZW5ndGg7aSsrKXVvW2ldKG4sdCl9ZXY9dC53YXJufHxyaDtmbz10LmlzUHJlVGFnfHxnO2VvPXQubXVzdFVzZVByb3B8fGc7c3Y9dC5nZXRUYWdOYW1lc3BhY2V8fGc7aW89a2kodC5tb2R1bGVzLCJ0cmFuc2Zvcm1Ob2RlIik7cm89a2kodC5tb2R1bGVzLCJwcmVUcmFuc2Zvcm1Ob2RlIik7dW89a2kodC5tb2R1bGVzLCJwb3N0VHJhbnNmb3JtTm9kZSIpO292PXQuZGVsaW1pdGVyczt2YXIgdSxpLHI9W10saD0hMSE9PXQucHJlc2VydmVXaGl0ZXNwYWNlLGU9ITEsbz0hMTtyZXR1cm4gZnVuY3Rpb24obix0KXtmdW5jdGlvbiByKHQpe2krPXQ7bj1uLnN1YnN0cmluZyh0KX1mdW5jdGlvbiBoKG4scixmKXt2YXIgbyxzLGg7aWYobnVsbD09ciYmKHI9aSksbnVsbD09ZiYmKGY9aSksbiYmKHM9bi50b0xvd2VyQ2FzZSgpKSxuKWZvcihvPWUubGVuZ3RoLTE7bz49MCYmZVtvXS5sb3dlckNhc2VkVGFnIT09cztvLS0pO2Vsc2Ugbz0wO2lmKG8+PTApe2ZvcihoPWUubGVuZ3RoLTE7aD49bztoLS0pdC5lbmQmJnQuZW5kKGVbaF0udGFnLHIsZik7ZS5sZW5ndGg9bzt1PW8mJmVbby0xXS50YWd9ZWxzZSJiciI9PT1zP3Quc3RhcnQmJnQuc3RhcnQobixbXSwhMCxyLGYpOiJwIj09PXMmJih0LnN0YXJ0JiZ0LnN0YXJ0KG4sW10sITEscixmKSx0LmVuZCYmdC5lbmQobixyLGYpKX1mb3IodmFyIGYsYyx2LHksbCxkLHAsdyx1LGU9W10sdHQ9dC5leHBlY3RIVE1MLGl0PXQuaXNVbmFyeVRhZ3x8ZyxydD10LmNhbkJlTGVmdE9wZW5UYWd8fGcsaT0wO247KXtpZih3PW4sdSYmY3YodSkpe3ZhciBiPTAsbz11LnRvTG93ZXJDYXNlKCksdXQ9bHZbb118fChsdltvXT1uZXcgUmVnRXhwKCIoW1xcc1xcU10qPykoPFwvIitvKyJbXj5dKj4pIiwiaSIpKSxrPW4ucmVwbGFjZSh1dCxmdW5jdGlvbihuLGkscil7cmV0dXJuIGI9ci5sZW5ndGgsY3Yobyl8fCJub3NjcmlwdCI9PT1vfHwoaT1pLnJlcGxhY2UoLzwhLS0oW1xzXFNdKj8pLS0+L2csIiQxIikucmVwbGFjZSgvPCFcW0NEQVRBXFsoW1xzXFNdKj8pXV0+L2csIiQxIikpLGF2KG8saSkmJihpPWkuc2xpY2UoMSkpLHQuY2hhcnMmJnQuY2hhcnMoaSksIiJ9KTtpKz1uLmxlbmd0aC1rLmxlbmd0aDtuPWs7aChvLGktYixpKX1lbHNle2lmKGY9bi5pbmRleE9mKCI8IiksMD09PWYpe2lmKHJ2LnRlc3QobikmJihjPW4uaW5kZXhPZigiLS0+IiksYz49MCkpe3Quc2hvdWxkS2VlcENvbW1lbnQmJnQuY29tbWVudChuLnN1YnN0cmluZyg0LGMpKTtyKGMrMyk7Y29udGludWV9aWYodXYudGVzdChuKSYmKHY9bi5pbmRleE9mKCJdPiIpLHY+PTApKXtyKHYrMik7Y29udGludWV9aWYoeT1uLm1hdGNoKGRiKSx5KXtyKHlbMF0ubGVuZ3RoKTtjb250aW51ZX1pZihsPW4ubWF0Y2goaXYpLGwpe2Q9aTtyKGxbMF0ubGVuZ3RoKTtoKGxbMV0sZCxpKTtjb250aW51ZX1pZihwPWZ1bmN0aW9uKCl7dmFyIGY9bi5tYXRjaCh0diksdCx1LGU7aWYoZil7Zm9yKHQ9e3RhZ05hbWU6ZlsxXSxhdHRyczpbXSxzdGFydDppfSxyKGZbMF0ubGVuZ3RoKTshKHU9bi5tYXRjaChrYikpJiYoZT1uLm1hdGNoKGJiKSk7KXIoZVswXS5sZW5ndGgpLHQuYXR0cnMucHVzaChlKTtpZih1KXJldHVybiB0LnVuYXJ5U2xhc2g9dVsxXSxyKHVbMF0ubGVuZ3RoKSx0LmVuZD1pLHR9fSgpLHApeyFmdW5jdGlvbihuKXt2YXIgcj1uLnRhZ05hbWUsdj1uLnVuYXJ5U2xhc2gsaSxsLGE7dHQmJigicCI9PT11JiZ3YihyKSYmaCh1KSxydChyKSYmdT09PXImJmgocikpO2Zvcih2YXIgcz1pdChyKXx8ISF2LGM9bi5hdHRycy5sZW5ndGgsbz1uZXcgQXJyYXkoYyksZj0wO2Y8YztmKyspaT1uLmF0dHJzW2ZdLGZ2JiYtMT09PWlbMF0uaW5kZXhPZignIiInKSYmKCIiPT09aVszXSYmZGVsZXRlIGlbM10sIiI9PT1pWzRdJiZkZWxldGUgaVs0XSwiIj09PWlbNV0mJmRlbGV0ZSBpWzVdKSxsPWlbM118fGlbNF18fGlbNV18fCIiLGE9ImEiPT09ciYmImhyZWYiPT09aVsxXT90LnNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjp0LnNob3VsZERlY29kZU5ld2xpbmVzLG9bZl09e25hbWU6aVsxXSx2YWx1ZTpocChsLGEpfTtzfHwoZS5wdXNoKHt0YWc6cixsb3dlckNhc2VkVGFnOnIudG9Mb3dlckNhc2UoKSxhdHRyczpvfSksdT1yKTt0LnN0YXJ0JiZ0LnN0YXJ0KHIsbyxzLG4uc3RhcnQsbi5lbmQpfShwKTthdih1LG4pJiZyKDEpO2NvbnRpbnVlfX12YXIgYT12b2lkIDAscz12b2lkIDAsbnQ9dm9pZCAwO2lmKGY+PTApe2ZvcihzPW4uc2xpY2UoZik7IShpdi50ZXN0KHMpfHx0di50ZXN0KHMpfHxydi50ZXN0KHMpfHx1di50ZXN0KHMpfHwobnQ9cy5pbmRleE9mKCI8IiwxKSk8MCk7KWYrPW50LHM9bi5zbGljZShmKTthPW4uc3Vic3RyaW5nKDAsZik7cihmKX1mPDAmJihhPW4sbj0iIik7dC5jaGFycyYmYSYmdC5jaGFycyhhKX1pZihuPT09dyl7dC5jaGFycyYmdC5jaGFycyhuKTticmVha319aCgpfShuLHt3YXJuOmV2LGV4cGVjdEhUTUw6dC5leHBlY3RIVE1MLGlzVW5hcnlUYWc6dC5pc1VuYXJ5VGFnLGNhbkJlTGVmdE9wZW5UYWc6dC5jYW5CZUxlZnRPcGVuVGFnLHNob3VsZERlY29kZU5ld2xpbmVzOnQuc2hvdWxkRGVjb2RlTmV3bGluZXMsc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOnQuc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmLHNob3VsZEtlZXBDb21tZW50OnQuY29tbWVudHMsc3RhcnQ6ZnVuY3Rpb24obixoLGMpe3ZhciB2PWkmJmkubnN8fHN2KG4pLGwsYSx5O2ZvcihoaSYmInN2ZyI9PT12JiYoaD1mdW5jdGlvbihuKXtmb3IodmFyIHQscj1bXSxpPTA7aTxuLmxlbmd0aDtpKyspdD1uW2ldLG9rLnRlc3QodC5uYW1lKXx8KHQubmFtZT10Lm5hbWUucmVwbGFjZShzaywiIiksci5wdXNoKHQpKTtyZXR1cm4gcn0oaCkpLGw9c2MobixoLGkpLHYmJihsLm5zPXYpLGZ1bmN0aW9uKG4pe3JldHVybiJzdHlsZSI9PT1uLnRhZ3x8InNjcmlwdCI9PT1uLnRhZyYmKCFuLmF0dHJzTWFwLnR5cGV8fCJ0ZXh0L2phdmFzY3JpcHQiPT09bi5hdHRyc01hcC50eXBlKX0obCkmJiFkaSgpJiYobC5mb3JiaWRkZW49ITApLGE9MDthPHJvLmxlbmd0aDthKyspbD1yb1thXShsLHQpfHxsOyhlfHwoIWZ1bmN0aW9uKG4pe251bGwhPWYobiwidi1wcmUiKSYmKG4ucHJlPSEwKX0obCksbC5wcmUmJihlPSEwKSksZm8obC50YWcpJiYobz0hMCksZT9mdW5jdGlvbihuKXt2YXIgaT1uLmF0dHJzTGlzdC5sZW5ndGgscix0O2lmKGkpZm9yKHI9bi5hdHRycz1uZXcgQXJyYXkoaSksdD0wO3Q8aTt0Kyspclt0XT17bmFtZTpuLmF0dHJzTGlzdFt0XS5uYW1lLHZhbHVlOkpTT04uc3RyaW5naWZ5KG4uYXR0cnNMaXN0W3RdLnZhbHVlKX07ZWxzZSBuLnByZXx8KG4ucGxhaW49ITApfShsKTpsLnByb2Nlc3NlZHx8KGhjKGwpLGZ1bmN0aW9uKG4pe3ZhciB0PWYobiwidi1pZiIpLGk7dD8obi5pZj10LG9pKG4se2V4cDp0LGJsb2NrOm59KSk6KG51bGwhPWYobiwidi1lbHNlIikmJihuLmVsc2U9ITApLGk9ZihuLCJ2LWVsc2UtaWYiKSxpJiYobi5lbHNlaWY9aSkpfShsKSxmdW5jdGlvbihuKXtudWxsIT1mKG4sInYtb25jZSIpJiYobi5vbmNlPSEwKX0obCksY3IobCx0KSksdT9yLmxlbmd0aHx8dS5pZiYmKGwuZWxzZWlmfHxsLmVsc2UpJiZvaSh1LHtleHA6bC5lbHNlaWYsYmxvY2s6bH0pOnU9bCxpJiYhbC5mb3JiaWRkZW4pJiYobC5lbHNlaWZ8fGwuZWxzZT8hZnVuY3Rpb24obix0KXt2YXIgaT1mdW5jdGlvbihuKXtmb3IodmFyIHQ9bi5sZW5ndGg7dC0tOyl7aWYoMT09PW5bdF0udHlwZSlyZXR1cm4gblt0XTtuLnBvcCgpfX0odC5jaGlsZHJlbik7aSYmaS5pZiYmb2koaSx7ZXhwOm4uZWxzZWlmLGJsb2NrOm59KX0obCxpKTpsLnNsb3RTY29wZT8oaS5wbGFpbj0hMSx5PWwuc2xvdFRhcmdldHx8JyJkZWZhdWx0IicsKGkuc2NvcGVkU2xvdHN8fChpLnNjb3BlZFNsb3RzPXt9KSlbeV09bCk6KGkuY2hpbGRyZW4ucHVzaChsKSxsLnBhcmVudD1pKSk7Yz9zKGwpOihpPWwsci5wdXNoKGwpKX0sZW5kOmZ1bmN0aW9uKCl7dmFyIG49cltyLmxlbmd0aC0xXSx0PW4uY2hpbGRyZW5bbi5jaGlsZHJlbi5sZW5ndGgtMV07dCYmMz09PXQudHlwZSYmIiAiPT09dC50ZXh0JiYhbyYmbi5jaGlsZHJlbi5wb3AoKTtyLmxlbmd0aC09MTtpPXJbci5sZW5ndGgtMV07cyhuKX0sY2hhcnM6ZnVuY3Rpb24obil7dmFyIHQscjtpJiYoIWhpfHwidGV4dGFyZWEiIT09aS50YWd8fGkuYXR0cnNNYXAucGxhY2Vob2xkZXIhPT1uKSYmKHQ9aS5jaGlsZHJlbiwobj1vfHxuLnRyaW0oKT9mdW5jdGlvbihuKXtyZXR1cm4ic2NyaXB0Ij09PW4udGFnfHwic3R5bGUiPT09bi50YWd9KGkpP246ZWsobik6aCYmdC5sZW5ndGg/IiAiOiIiKSYmKCFlJiYiICIhPT1uJiYocj1mdW5jdGlvbihuLHQpe3ZhciBvPXQ/Y2IodCk6aGIsaDtpZihvLnRlc3Qobikpe2Zvcih2YXIgcixzLHUsZj1bXSxlPVtdLGk9by5sYXN0SW5kZXg9MDtyPW8uZXhlYyhuKTspKHM9ci5pbmRleCk+aSYmKGUucHVzaCh1PW4uc2xpY2UoaSxzKSksZi5wdXNoKEpTT04uc3RyaW5naWZ5KHUpKSksaD1lZihyWzFdLnRyaW0oKSksZi5wdXNoKCJfcygiK2grIikiKSxlLnB1c2goeyJAYmluZGluZyI6aH0pLGk9cytyWzBdLmxlbmd0aDtyZXR1cm4gaTxuLmxlbmd0aCYmKGUucHVzaCh1PW4uc2xpY2UoaSkpLGYucHVzaChKU09OLnN0cmluZ2lmeSh1KSkpLHtleHByZXNzaW9uOmYuam9pbigiKyIpLHRva2VuczplfX19KG4sb3YpKT90LnB1c2goe3R5cGU6MixleHByZXNzaW9uOnIuZXhwcmVzc2lvbix0b2tlbnM6ci50b2tlbnMsdGV4dDpufSk6IiAiPT09biYmdC5sZW5ndGgmJiIgIj09PXRbdC5sZW5ndGgtMV0udGV4dHx8dC5wdXNoKHt0eXBlOjMsdGV4dDpufSkpKX0sY29tbWVudDpmdW5jdGlvbihuKXtpLmNoaWxkcmVuLnB1c2goe3R5cGU6Myx0ZXh0Om4saXNDb21tZW50OiEwfSl9fSksdX1mdW5jdGlvbiBjcihuLHQpeyFmdW5jdGlvbihuKXt2YXIgdD15KG4sImtleSIpO3QmJihuLmtleT10KX0obik7bi5wbGFpbj0hbi5rZXkmJiFuLmF0dHJzTGlzdC5sZW5ndGgsZnVuY3Rpb24obil7dmFyIHQ9eShuLCJyZWYiKTt0JiYobi5yZWY9dCxuLnJlZkluRm9yPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1uO3Q7KXtpZih2b2lkIDAhPT10LmZvcilyZXR1cm4hMDt0PXQucGFyZW50fXJldHVybiExfShuKSl9KG4pLGZ1bmN0aW9uKG4pe3ZhciBpLHQ7InNsb3QiPT09bi50YWc/bi5zbG90TmFtZT15KG4sIm5hbWUiKTooInRlbXBsYXRlIj09PW4udGFnPyhpPWYobiwic2NvcGUiKSxuLnNsb3RTY29wZT1pfHxmKG4sInNsb3Qtc2NvcGUiKSk6KGk9ZihuLCJzbG90LXNjb3BlIikpJiYobi5zbG90U2NvcGU9aSksdD15KG4sInNsb3QiKSx0JiYobi5zbG90VGFyZ2V0PSciIic9PT10PyciZGVmYXVsdCInOnQsInRlbXBsYXRlIj09PW4udGFnfHxuLnNsb3RTY29wZXx8b2Yobiwic2xvdCIsdCkpKX0obiksZnVuY3Rpb24obil7dmFyIHQ7KHQ9eShuLCJpcyIpKSYmKG4uY29tcG9uZW50PXQpO251bGwhPWYobiwiaW5saW5lLXRlbXBsYXRlIikmJihuLmlubGluZVRlbXBsYXRlPSEwKX0obik7Zm9yKHZhciBpPTA7aTxpby5sZW5ndGg7aSsrKW49aW9baV0obix0KXx8bjshZnVuY3Rpb24obil7Zm9yKHZhciB0LGMsaSxyLGUsbz1uLmF0dHJzTGlzdCxzLGYsdT0wLGg9by5sZW5ndGg7dTxoO3UrKykodD1jPW9bdV0ubmFtZSxpPW9bdV0udmFsdWUseXYudGVzdCh0KSk/KG4uaGFzQmluZGluZ3M9ITAsKHI9ZnVuY3Rpb24obil7dmFyIGk9bi5tYXRjaChidiksdDtpZihpKXJldHVybiB0PXt9LGkuZm9yRWFjaChmdW5jdGlvbihuKXt0W24uc2xpY2UoMSldPSEwfSksdH0odCkpJiYodD10LnJlcGxhY2UoYnYsIiIpKSx3di50ZXN0KHQpKT8odD10LnJlcGxhY2Uod3YsIiIpLGk9ZWYoaSksZT0hMSxyJiYoci5wcm9wJiYoZT0hMCwiaW5uZXJIdG1sIj09PSh0PWl0KHQpKSYmKHQ9ImlubmVySFRNTCIpKSxyLmNhbWVsJiYodD1pdCh0KSksci5zeW5jJiZrdChuLCJ1cGRhdGU6IitpdCh0KSxlaShpLCIkZXZlbnQiKSkpLGV8fCFuLmNvbXBvbmVudCYmZW8obi50YWcsbi5hdHRyc01hcC50eXBlLHQpP2J0KG4sdCxpKTpvZihuLHQsaSkpOnZ2LnRlc3QodCk/KHQ9dC5yZXBsYWNlKHZ2LCIiKSxrdChuLHQsaSxyLCExKSk6KHM9KHQ9dC5yZXBsYWNlKHl2LCIiKSkubWF0Y2goZmspLGY9cyYmc1sxXSxmJiYodD10LnNsaWNlKDAsLShmLmxlbmd0aCsxKSkpLHJwKG4sdCxjLGksZixyKSk6KG9mKG4sdCxKU09OLnN0cmluZ2lmeShpKSksIW4uY29tcG9uZW50JiYibXV0ZWQiPT09dCYmZW8obi50YWcsbi5hdHRyc01hcC50eXBlLHQpJiZidChuLHQsInRydWUiKSl9KG4pfWZ1bmN0aW9uIGhjKG4pe3ZhciByLHQ7KHI9ZihuLCJ2LWZvciIpKSYmKHQ9ZnVuY3Rpb24obil7dmFyIHU9bi5tYXRjaChyayksdCxyLGk7aWYodSlyZXR1cm4gdD17fSx0LmZvcj11WzJdLnRyaW0oKSxyPXVbMV0udHJpbSgpLnJlcGxhY2UodWssIiIpLGk9ci5tYXRjaChwdiksaT8odC5hbGlhcz1yLnJlcGxhY2UocHYsIiIpLHQuaXRlcmF0b3IxPWlbMV0udHJpbSgpLGlbMl0mJih0Lml0ZXJhdG9yMj1pWzJdLnRyaW0oKSkpOnQuYWxpYXM9cix0fShyKSx0JiZpKG4sdCkpfWZ1bmN0aW9uIG9pKG4sdCl7bi5pZkNvbmRpdGlvbnN8fChuLmlmQ29uZGl0aW9ucz1bXSk7bi5pZkNvbmRpdGlvbnMucHVzaCh0KX1mdW5jdGlvbiBiZihuKXtyZXR1cm4gc2Mobi50YWcsbi5hdHRyc0xpc3Quc2xpY2UoKSxuLnBhcmVudCl9ZnVuY3Rpb24ga2Yobil7dmFyIHQsZixyLGksZSx1O2lmKG4uc3RhdGljPWZ1bmN0aW9uKG4pe3JldHVybiAyPT09bi50eXBlPyExOjM9PT1uLnR5cGU/ITA6ISghbi5wcmUmJihuLmhhc0JpbmRpbmdzfHxuLmlmfHxuLmZvcnx8YXAobi50YWcpfHwhb28obi50YWcpfHxmdW5jdGlvbihuKXtmb3IoO24ucGFyZW50Oyl7aWYoInRlbXBsYXRlIiE9PShuPW4ucGFyZW50KS50YWcpcmV0dXJuITE7aWYobi5mb3IpcmV0dXJuITB9cmV0dXJuITF9KG4pfHwhT2JqZWN0LmtleXMobikuZXZlcnkoaHYpKSl9KG4pLDE9PT1uLnR5cGUpe2lmKCFvbyhuLnRhZykmJiJzbG90IiE9PW4udGFnJiZudWxsPT1uLmF0dHJzTWFwWyJpbmxpbmUtdGVtcGxhdGUiXSlyZXR1cm47Zm9yKHQ9MCxmPW4uY2hpbGRyZW4ubGVuZ3RoO3Q8Zjt0Kyspcj1uLmNoaWxkcmVuW3RdLGtmKHIpLHIuc3RhdGljfHwobi5zdGF0aWM9ITEpO2lmKG4uaWZDb25kaXRpb25zKWZvcihpPTEsZT1uLmlmQ29uZGl0aW9ucy5sZW5ndGg7aTxlO2krKyl1PW4uaWZDb25kaXRpb25zW2ldLmJsb2NrLGtmKHUpLHUuc3RhdGljfHwobi5zdGF0aWM9ITEpfX1mdW5jdGlvbiBkZihuLHQpe3ZhciBpLHUscixmO2lmKDE9PT1uLnR5cGUpe2lmKChuLnN0YXRpY3x8bi5vbmNlKSYmKG4uc3RhdGljSW5Gb3I9dCksbi5zdGF0aWMmJm4uY2hpbGRyZW4ubGVuZ3RoJiYoMSE9PW4uY2hpbGRyZW4ubGVuZ3RofHwzIT09bi5jaGlsZHJlblswXS50eXBlKSlyZXR1cm4gdm9pZChuLnN0YXRpY1Jvb3Q9ITApO2lmKG4uc3RhdGljUm9vdD0hMSxuLmNoaWxkcmVuKWZvcihpPTAsdT1uLmNoaWxkcmVuLmxlbmd0aDtpPHU7aSsrKWRmKG4uY2hpbGRyZW5baV0sdHx8ISFuLmZvcik7aWYobi5pZkNvbmRpdGlvbnMpZm9yKHI9MSxmPW4uaWZDb25kaXRpb25zLmxlbmd0aDtyPGY7cisrKWRmKG4uaWZDb25kaXRpb25zW3JdLmJsb2NrLHQpfX1mdW5jdGlvbiBjYyhuLHQpe3ZhciByPXQ/Im5hdGl2ZU9uOnsiOiJvbjp7Ijtmb3IodmFyIGkgaW4gbilyKz0nIicraSsnIjonK2xjKGksbltpXSkrIiwiO3JldHVybiByLnNsaWNlKDAsLTEpKyJ9In1mdW5jdGlvbiBsYyhuLHQpe3ZhciBmLGUsaSxzO2lmKCF0KXJldHVybiJmdW5jdGlvbigpe30iO2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIlsiK3QubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBsYyhuLHQpfSkuam9pbigiLCIpKyJdIjtpZihmPWFrLnRlc3QodC52YWx1ZSksZT1say50ZXN0KHQudmFsdWUpLHQubW9kaWZpZXJzKXt2YXIgbz0iIixyPSIiLHU9W107Zm9yKGkgaW4gdC5tb2RpZmllcnMpZ3ZbaV0/KHIrPWd2W2ldLGR2W2ldJiZ1LnB1c2goaSkpOiJleGFjdCI9PT1pPyhzPXQubW9kaWZpZXJzLHIrPXN0KFsiY3RybCIsInNoaWZ0IiwiYWx0IiwibWV0YSJdLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4hc1tuXX0pLm1hcChmdW5jdGlvbihuKXtyZXR1cm4iJGV2ZW50LiIrbisiS2V5In0pLmpvaW4oInx8IikpKTp1LnB1c2goaSk7cmV0dXJuIHUubGVuZ3RoJiYobys9ZnVuY3Rpb24obil7cmV0dXJuImlmKCEoJ2J1dHRvbicgaW4gJGV2ZW50KSYmIituLm1hcChscCkuam9pbigiJiYiKSsiKXJldHVybiBudWxsOyJ9KHUpKSxyJiYobys9ciksImZ1bmN0aW9uKCRldmVudCl7IitvKyhmP3QudmFsdWUrIigkZXZlbnQpIjplPyIoIit0LnZhbHVlKyIpKCRldmVudCkiOnQudmFsdWUpKyJ9In1yZXR1cm4gZnx8ZT90LnZhbHVlOiJmdW5jdGlvbigkZXZlbnQpeyIrdC52YWx1ZSsifSJ9ZnVuY3Rpb24gbHAobil7dmFyIHQ9cGFyc2VJbnQobiwxMCksaTtyZXR1cm4gdD8iJGV2ZW50LmtleUNvZGUhPT0iK3Q6KGk9ZHZbbl0sIl9rKCRldmVudC5rZXlDb2RlLCIrSlNPTi5zdHJpbmdpZnkobikrIiwiK0pTT04uc3RyaW5naWZ5KGkpKyIsJGV2ZW50LmtleSkiKX1mdW5jdGlvbiBhYyhuLHQpe3ZhciBpPW5ldyB5ayh0KTtyZXR1cm57cmVuZGVyOiJ3aXRoKHRoaXMpe3JldHVybiAiKyhuP2Z0KG4saSk6J19jKCJkaXYiKScpKyJ9IixzdGF0aWNSZW5kZXJGbnM6aS5zdGF0aWNSZW5kZXJGbnN9fWZ1bmN0aW9uIGZ0KG4sdCl7dmFyIGksdSxmLHI7aWYobi5zdGF0aWNSb290JiYhbi5zdGF0aWNQcm9jZXNzZWQpcmV0dXJuIHZjKG4sdCk7aWYobi5vbmNlJiYhbi5vbmNlUHJvY2Vzc2VkKXJldHVybiB5YyhuLHQpO2lmKG4uZm9yJiYhbi5mb3JQcm9jZXNzZWQpcmV0dXJuIGZ1bmN0aW9uKG4sdCxpLHIpe3ZhciB1PW4uZm9yLGY9bi5hbGlhcyxlPW4uaXRlcmF0b3IxPyIsIituLml0ZXJhdG9yMToiIixvPW4uaXRlcmF0b3IyPyIsIituLml0ZXJhdG9yMjoiIjtyZXR1cm4gbi5mb3JQcm9jZXNzZWQ9ITAsKHJ8fCJfbCIpKyIoKCIrdSsiKSxmdW5jdGlvbigiK2YrZStvKyIpe3JldHVybiAiKyhpfHxmdCkobix0KSsifSkifShuLHQpO2lmKG4uaWYmJiFuLmlmUHJvY2Vzc2VkKXJldHVybiBwYyhuLHQpO2lmKCJ0ZW1wbGF0ZSIhPT1uLnRhZ3x8bi5zbG90VGFyZ2V0KXtpZigic2xvdCI9PT1uLnRhZylyZXR1cm4gZnVuY3Rpb24obix0KXt2YXIgZT1uLnNsb3ROYW1lfHwnImRlZmF1bHQiJyx1PXNpKG4sdCksaT0iX3QoIitlKyh1PyIsIit1OiIiKSxyPW4uYXR0cnMmJiJ7IituLmF0dHJzLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gaXQobi5uYW1lKSsiOiIrbi52YWx1ZX0pLmpvaW4oIiwiKSsifSIsZj1uLmF0dHJzTWFwWyJ2LWJpbmQiXTtyZXR1cm4ocnx8ZikmJiF1JiYoaSs9IixudWxsIiksciYmKGkrPSIsIityKSxmJiYoaSs9KHI/IiI6IixudWxsIikrIiwiK2YpLGkrIikifShuLHQpO2ZvcihuLmNvbXBvbmVudD9pPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10LmlubGluZVRlbXBsYXRlP251bGw6c2kodCxpLCEwKTtyZXR1cm4iX2MoIituKyIsIitiYyh0LGkpKyhyPyIsIityOiIiKSsiKSJ9KG4uY29tcG9uZW50LG4sdCk6KHU9bi5wbGFpbj92b2lkIDA6YmMobix0KSxmPW4uaW5saW5lVGVtcGxhdGU/bnVsbDpzaShuLHQsITApLGk9Il9jKCciK24udGFnKyInIisodT8iLCIrdToiIikrKGY/IiwiK2Y6IiIpKyIpIikscj0wO3I8dC50cmFuc2Zvcm1zLmxlbmd0aDtyKyspaT10LnRyYW5zZm9ybXNbcl0obixpKTtyZXR1cm4gaX1yZXR1cm4gc2kobix0KXx8InZvaWQgMCJ9ZnVuY3Rpb24gdmMobix0KXtyZXR1cm4gbi5zdGF0aWNQcm9jZXNzZWQ9ITAsdC5zdGF0aWNSZW5kZXJGbnMucHVzaCgid2l0aCh0aGlzKXtyZXR1cm4gIitmdChuLHQpKyJ9IiksIl9tKCIrKHQuc3RhdGljUmVuZGVyRm5zLmxlbmd0aC0xKSsobi5zdGF0aWNJbkZvcj8iLHRydWUiOiIiKSsiKSJ9ZnVuY3Rpb24geWMobix0KXtpZihuLm9uY2VQcm9jZXNzZWQ9ITAsbi5pZiYmIW4uaWZQcm9jZXNzZWQpcmV0dXJuIHBjKG4sdCk7aWYobi5zdGF0aWNJbkZvcil7Zm9yKHZhciByPSIiLGk9bi5wYXJlbnQ7aTspe2lmKGkuZm9yKXtyPWkua2V5O2JyZWFrfWk9aS5wYXJlbnR9cmV0dXJuIHI/Il9vKCIrZnQobix0KSsiLCIrdC5vbmNlSWQrKysiLCIrcisiKSI6ZnQobix0KX1yZXR1cm4gdmMobix0KX1mdW5jdGlvbiBwYyhuLHQsaSxyKXtyZXR1cm4gbi5pZlByb2Nlc3NlZD0hMCx3YyhuLmlmQ29uZGl0aW9ucy5zbGljZSgpLHQsaSxyKX1mdW5jdGlvbiB3YyhuLHQsaSxyKXtmdW5jdGlvbiBmKG4pe3JldHVybiBpP2kobix0KTpuLm9uY2U/eWMobix0KTpmdChuLHQpfWlmKCFuLmxlbmd0aClyZXR1cm4gcnx8Il9lKCkiO3ZhciB1PW4uc2hpZnQoKTtyZXR1cm4gdS5leHA/IigiK3UuZXhwKyIpPyIrZih1LmJsb2NrKSsiOiIrd2Mobix0LGkscik6IiIrZih1LmJsb2NrKX1mdW5jdGlvbiBiYyhuLHQpe3ZhciBpPSJ7IixmPWZ1bmN0aW9uKG4sdCl7dmFyIHU9bi5kaXJlY3RpdmVzLHIsaCxpLGYsZSxvLHM7aWYodSl7Zm9yKGU9ImRpcmVjdGl2ZXM6WyIsbz0hMSxyPTAsaD11Lmxlbmd0aDtyPGg7cisrKWk9dVtyXSxmPSEwLHM9dC5kaXJlY3RpdmVzW2kubmFtZV0scyYmKGY9ISFzKG4saSx0Lndhcm4pKSxmJiYobz0hMCxlKz0ne25hbWU6IicraS5uYW1lKyciLHJhd05hbWU6IicraS5yYXdOYW1lKyciJysoaS52YWx1ZT8iLHZhbHVlOigiK2kudmFsdWUrIiksZXhwcmVzc2lvbjoiK0pTT04uc3RyaW5naWZ5KGkudmFsdWUpOiIiKSsoaS5hcmc/Jyxhcmc6IicraS5hcmcrJyInOiIiKSsoaS5tb2RpZmllcnM/Iixtb2RpZmllcnM6IitKU09OLnN0cmluZ2lmeShpLm1vZGlmaWVycyk6IiIpKyJ9LCIpO2lmKG8pcmV0dXJuIGUuc2xpY2UoMCwtMSkrIl0ifX0obix0KSxyLHU7Zm9yKGYmJihpKz1mKyIsIiksbi5rZXkmJihpKz0ia2V5OiIrbi5rZXkrIiwiKSxuLnJlZiYmKGkrPSJyZWY6IituLnJlZisiLCIpLG4ucmVmSW5Gb3ImJihpKz0icmVmSW5Gb3I6dHJ1ZSwiKSxuLnByZSYmKGkrPSJwcmU6dHJ1ZSwiKSxuLmNvbXBvbmVudCYmKGkrPSd0YWc6Iicrbi50YWcrJyIsJykscj0wO3I8dC5kYXRhR2VuRm5zLmxlbmd0aDtyKyspaSs9dC5kYXRhR2VuRm5zW3JdKG4pO3JldHVybihuLmF0dHJzJiYoaSs9ImF0dHJzOnsiK2djKG4uYXR0cnMpKyJ9LCIpLG4ucHJvcHMmJihpKz0iZG9tUHJvcHM6eyIrZ2Mobi5wcm9wcykrIn0sIiksbi5ldmVudHMmJihpKz1jYyhuLmV2ZW50cywhMSx0Lndhcm4pKyIsIiksbi5uYXRpdmVFdmVudHMmJihpKz1jYyhuLm5hdGl2ZUV2ZW50cywhMCx0Lndhcm4pKyIsIiksbi5zbG90VGFyZ2V0JiYhbi5zbG90U2NvcGUmJihpKz0ic2xvdDoiK24uc2xvdFRhcmdldCsiLCIpLG4uc2NvcGVkU2xvdHMmJihpKz1mdW5jdGlvbihuLHQpe3JldHVybiJzY29wZWRTbG90czpfdShbIitPYmplY3Qua2V5cyhuKS5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuIGtjKGksbltpXSx0KX0pLmpvaW4oIiwiKSsiXSkifShuLnNjb3BlZFNsb3RzLHQpKyIsIiksbi5tb2RlbCYmKGkrPSJtb2RlbDp7dmFsdWU6IituLm1vZGVsLnZhbHVlKyIsY2FsbGJhY2s6IituLm1vZGVsLmNhbGxiYWNrKyIsZXhwcmVzc2lvbjoiK24ubW9kZWwuZXhwcmVzc2lvbisifSwiKSxuLmlubGluZVRlbXBsYXRlKSYmKHU9ZnVuY3Rpb24obix0KXt2YXIgcj1uLmNoaWxkcmVuWzBdLGk7aWYoMT09PXIudHlwZSlyZXR1cm4gaT1hYyhyLHQub3B0aW9ucyksImlubGluZVRlbXBsYXRlOntyZW5kZXI6ZnVuY3Rpb24oKXsiK2kucmVuZGVyKyJ9LHN0YXRpY1JlbmRlckZuczpbIitpLnN0YXRpY1JlbmRlckZucy5tYXAoZnVuY3Rpb24obil7cmV0dXJuImZ1bmN0aW9uKCl7IituKyJ9In0pLmpvaW4oIiwiKSsiXX0ifShuLHQpLHUmJihpKz11KyIsIikpLGk9aS5yZXBsYWNlKC8sJC8sIiIpKyJ9IixuLndyYXBEYXRhJiYoaT1uLndyYXBEYXRhKGkpKSxuLndyYXBMaXN0ZW5lcnMmJihpPW4ud3JhcExpc3RlbmVycyhpKSksaX1mdW5jdGlvbiBrYyhuLHQsaSl7cmV0dXJuIHQuZm9yJiYhdC5mb3JQcm9jZXNzZWQ/ZnVuY3Rpb24obix0LGkpe3ZhciByPXQuZm9yLHU9dC5hbGlhcyxmPXQuaXRlcmF0b3IxPyIsIit0Lml0ZXJhdG9yMToiIixlPXQuaXRlcmF0b3IyPyIsIit0Lml0ZXJhdG9yMjoiIjtyZXR1cm4gdC5mb3JQcm9jZXNzZWQ9ITAsIl9sKCgiK3IrIiksZnVuY3Rpb24oIit1K2YrZSsiKXtyZXR1cm4gIitrYyhuLHQsaSkrIn0pIn0obix0LGkpOiJ7a2V5OiIrbisiLGZuOiIrKCJmdW5jdGlvbigiK1N0cmluZyh0LnNsb3RTY29wZSkrIil7cmV0dXJuICIrKCJ0ZW1wbGF0ZSI9PT10LnRhZz90LmlmP3QuaWYrIj8iKyhzaSh0LGkpfHwidW5kZWZpbmVkIikrIjp1bmRlZmluZWQiOnNpKHQsaSl8fCJ1bmRlZmluZWQiOmZ0KHQsaSkpKyJ9IikrIn0ifWZ1bmN0aW9uIHNpKG4sdCxpLHIsdSl7dmFyIGY9bi5jaGlsZHJlbixlLG8scztpZihmLmxlbmd0aClyZXR1cm4oZT1mWzBdLDE9PT1mLmxlbmd0aCYmZS5mb3ImJiJ0ZW1wbGF0ZSIhPT1lLnRhZyYmInNsb3QiIT09ZS50YWcpPyhyfHxmdCkoZSx0KToobz1pP2Z1bmN0aW9uKG4sdCl7Zm9yKHZhciBpLHI9MCx1PTA7dTxuLmxlbmd0aDt1KyspaWYoaT1uW3VdLDE9PT1pLnR5cGUpe2lmKGRjKGkpfHxpLmlmQ29uZGl0aW9ucyYmaS5pZkNvbmRpdGlvbnMuc29tZShmdW5jdGlvbihuKXtyZXR1cm4gZGMobi5ibG9jayl9KSl7cj0yO2JyZWFrfSh0KGkpfHxpLmlmQ29uZGl0aW9ucyYmaS5pZkNvbmRpdGlvbnMuc29tZShmdW5jdGlvbihuKXtyZXR1cm4gdChuLmJsb2NrKX0pKSYmKHI9MSl9cmV0dXJuIHJ9KGYsdC5tYXliZUNvbXBvbmVudCk6MCxzPXV8fGZ1bmN0aW9uKG4sdCl7cmV0dXJuIDE9PT1uLnR5cGU/ZnQobix0KTozPT09bi50eXBlJiZuLmlzQ29tbWVudD9mdW5jdGlvbihuKXtyZXR1cm4iX2UoIitKU09OLnN0cmluZ2lmeShuLnRleHQpKyIpIn0obik6ZnVuY3Rpb24obil7cmV0dXJuIl92KCIrKDI9PT1uLnR5cGU/bi5leHByZXNzaW9uOm5sKEpTT04uc3RyaW5naWZ5KG4udGV4dCkpKSsiKSJ9KG4pfSwiWyIrZi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHMobix0KX0pLmpvaW4oIiwiKSsiXSIrKG8/IiwiK286IiIpKX1mdW5jdGlvbiBkYyhuKXtyZXR1cm4gdm9pZCAwIT09bi5mb3J8fCJ0ZW1wbGF0ZSI9PT1uLnRhZ3x8InNsb3QiPT09bi50YWd9ZnVuY3Rpb24gZ2Mobil7Zm9yKHZhciByLGk9IiIsdD0wO3Q8bi5sZW5ndGg7dCsrKXI9blt0XSxpKz0nIicrci5uYW1lKyciOicrbmwoci52YWx1ZSkrIiwiO3JldHVybiBpLnNsaWNlKDAsLTEpfWZ1bmN0aW9uIG5sKG4pe3JldHVybiBuLnJlcGxhY2UoL1x1MjAyOC9nLCJcXHUyMDI4IikucmVwbGFjZSgvXHUyMDI5L2csIlxcdTIwMjkiKX1mdW5jdGlvbiB0bChuLHQpe3RyeXtyZXR1cm4gbmV3IEZ1bmN0aW9uKG4pfWNhdGNoKGkpe3JldHVybiB0LnB1c2goe2VycjppLGNvZGU6bn0pLG99fWZ1bmN0aW9uIGlsKG4pe3JldHVybiB1dT11dXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdXUuaW5uZXJIVE1MPW4/JzxhIGhyZWY9IlxuIi8+JzonPGRpdiBhPSJcbiIvPicsdXUuaW5uZXJIVE1MLmluZGV4T2YoIiYjMTA7Iik+MH12YXIgcD1PYmplY3QuZnJlZXplKHt9KSxybD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLGFwPWUoInNsb3QsY29tcG9uZW50IiwhMCksdnA9ZSgia2V5LHJlZixzbG90LHNsb3Qtc2NvcGUsaXMiKSx5cD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHBwPS8tKFx3KS9nLGl0PWsoZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZShwcCxmdW5jdGlvbihuLHQpe3JldHVybiB0P3QudG9VcHBlckNhc2UoKToiIn0pfSksd3A9ayhmdW5jdGlvbihuKXtyZXR1cm4gbi5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStuLnNsaWNlKDEpfSksYnA9L1xCKFtBLVpdKS9nLGdmPWsoZnVuY3Rpb24obil7cmV0dXJuIG4ucmVwbGFjZShicCwiLSQxIikudG9Mb3dlckNhc2UoKX0pLGc9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sdWw9ZnVuY3Rpb24obil7cmV0dXJuIG59LGZsPSJkYXRhLXNlcnZlci1yZW5kZXJlZCIsbHI9WyJjb21wb25lbnQiLCJkaXJlY3RpdmUiLCJmaWx0ZXIiXSxlbD1bImJlZm9yZUNyZWF0ZSIsImNyZWF0ZWQiLCJiZWZvcmVNb3VudCIsIm1vdW50ZWQiLCJiZWZvcmVVcGRhdGUiLCJ1cGRhdGVkIiwiYmVmb3JlRGVzdHJveSIsImRlc3Ryb3llZCIsImFjdGl2YXRlZCIsImRlYWN0aXZhdGVkIiwiZXJyb3JDYXB0dXJlZCJdLHc9e29wdGlvbk1lcmdlU3RyYXRlZ2llczpPYmplY3QuY3JlYXRlKG51bGwpLHNpbGVudDohMSxwcm9kdWN0aW9uVGlwOiExLGRldnRvb2xzOiExLHBlcmZvcm1hbmNlOiExLGVycm9ySGFuZGxlcjpudWxsLHdhcm5IYW5kbGVyOm51bGwsaWdub3JlZEVsZW1lbnRzOltdLGtleUNvZGVzOk9iamVjdC5jcmVhdGUobnVsbCksaXNSZXNlcnZlZFRhZzpnLGlzUmVzZXJ2ZWRBdHRyOmcsaXNVbmtub3duRWxlbWVudDpnLGdldFRhZ05hbWVzcGFjZTpvLHBhcnNlUGxhdGZvcm1UYWdOYW1lOnVsLG11c3RVc2VQcm9wOmcsX2xpZmVjeWNsZUhvb2tzOmVsfSxrcD0vW15cdy4kXS8sZHA9Il9fcHJvdG9fXyJpbnt9LGw9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3csb2w9InVuZGVmaW5lZCIhPXR5cGVvZiBXWEVudmlyb25tZW50JiYhIVdYRW52aXJvbm1lbnQucGxhdGZvcm0sc2w9b2wmJldYRW52aXJvbm1lbnQucGxhdGZvcm0udG9Mb3dlckNhc2UoKSxiPWwmJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCksaGk9YiYmL21zaWV8dHJpZGVudC8udGVzdChiKSxjaT1iJiZiLmluZGV4T2YoIm1zaWUgOS4wIik+MCxobD1iJiZiLmluZGV4T2YoImVkZ2UvIik+MCxncD1iJiZiLmluZGV4T2YoImFuZHJvaWQiKT4wfHwiYW5kcm9pZCI9PT1zbCxudz1iJiYvaXBob25lfGlwYWR8aXBvZHxpb3MvLnRlc3QoYil8fCJpb3MiPT09c2wsbmU9KGImJi9jaHJvbWVcL1xkKy8udGVzdChiKSx7fS53YXRjaCksY2w9ITEsdGUsbnQsc2UscGwsd2wsb3QsZGwsdmUsdGEsa2E7aWYobCl0cnl7dGU9e307T2JqZWN0LmRlZmluZVByb3BlcnR5KHRlLCJwYXNzaXZlIix7Z2V0OmZ1bmN0aW9uKCl7Y2w9ITB9fSk7d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInRlc3QtcGFzc2l2ZSIsbnVsbCx0ZSl9Y2F0Y2godCl7fXZhciBpZSxhcixkaT1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1pZSYmKGllPSFsJiYidW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbCYmInNlcnZlciI9PT1nbG9iYWwucHJvY2Vzcy5lbnYuVlVFX0VOViksaWV9LHZyPWwmJndpbmRvdy5fX1ZVRV9ERVZUT09MU19HTE9CQUxfSE9PS19fLGxsPSJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZpaShTeW1ib2wpJiYidW5kZWZpbmVkIiE9dHlwZW9mIFJlZmxlY3QmJmlpKFJlZmxlY3Qub3duS2V5cyk7YXI9InVuZGVmaW5lZCIhPXR5cGVvZiBTZXQmJmlpKFNldCk/U2V0OmZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe3RoaXMuc2V0PU9iamVjdC5jcmVhdGUobnVsbCl9cmV0dXJuIG4ucHJvdG90eXBlLmhhcz1mdW5jdGlvbihuKXtyZXR1cm4hMD09PXRoaXMuc2V0W25dfSxuLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24obil7dGhpcy5zZXRbbl09ITB9LG4ucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dGhpcy5zZXQ9T2JqZWN0LmNyZWF0ZShudWxsKX0sbn0oKTt2YXIgdHc9byxpdz0wLHM9ZnVuY3Rpb24oKXt0aGlzLmlkPWl3Kys7dGhpcy5zdWJzPVtdfTtzLnByb3RvdHlwZS5hZGRTdWI9ZnVuY3Rpb24obil7dGhpcy5zdWJzLnB1c2gobil9O3MucHJvdG90eXBlLnJlbW92ZVN1Yj1mdW5jdGlvbihuKXtodCh0aGlzLnN1YnMsbil9O3MucHJvdG90eXBlLmRlcGVuZD1mdW5jdGlvbigpe3MudGFyZ2V0JiZzLnRhcmdldC5hZGREZXAodGhpcyl9O3MucHJvdG90eXBlLm5vdGlmeT1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnN1YnMuc2xpY2UoKSxuPTAsaT10Lmxlbmd0aDtuPGk7bisrKXRbbl0udXBkYXRlKCl9O3MudGFyZ2V0PW51bGw7dmFyIGFsPVtdLGE9ZnVuY3Rpb24obix0LGkscix1LGYsZSxvKXt0aGlzLnRhZz1uO3RoaXMuZGF0YT10O3RoaXMuY2hpbGRyZW49aTt0aGlzLnRleHQ9cjt0aGlzLmVsbT11O3RoaXMubnM9dm9pZCAwO3RoaXMuY29udGV4dD1mO3RoaXMuZm5Db250ZXh0PXZvaWQgMDt0aGlzLmZuT3B0aW9ucz12b2lkIDA7dGhpcy5mblNjb3BlSWQ9dm9pZCAwO3RoaXMua2V5PXQmJnQua2V5O3RoaXMuY29tcG9uZW50T3B0aW9ucz1lO3RoaXMuY29tcG9uZW50SW5zdGFuY2U9dm9pZCAwO3RoaXMucGFyZW50PXZvaWQgMDt0aGlzLnJhdz0hMTt0aGlzLmlzU3RhdGljPSExO3RoaXMuaXNSb290SW5zZXJ0PSEwO3RoaXMuaXNDb21tZW50PSExO3RoaXMuaXNDbG9uZWQ9ITE7dGhpcy5pc09uY2U9ITE7dGhpcy5hc3luY0ZhY3Rvcnk9bzt0aGlzLmFzeW5jTWV0YT12b2lkIDA7dGhpcy5pc0FzeW5jUGxhY2Vob2xkZXI9ITF9LHZsPXtjaGlsZDp7Y29uZmlndXJhYmxlOiEwfX07dmwuY2hpbGQuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29tcG9uZW50SW5zdGFuY2V9O09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGEucHJvdG90eXBlLHZsKTt2YXIgZ3Q9ZnVuY3Rpb24obil7dm9pZCAwPT09biYmKG49IiIpO3ZhciB0PW5ldyBhO3JldHVybiB0LnRleHQ9bix0LmlzQ29tbWVudD0hMCx0fSx5bD1BcnJheS5wcm90b3R5cGUscmU9T2JqZWN0LmNyZWF0ZSh5bCk7WyJwdXNoIiwicG9wIiwic2hpZnQiLCJ1bnNoaWZ0Iiwic3BsaWNlIiwic29ydCIsInJldmVyc2UiXS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciB0PXlsW25dO2V1KHJlLG4sZnVuY3Rpb24oKXtmb3IodmFyIHUsZSxmLGk9W10scj1hcmd1bWVudHMubGVuZ3RoO3ItLTspaVtyXT1hcmd1bWVudHNbcl07ZT10LmFwcGx5KHRoaXMsaSk7Zj10aGlzLl9fb2JfXztzd2l0Y2gobil7Y2FzZSJwdXNoIjpjYXNlInVuc2hpZnQiOnU9aTticmVhaztjYXNlInNwbGljZSI6dT1pLnNsaWNlKDIpfXJldHVybiB1JiZmLm9ic2VydmVBcnJheSh1KSxmLmRlcC5ub3RpZnkoKSxlfSl9KTt2YXIgcnc9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocmUpLHJ0PXtzaG91bGRDb252ZXJ0OiEwfSx5cj1mdW5jdGlvbihuKXsodGhpcy52YWx1ZT1uLHRoaXMuZGVwPW5ldyBzLHRoaXMudm1Db3VudD0wLGV1KG4sIl9fb2JfXyIsdGhpcyksQXJyYXkuaXNBcnJheShuKSk/KChkcD91eTpmeSkobixyZSxydyksdGhpcy5vYnNlcnZlQXJyYXkobikpOnRoaXMud2FsayhuKX07eXIucHJvdG90eXBlLndhbGs9ZnVuY3Rpb24obil7Zm9yKHZhciBpPU9iamVjdC5rZXlzKG4pLHQ9MDt0PGkubGVuZ3RoO3QrKyl5dChuLGlbdF0sbltpW3RdXSl9O3lyLnByb3RvdHlwZS5vYnNlcnZlQXJyYXk9ZnVuY3Rpb24obil7Zm9yKHZhciB0PTAsaT1uLmxlbmd0aDt0PGk7dCsrKXVpKG5bdF0pfTtudD13Lm9wdGlvbk1lcmdlU3RyYXRlZ2llcztudC5kYXRhPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gaT9odShuLHQsaSk6dCYmImZ1bmN0aW9uIiE9dHlwZW9mIHQ/bjpodShuLHQpfTtlbC5mb3JFYWNoKGZ1bmN0aW9uKG4pe250W25dPWV5fSk7bHIuZm9yRWFjaChmdW5jdGlvbihuKXtudFtuKyJzIl09b3l9KTtudC53YXRjaD1mdW5jdGlvbihuLHQpe3ZhciB1LGUscixmO2lmKG49PT1uZSYmKG49dm9pZCAwKSx0PT09bmUmJih0PXZvaWQgMCksIXQpcmV0dXJuIE9iamVjdC5jcmVhdGUobnx8bnVsbCk7aWYoIW4pcmV0dXJuIHQ7dT17fTtpKHUsbik7Zm9yKGUgaW4gdClyPXVbZV0sZj10W2VdLHImJiFBcnJheS5pc0FycmF5KHIpJiYocj1bcl0pLHVbZV09cj9yLmNvbmNhdChmKTpBcnJheS5pc0FycmF5KGYpP2Y6W2ZdO3JldHVybiB1fTtudC5wcm9wcz1udC5tZXRob2RzPW50LmluamVjdD1udC5jb21wdXRlZD1mdW5jdGlvbihuLHQpe2lmKCFuKXJldHVybiB0O3ZhciByPU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGkocixuKSx0JiZpKHIsdCkscn07bnQucHJvdmlkZT1odTt2YXIgdWUsZ2ksdXc9ZnVuY3Rpb24obix0KXtyZXR1cm4gdm9pZCAwPT09dD9uOnR9LGZlPVtdLGVlPSExLG9lPSExOyJ1bmRlZmluZWQiIT10eXBlb2Ygc2V0SW1tZWRpYXRlJiZpaShzZXRJbW1lZGlhdGUpP2dpPWZ1bmN0aW9uKCl7c2V0SW1tZWRpYXRlKGZyKX06InVuZGVmaW5lZCIhPXR5cGVvZiBNZXNzYWdlQ2hhbm5lbCYmKGlpKE1lc3NhZ2VDaGFubmVsKXx8IltvYmplY3QgTWVzc2FnZUNoYW5uZWxDb25zdHJ1Y3Rvcl0iPT09TWVzc2FnZUNoYW5uZWwudG9TdHJpbmcoKSk/KHNlPW5ldyBNZXNzYWdlQ2hhbm5lbCxwbD1zZS5wb3J0MixzZS5wb3J0MS5vbm1lc3NhZ2U9ZnIsZ2k9ZnVuY3Rpb24oKXtwbC5wb3N0TWVzc2FnZSgxKX0pOmdpPWZ1bmN0aW9uKCl7c2V0VGltZW91dChmciwwKX07InVuZGVmaW5lZCIhPXR5cGVvZiBQcm9taXNlJiZpaShQcm9taXNlKT8od2w9UHJvbWlzZS5yZXNvbHZlKCksdWU9ZnVuY3Rpb24oKXt3bC50aGVuKGZyKTtudyYmc2V0VGltZW91dChvKX0pOnVlPWdpO3ZhciBucixibD1uZXcgYXIsa2w9ayhmdW5jdGlvbihuKXt2YXIgdD0iJiI9PT1uLmNoYXJBdCgwKSxpPSJ+Ij09PShuPXQ/bi5zbGljZSgxKTpuKS5jaGFyQXQoMCkscj0iISI9PT0obj1pP24uc2xpY2UoMSk6bikuY2hhckF0KDApO3JldHVybiBuPXI/bi5zbGljZSgxKTpuLHtuYW1lOm4sb25jZTppLGNhcHR1cmU6cixwYXNzaXZlOnR9fSksbmk9bnVsbCxldD1bXSxoZT1bXSxwcj17fSxjZT0hMSxsZT0hMSxsaT0wLGZ3PTAsdHQ9ZnVuY3Rpb24obix0LGkscix1KXt0aGlzLnZtPW47dSYmKG4uX3dhdGNoZXI9dGhpcyk7bi5fd2F0Y2hlcnMucHVzaCh0aGlzKTtyPyh0aGlzLmRlZXA9ISFyLmRlZXAsdGhpcy51c2VyPSEhci51c2VyLHRoaXMubGF6eT0hIXIubGF6eSx0aGlzLnN5bmM9ISFyLnN5bmMpOnRoaXMuZGVlcD10aGlzLnVzZXI9dGhpcy5sYXp5PXRoaXMuc3luYz0hMTt0aGlzLmNiPWk7dGhpcy5pZD0rK2Z3O3RoaXMuYWN0aXZlPSEwO3RoaXMuZGlydHk9dGhpcy5sYXp5O3RoaXMuZGVwcz1bXTt0aGlzLm5ld0RlcHM9W107dGhpcy5kZXBJZHM9bmV3IGFyO3RoaXMubmV3RGVwSWRzPW5ldyBhcjt0aGlzLmV4cHJlc3Npb249IiI7ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dGhpcy5nZXR0ZXI9dDoodGhpcy5nZXR0ZXI9ZnVuY3Rpb24obil7aWYoIWtwLnRlc3Qobikpe3ZhciB0PW4uc3BsaXQoIi4iKTtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspe2lmKCFuKXJldHVybjtuPW5bdFtpXV19cmV0dXJuIG59fX0odCksdGhpcy5nZXR0ZXJ8fCh0aGlzLmdldHRlcj1mdW5jdGlvbigpe30pKTt0aGlzLnZhbHVlPXRoaXMubGF6eT92b2lkIDA6dGhpcy5nZXQoKX07dHQucHJvdG90eXBlLmdldD1mdW5jdGlvbigpeyFmdW5jdGlvbihuKXtzLnRhcmdldCYmYWwucHVzaChzLnRhcmdldCk7cy50YXJnZXQ9bn0odGhpcyk7dmFyIG4sdD10aGlzLnZtO3RyeXtuPXRoaXMuZ2V0dGVyLmNhbGwodCx0KX1jYXRjaChuKXtpZighdGhpcy51c2VyKXRocm93IG47Y3Qobix0LCdnZXR0ZXIgZm9yIHdhdGNoZXIgIicrdGhpcy5leHByZXNzaW9uKyciJyl9ZmluYWxseXt0aGlzLmRlZXAmJmJvKG4pO3MudGFyZ2V0PWFsLnBvcCgpO3RoaXMuY2xlYW51cERlcHMoKX1yZXR1cm4gbn07dHQucHJvdG90eXBlLmFkZERlcD1mdW5jdGlvbihuKXt2YXIgdD1uLmlkO3RoaXMubmV3RGVwSWRzLmhhcyh0KXx8KHRoaXMubmV3RGVwSWRzLmFkZCh0KSx0aGlzLm5ld0RlcHMucHVzaChuKSx0aGlzLmRlcElkcy5oYXModCl8fG4uYWRkU3ViKHRoaXMpKX07dHQucHJvdG90eXBlLmNsZWFudXBEZXBzPWZ1bmN0aW9uKCl7Zm9yKHZhciBpLG4sdD10aGlzLmRlcHMubGVuZ3RoO3QtLTspaT10aGlzLmRlcHNbdF0sdGhpcy5uZXdEZXBJZHMuaGFzKGkuaWQpfHxpLnJlbW92ZVN1Yih0aGlzKTtuPXRoaXMuZGVwSWRzO3RoaXMuZGVwSWRzPXRoaXMubmV3RGVwSWRzO3RoaXMubmV3RGVwSWRzPW47dGhpcy5uZXdEZXBJZHMuY2xlYXIoKTtuPXRoaXMuZGVwczt0aGlzLmRlcHM9dGhpcy5uZXdEZXBzO3RoaXMubmV3RGVwcz1uO3RoaXMubmV3RGVwcy5sZW5ndGg9MH07dHQucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMubGF6eT90aGlzLmRpcnR5PSEwOnRoaXMuc3luYz90aGlzLnJ1bigpOmZ1bmN0aW9uKG4pe3ZhciBpPW4uaWQsdDtpZihudWxsPT1wcltpXSl7aWYocHJbaV09ITAsbGUpe2Zvcih0PWV0Lmxlbmd0aC0xO3Q+bGkmJmV0W3RdLmlkPm4uaWQ7KXQtLTtldC5zcGxpY2UodCsxLDAsbil9ZWxzZSBldC5wdXNoKG4pO2NlfHwoY2U9ITAsYXUobHkpKX19KHRoaXMpfTt0dC5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dmFyIG4sdDtpZih0aGlzLmFjdGl2ZSYmKG49dGhpcy5nZXQoKSxuIT09dGhpcy52YWx1ZXx8aChuKXx8dGhpcy5kZWVwKSlpZih0PXRoaXMudmFsdWUsdGhpcy52YWx1ZT1uLHRoaXMudXNlcil0cnl7dGhpcy5jYi5jYWxsKHRoaXMudm0sbix0KX1jYXRjaChuKXtjdChuLHRoaXMudm0sJ2NhbGxiYWNrIGZvciB3YXRjaGVyICInK3RoaXMuZXhwcmVzc2lvbisnIicpfWVsc2UgdGhpcy5jYi5jYWxsKHRoaXMudm0sbix0KX07dHQucHJvdG90eXBlLmV2YWx1YXRlPWZ1bmN0aW9uKCl7dGhpcy52YWx1ZT10aGlzLmdldCgpO3RoaXMuZGlydHk9ITF9O3R0LnByb3RvdHlwZS5kZXBlbmQ9ZnVuY3Rpb24oKXtmb3IodmFyIG49dGhpcy5kZXBzLmxlbmd0aDtuLS07KXRoaXMuZGVwc1tuXS5kZXBlbmQoKX07dHQucHJvdG90eXBlLnRlYXJkb3duPWZ1bmN0aW9uKCl7aWYodGhpcy5hY3RpdmUpe3RoaXMudm0uX2lzQmVpbmdEZXN0cm95ZWR8fGh0KHRoaXMudm0uX3dhdGNoZXJzLHRoaXMpO2Zvcih2YXIgbj10aGlzLmRlcHMubGVuZ3RoO24tLTspdGhpcy5kZXBzW25dLnJlbW92ZVN1Yih0aGlzKTt0aGlzLmFjdGl2ZT0hMX19O290PXtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6byxzZXQ6b307ZGw9e2xhenk6ITB9O2xzKGFzLnByb3RvdHlwZSk7dmFyIGFlPXtpbml0OmZ1bmN0aW9uKHQsaSxyLHUpe2lmKCF0LmNvbXBvbmVudEluc3RhbmNlfHx0LmNvbXBvbmVudEluc3RhbmNlLl9pc0Rlc3Ryb3llZCkodC5jb21wb25lbnRJbnN0YW5jZT1mdW5jdGlvbih0LGkscix1KXt2YXIgZj17X2lzQ29tcG9uZW50OiEwLHBhcmVudDppLF9wYXJlbnRWbm9kZTp0LF9wYXJlbnRFbG06cnx8bnVsbCxfcmVmRWxtOnV8fG51bGx9LGU9dC5kYXRhLmlubGluZVRlbXBsYXRlO3JldHVybiBuKGUpJiYoZi5yZW5kZXI9ZS5yZW5kZXIsZi5zdGF0aWNSZW5kZXJGbnM9ZS5zdGF0aWNSZW5kZXJGbnMpLG5ldyB0LmNvbXBvbmVudE9wdGlvbnMuQ3RvcihmKX0odCxuaSxyLHUpKS4kbW91bnQoaT90LmVsbTp2b2lkIDAsaSk7ZWxzZSBpZih0LmRhdGEua2VlcEFsaXZlKXt2YXIgZj10O2FlLnByZXBhdGNoKGYsZil9fSxwcmVwYXRjaDpmdW5jdGlvbihuLHQpe3ZhciBpPXQuY29tcG9uZW50T3B0aW9uczshZnVuY3Rpb24obix0LGkscix1KXt2YXIgaD0hISh1fHxuLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbnx8ci5kYXRhLnNjb3BlZFNsb3RzfHxuLiRzY29wZWRTbG90cyE9PXApLGUscztpZihuLiRvcHRpb25zLl9wYXJlbnRWbm9kZT1yLG4uJHZub2RlPXIsbi5fdm5vZGUmJihuLl92bm9kZS5wYXJlbnQ9ciksbi4kb3B0aW9ucy5fcmVuZGVyQ2hpbGRyZW49dSxuLiRhdHRycz1yLmRhdGEmJnIuZGF0YS5hdHRyc3x8cCxuLiRsaXN0ZW5lcnM9aXx8cCx0JiZuLiRvcHRpb25zLnByb3BzKXtydC5zaG91bGRDb252ZXJ0PSExO2Zvcih2YXIgYz1uLl9wcm9wcyxvPW4uJG9wdGlvbnMuX3Byb3BLZXlzfHxbXSxmPTA7ZjxvLmxlbmd0aDtmKyspZT1vW2ZdLGNbZV09bHUoZSxuLiRvcHRpb25zLnByb3BzLHQsbik7cnQuc2hvdWxkQ29udmVydD0hMDtuLiRvcHRpb25zLnByb3BzRGF0YT10fWkmJihzPW4uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycyxuLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM9aSxpcyhuLGkscykpO2gmJihuLiRzbG90cz13dSh1LHIuY29udGV4dCksbi4kZm9yY2VVcGRhdGUoKSl9KHQuY29tcG9uZW50SW5zdGFuY2U9bi5jb21wb25lbnRJbnN0YW5jZSxpLnByb3BzRGF0YSxpLmxpc3RlbmVycyx0LGkuY2hpbGRyZW4pfSxpbnNlcnQ6ZnVuY3Rpb24obil7dmFyIGk9bi5jb250ZXh0LHQ9bi5jb21wb25lbnRJbnN0YW5jZTt0Ll9pc01vdW50ZWR8fCh0Ll9pc01vdW50ZWQ9ITAsZCh0LCJtb3VudGVkIikpO24uZGF0YS5rZWVwQWxpdmUmJihpLl9pc01vdW50ZWQ/ZnVuY3Rpb24obil7bi5faW5hY3RpdmU9ITE7aGUucHVzaChuKX0odCk6YnUodCwhMCkpfSxkZXN0cm95OmZ1bmN0aW9uKG4pe3ZhciB0PW4uY29tcG9uZW50SW5zdGFuY2U7dC5faXNEZXN0cm95ZWR8fChuLmRhdGEua2VlcEFsaXZlP2ZzKHQsITApOnQuJGRlc3Ryb3koKSl9fSxnbD1PYmplY3Qua2V5cyhhZSksZXc9MSxuYT0yLG93PTA7IWZ1bmN0aW9uKG4pe24ucHJvdG90eXBlLl9pbml0PWZ1bmN0aW9uKG4pe3RoaXMuX3VpZD1vdysrO3RoaXMuX2lzVnVlPSEwO24mJm4uX2lzQ29tcG9uZW50P2Z1bmN0aW9uKG4sdCl7dmFyIGk9bi4kb3B0aW9ucz1PYmplY3QuY3JlYXRlKG4uY29uc3RydWN0b3Iub3B0aW9ucyksdT10Ll9wYXJlbnRWbm9kZSxyO2kucGFyZW50PXQucGFyZW50O2kuX3BhcmVudFZub2RlPXU7aS5fcGFyZW50RWxtPXQuX3BhcmVudEVsbTtpLl9yZWZFbG09dC5fcmVmRWxtO3I9dS5jb21wb25lbnRPcHRpb25zO2kucHJvcHNEYXRhPXIucHJvcHNEYXRhO2kuX3BhcmVudExpc3RlbmVycz1yLmxpc3RlbmVycztpLl9yZW5kZXJDaGlsZHJlbj1yLmNoaWxkcmVuO2kuX2NvbXBvbmVudFRhZz1yLnRhZzt0LnJlbmRlciYmKGkucmVuZGVyPXQucmVuZGVyLGkuc3RhdGljUmVuZGVyRm5zPXQuc3RhdGljUmVuZGVyRm5zKX0odGhpcyxuKTp0aGlzLiRvcHRpb25zPXB0KGd1KHRoaXMuY29uc3RydWN0b3IpLG58fHt9LHRoaXMpO3RoaXMuX3JlbmRlclByb3h5PXRoaXM7dGhpcy5fc2VsZj10aGlzLGZ1bmN0aW9uKG4pe3ZhciBpPW4uJG9wdGlvbnMsdD1pLnBhcmVudDtpZih0JiYhaS5hYnN0cmFjdCl7Zm9yKDt0LiRvcHRpb25zLmFic3RyYWN0JiZ0LiRwYXJlbnQ7KXQ9dC4kcGFyZW50O3QuJGNoaWxkcmVuLnB1c2gobil9bi4kcGFyZW50PXQ7bi4kcm9vdD10P3QuJHJvb3Q6bjtuLiRjaGlsZHJlbj1bXTtuLiRyZWZzPXt9O24uX3dhdGNoZXI9bnVsbDtuLl9pbmFjdGl2ZT1udWxsO24uX2RpcmVjdEluYWN0aXZlPSExO24uX2lzTW91bnRlZD0hMTtuLl9pc0Rlc3Ryb3llZD0hMTtuLl9pc0JlaW5nRGVzdHJveWVkPSExfSh0aGlzKSxmdW5jdGlvbihuKXtuLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTtuLl9oYXNIb29rRXZlbnQ9ITE7dmFyIHQ9bi4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzO3QmJmlzKG4sdCl9KHRoaXMpLGZ1bmN0aW9uKG4pe3ZhciByO24uX3Zub2RlPW51bGw7bi5fc3RhdGljVHJlZXM9bnVsbDt2YXIgaT1uLiRvcHRpb25zLHQ9bi4kdm5vZGU9aS5fcGFyZW50Vm5vZGUsdT10JiZ0LmNvbnRleHQ7bi4kc2xvdHM9d3UoaS5fcmVuZGVyQ2hpbGRyZW4sdSk7bi4kc2NvcGVkU2xvdHM9cDtuLl9jPWZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiBvcihuLHQsaSxyLHUsITEpfTtuLiRjcmVhdGVFbGVtZW50PWZ1bmN0aW9uKHQsaSxyLHUpe3JldHVybiBvcihuLHQsaSxyLHUsITApfTtyPXQmJnQuZGF0YTt5dChuLCIkYXR0cnMiLHImJnIuYXR0cnN8fHAsMCwhMCk7eXQobiwiJGxpc3RlbmVycyIsaS5fcGFyZW50TGlzdGVuZXJzfHxwLDAsITApfSh0aGlzKTtkKHRoaXMsImJlZm9yZUNyZWF0ZSIpLGZ1bmN0aW9uKG4pe3ZhciB0PXNzKG4uJG9wdGlvbnMuaW5qZWN0LG4pO3QmJihydC5zaG91bGRDb252ZXJ0PSExLE9iamVjdC5rZXlzKHQpLmZvckVhY2goZnVuY3Rpb24oaSl7eXQobixpLHRbaV0pfSkscnQuc2hvdWxkQ29udmVydD0hMCl9KHRoaXMpO2F5KHRoaXMpLGZ1bmN0aW9uKG4pe3ZhciB0PW4uJG9wdGlvbnMucHJvdmlkZTt0JiYobi5fcHJvdmlkZWQ9ImZ1bmN0aW9uIj09dHlwZW9mIHQ/dC5jYWxsKG4pOnQpfSh0aGlzKTtkKHRoaXMsImNyZWF0ZWQiKTt0aGlzLiRvcHRpb25zLmVsJiZ0aGlzLiRtb3VudCh0aGlzLiRvcHRpb25zLmVsKX19KHIpLGZ1bmN0aW9uKG4pe3ZhciBpPXt9LHQ7aS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0YX07dD17fTt0LmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wcm9wc307T2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLCIkZGF0YSIsaSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4ucHJvdG90eXBlLCIkcHJvcHMiLHQpO24ucHJvdG90eXBlLiRzZXQ9b3U7bi5wcm90b3R5cGUuJGRlbGV0ZT1hbztuLnByb3RvdHlwZS4kd2F0Y2g9ZnVuY3Rpb24obix0LGkpe2lmKHYodCkpcmV0dXJuIGR1KHRoaXMsbix0LGkpOyhpPWl8fHt9KS51c2VyPSEwO3ZhciByPW5ldyB0dCh0aGlzLG4sdCxpKTtyZXR1cm4gaS5pbW1lZGlhdGUmJnQuY2FsbCh0aGlzLHIudmFsdWUpLGZ1bmN0aW9uKCl7ci50ZWFyZG93bigpfX19KHIpLGZ1bmN0aW9uKG4pe3ZhciB0PS9eaG9vazovO24ucHJvdG90eXBlLiRvbj1mdW5jdGlvbihuLGkpe2lmKEFycmF5LmlzQXJyYXkobikpZm9yKHZhciByPTAsdT1uLmxlbmd0aDtyPHU7cisrKXRoaXMuJG9uKG5bcl0saSk7ZWxzZSh0aGlzLl9ldmVudHNbbl18fCh0aGlzLl9ldmVudHNbbl09W10pKS5wdXNoKGkpLHQudGVzdChuKSYmKHRoaXMuX2hhc0hvb2tFdmVudD0hMCk7cmV0dXJuIHRoaXN9O24ucHJvdG90eXBlLiRvbmNlPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gcigpe2kuJG9mZihuLHIpO3QuYXBwbHkoaSxhcmd1bWVudHMpfXZhciBpPXRoaXM7cmV0dXJuIHIuZm49dCxpLiRvbihuLHIpLGl9O24ucHJvdG90eXBlLiRvZmY9ZnVuY3Rpb24obix0KXt2YXIgcixmLGksZSx1O2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0aGlzO2lmKEFycmF5LmlzQXJyYXkobikpe2ZvcihyPTAsZj1uLmxlbmd0aDtyPGY7cisrKXRoaXMuJG9mZihuW3JdLHQpO3JldHVybiB0aGlzfWlmKGk9dGhpcy5fZXZlbnRzW25dLCFpKXJldHVybiB0aGlzO2lmKCF0KXJldHVybiB0aGlzLl9ldmVudHNbbl09bnVsbCx0aGlzO2lmKHQpZm9yKHU9aS5sZW5ndGg7dS0tOylpZigoZT1pW3VdKT09PXR8fGUuZm49PT10KXtpLnNwbGljZSh1LDEpO2JyZWFrfXJldHVybiB0aGlzfTtuLnByb3RvdHlwZS4kZW1pdD1mdW5jdGlvbihuKXt2YXIgaT10aGlzLHQ9aS5fZXZlbnRzW25dO2lmKHQpe3Q9dC5sZW5ndGg+MT9mdSh0KTp0O2Zvcih2YXIgdT1mdShhcmd1bWVudHMsMSkscj0wLGY9dC5sZW5ndGg7cjxmO3IrKyl0cnl7dFtyXS5hcHBseShpLHUpfWNhdGNoKHQpe2N0KHQsaSwnZXZlbnQgaGFuZGxlciBmb3IgIicrbisnIicpfX1yZXR1cm4gaX19KHIpLGZ1bmN0aW9uKG4pe24ucHJvdG90eXBlLl91cGRhdGU9ZnVuY3Rpb24obix0KXt0aGlzLl9pc01vdW50ZWQmJmQodGhpcywiYmVmb3JlVXBkYXRlIik7dmFyIGk9dGhpcy4kZWwscj10aGlzLl92bm9kZSx1PW5pO25pPXRoaXM7dGhpcy5fdm5vZGU9bjtyP3RoaXMuJGVsPXRoaXMuX19wYXRjaF9fKHIsbik6KHRoaXMuJGVsPXRoaXMuX19wYXRjaF9fKHRoaXMuJGVsLG4sdCwhMSx0aGlzLiRvcHRpb25zLl9wYXJlbnRFbG0sdGhpcy4kb3B0aW9ucy5fcmVmRWxtKSx0aGlzLiRvcHRpb25zLl9wYXJlbnRFbG09dGhpcy4kb3B0aW9ucy5fcmVmRWxtPW51bGwpO25pPXU7aSYmKGkuX192dWVfXz1udWxsKTt0aGlzLiRlbCYmKHRoaXMuJGVsLl9fdnVlX189dGhpcyk7dGhpcy4kdm5vZGUmJnRoaXMuJHBhcmVudCYmdGhpcy4kdm5vZGU9PT10aGlzLiRwYXJlbnQuX3Zub2RlJiYodGhpcy4kcGFyZW50LiRlbD10aGlzLiRlbCl9O24ucHJvdG90eXBlLiRmb3JjZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX3dhdGNoZXImJnRoaXMuX3dhdGNoZXIudXBkYXRlKCl9O24ucHJvdG90eXBlLiRkZXN0cm95PWZ1bmN0aW9uKCl7dmFyIG4sdDtpZighdGhpcy5faXNCZWluZ0Rlc3Ryb3llZCl7Zm9yKGQodGhpcywiYmVmb3JlRGVzdHJveSIpLHRoaXMuX2lzQmVpbmdEZXN0cm95ZWQ9ITAsbj10aGlzLiRwYXJlbnQsIW58fG4uX2lzQmVpbmdEZXN0cm95ZWR8fHRoaXMuJG9wdGlvbnMuYWJzdHJhY3R8fGh0KG4uJGNoaWxkcmVuLHRoaXMpLHRoaXMuX3dhdGNoZXImJnRoaXMuX3dhdGNoZXIudGVhcmRvd24oKSx0PXRoaXMuX3dhdGNoZXJzLmxlbmd0aDt0LS07KXRoaXMuX3dhdGNoZXJzW3RdLnRlYXJkb3duKCk7dGhpcy5fZGF0YS5fX29iX18mJnRoaXMuX2RhdGEuX19vYl9fLnZtQ291bnQtLTt0aGlzLl9pc0Rlc3Ryb3llZD0hMDt0aGlzLl9fcGF0Y2hfXyh0aGlzLl92bm9kZSxudWxsKTtkKHRoaXMsImRlc3Ryb3llZCIpO3RoaXMuJG9mZigpO3RoaXMuJGVsJiYodGhpcy4kZWwuX192dWVfXz1udWxsKTt0aGlzLiR2bm9kZSYmKHRoaXMuJHZub2RlLnBhcmVudD1udWxsKX19fShyKSxmdW5jdGlvbihuKXtscyhuLnByb3RvdHlwZSk7bi5wcm90b3R5cGUuJG5leHRUaWNrPWZ1bmN0aW9uKG4pe3JldHVybiBhdShuLHRoaXMpfTtuLnByb3RvdHlwZS5fcmVuZGVyPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyx1PW4uJG9wdGlvbnMsZT11LnJlbmRlcixyPXUuX3BhcmVudFZub2RlLGYsaSx0O2lmKG4uX2lzTW91bnRlZClmb3IoZiBpbiBuLiRzbG90cylpPW4uJHNsb3RzW2ZdLChpLl9yZW5kZXJlZHx8aVswXSYmaVswXS5lbG0pJiYobi4kc2xvdHNbZl09dXIoaSwhMCkpO24uJHNjb3BlZFNsb3RzPXImJnIuZGF0YS5zY29wZWRTbG90c3x8cDtuLiR2bm9kZT1yO3RyeXt0PWUuY2FsbChuLl9yZW5kZXJQcm94eSxuLiRjcmVhdGVFbGVtZW50KX1jYXRjaCh1KXtjdCh1LG4sInJlbmRlciIpO3Q9bi5fdm5vZGV9cmV0dXJuIHQgaW5zdGFuY2VvZiBhfHwodD1ndCgpKSx0LnBhcmVudD1yLHR9fShyKTt2ZT1bU3RyaW5nLFJlZ0V4cCxBcnJheV07dGE9e0tlZXBBbGl2ZTp7bmFtZToia2VlcC1hbGl2ZSIsYWJzdHJhY3Q6ITAscHJvcHM6e2luY2x1ZGU6dmUsZXhjbHVkZTp2ZSxtYXg6W1N0cmluZyxOdW1iZXJdfSxjcmVhdGVkOmZ1bmN0aW9uKCl7dGhpcy5jYWNoZT1PYmplY3QuY3JlYXRlKG51bGwpO3RoaXMua2V5cz1bXX0sZGVzdHJveWVkOmZ1bmN0aW9uKCl7Zm9yKHZhciBuIGluIHRoaXMuY2FjaGUpbmYodGhpcy5jYWNoZSxuLHRoaXMua2V5cyl9LHdhdGNoOntpbmNsdWRlOmZ1bmN0aW9uKG4pe2JzKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIHNyKG4sdCl9KX0sZXhjbHVkZTpmdW5jdGlvbihuKXticyh0aGlzLGZ1bmN0aW9uKHQpe3JldHVybiFzcihuLHQpfSl9fSxyZW5kZXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiRzbG90cy5kZWZhdWx0LG49dHMoZSkscj1uJiZuLmNvbXBvbmVudE9wdGlvbnM7aWYocil7dmFyIHU9d3Mociksbz10aGlzLmluY2x1ZGUscz10aGlzLmV4Y2x1ZGU7aWYobyYmKCF1fHwhc3Iobyx1KSl8fHMmJnUmJnNyKHMsdSkpcmV0dXJuIG47dmFyIGY9dGhpcy5jYWNoZSx0PXRoaXMua2V5cyxpPW51bGw9PW4ua2V5P3IuQ3Rvci5jaWQrKHIudGFnPyI6OiIrci50YWc6IiIpOm4ua2V5O2ZbaV0/KG4uY29tcG9uZW50SW5zdGFuY2U9ZltpXS5jb21wb25lbnRJbnN0YW5jZSxodCh0LGkpLHQucHVzaChpKSk6KGZbaV09bix0LnB1c2goaSksdGhpcy5tYXgmJnQubGVuZ3RoPnBhcnNlSW50KHRoaXMubWF4KSYmbmYoZix0WzBdLHQsdGhpcy5fdm5vZGUpKTtuLmRhdGEua2VlcEFsaXZlPSEwfXJldHVybiBufHxlJiZlWzBdfX19OyFmdW5jdGlvbihuKXt2YXIgdD17fTt0LmdldD1mdW5jdGlvbigpe3JldHVybiB3fTtPYmplY3QuZGVmaW5lUHJvcGVydHkobiwiY29uZmlnIix0KTtuLnV0aWw9e3dhcm46dHcsZXh0ZW5kOmksbWVyZ2VPcHRpb25zOnB0LGRlZmluZVJlYWN0aXZlOnl0fTtuLnNldD1vdTtuLmRlbGV0ZT1hbztuLm5leHRUaWNrPWF1O24ub3B0aW9ucz1PYmplY3QuY3JlYXRlKG51bGwpO2xyLmZvckVhY2goZnVuY3Rpb24odCl7bi5vcHRpb25zW3QrInMiXT1PYmplY3QuY3JlYXRlKG51bGwpfSk7bi5vcHRpb25zLl9iYXNlPW47aShuLm9wdGlvbnMuY29tcG9uZW50cyx0YSksZnVuY3Rpb24obil7bi51c2U9ZnVuY3Rpb24obil7dmFyIGk9dGhpcy5faW5zdGFsbGVkUGx1Z2luc3x8KHRoaXMuX2luc3RhbGxlZFBsdWdpbnM9W10pLHQ7cmV0dXJuIGkuaW5kZXhPZihuKT4tMT90aGlzOih0PWZ1KGFyZ3VtZW50cywxKSx0LnVuc2hpZnQodGhpcyksImZ1bmN0aW9uIj09dHlwZW9mIG4uaW5zdGFsbD9uLmluc3RhbGwuYXBwbHkobix0KToiZnVuY3Rpb24iPT10eXBlb2YgbiYmbi5hcHBseShudWxsLHQpLGkucHVzaChuKSx0aGlzKX19KG4pLGZ1bmN0aW9uKG4pe24ubWl4aW49ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMub3B0aW9ucz1wdCh0aGlzLm9wdGlvbnMsbiksdGhpc319KG4pO25wKG4pLGZ1bmN0aW9uKG4pe2xyLmZvckVhY2goZnVuY3Rpb24odCl7blt0XT1mdW5jdGlvbihuLGkpe3JldHVybiBpPygiY29tcG9uZW50Ij09PXQmJnYoaSkmJihpLm5hbWU9aS5uYW1lfHxuLGk9dGhpcy5vcHRpb25zLl9iYXNlLmV4dGVuZChpKSksImRpcmVjdGl2ZSI9PT10JiYiZnVuY3Rpb24iPT10eXBlb2YgaSYmKGk9e2JpbmQ6aSx1cGRhdGU6aX0pLHRoaXMub3B0aW9uc1t0KyJzIl1bbl09aSxpKTp0aGlzLm9wdGlvbnNbdCsicyJdW25dfX0pfShuKX0ocik7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIucHJvdG90eXBlLCIkaXNTZXJ2ZXIiLHtnZXQ6ZGl9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsIiRzc3JDb250ZXh0Iix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJHZub2RlJiZ0aGlzLiR2bm9kZS5zc3JDb250ZXh0fX0pO3IudmVyc2lvbj0iMi41LjEzIjt2YXIgeWUsaWEsd3IsYXQsYnIscGUsdHIsa3Isc3c9ZSgic3R5bGUsY2xhc3MiKSxodz1lKCJpbnB1dCx0ZXh0YXJlYSxvcHRpb24sc2VsZWN0LHByb2dyZXNzIikscmE9ZnVuY3Rpb24obix0LGkpe3JldHVybiJ2YWx1ZSI9PT1pJiZodyhuKSYmImJ1dHRvbiIhPT10fHwic2VsZWN0ZWQiPT09aSYmIm9wdGlvbiI9PT1ufHwiY2hlY2tlZCI9PT1pJiYiaW5wdXQiPT09bnx8Im11dGVkIj09PWkmJiJ2aWRlbyI9PT1ufSx1YT1lKCJjb250ZW50ZWRpdGFibGUsZHJhZ2dhYmxlLHNwZWxsY2hlY2siKSxjdz1lKCJhbGxvd2Z1bGxzY3JlZW4sYXN5bmMsYXV0b2ZvY3VzLGF1dG9wbGF5LGNoZWNrZWQsY29tcGFjdCxjb250cm9scyxkZWNsYXJlLGRlZmF1bHQsZGVmYXVsdGNoZWNrZWQsZGVmYXVsdG11dGVkLGRlZmF1bHRzZWxlY3RlZCxkZWZlcixkaXNhYmxlZCxlbmFibGVkLGZvcm1ub3ZhbGlkYXRlLGhpZGRlbixpbmRldGVybWluYXRlLGluZXJ0LGlzbWFwLGl0ZW1zY29wZSxsb29wLG11bHRpcGxlLG11dGVkLG5vaHJlZixub3Jlc2l6ZSxub3NoYWRlLG5vdmFsaWRhdGUsbm93cmFwLG9wZW4scGF1c2VvbmV4aXQscmVhZG9ubHkscmVxdWlyZWQscmV2ZXJzZWQsc2NvcGVkLHNlYW1sZXNzLHNlbGVjdGVkLHNvcnRhYmxlLHRyYW5zbGF0ZSx0cnVlc3BlZWQsdHlwZW11c3RtYXRjaCx2aXNpYmxlIiksd2U9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLGJlPWZ1bmN0aW9uKG4pe3JldHVybiI6Ij09PW4uY2hhckF0KDUpJiYieGxpbmsiPT09bi5zbGljZSgwLDUpfSxmYT1mdW5jdGlvbihuKXtyZXR1cm4gYmUobik/bi5zbGljZSg2LG4ubGVuZ3RoKToiIn0sZHI9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW58fCExPT09bn0sbHc9e3N2ZzoiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLG1hdGg6Imh0dHA6Ly93d3cudzMub3JnLzE5OTgvTWF0aC9NYXRoTUwifSxhdz1lKCJodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoMSxoMixoMyxoNCxoNSxoNixoZ3JvdXAsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ0YyxydWJ5LHMsc2FtcCxzbWFsbCxzcGFuLHN0cm9uZyxzdWIsc3VwLHRpbWUsdSx2YXIsd2JyLGFyZWEsYXVkaW8sbWFwLHRyYWNrLHZpZGVvLGVtYmVkLG9iamVjdCxwYXJhbSxzb3VyY2UsY2FudmFzLHNjcmlwdCxub3NjcmlwdCxkZWwsaW5zLGNhcHRpb24sY29sLGNvbGdyb3VwLHRhYmxlLHRoZWFkLHRib2R5LHRkLHRoLHRyLGJ1dHRvbixkYXRhbGlzdCxmaWVsZHNldCxmb3JtLGlucHV0LGxhYmVsLGxlZ2VuZCxtZXRlcixvcHRncm91cCxvcHRpb24sb3V0cHV0LHByb2dyZXNzLHNlbGVjdCx0ZXh0YXJlYSxkZXRhaWxzLGRpYWxvZyxtZW51LG1lbnVpdGVtLHN1bW1hcnksY29udGVudCxlbGVtZW50LHNoYWRvdyx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCIpLGVhPWUoInN2ZyxhbmltYXRlLGNpcmNsZSxjbGlwcGF0aCxjdXJzb3IsZGVmcyxkZXNjLGVsbGlwc2UsZmlsdGVyLGZvbnQtZmFjZSxmb3JlaWduT2JqZWN0LGcsZ2x5cGgsaW1hZ2UsbGluZSxtYXJrZXIsbWFzayxtaXNzaW5nLWdseXBoLHBhdGgscGF0dGVybixwb2x5Z29uLHBvbHlsaW5lLHJlY3Qsc3dpdGNoLHN5bWJvbCx0ZXh0LHRleHRwYXRoLHRzcGFuLHVzZSx2aWV3IiwhMCksa2U9ZnVuY3Rpb24obil7cmV0dXJuIGF3KG4pfHxlYShuKX0sZ3I9T2JqZWN0LmNyZWF0ZShudWxsKSxkZT1lKCJ0ZXh0LG51bWJlcixwYXNzd29yZCxzZWFyY2gsZW1haWwsdGVsLHVybCIpLHZ3PU9iamVjdC5mcmVlemUoe2NyZWF0ZUVsZW1lbnQ6ZnVuY3Rpb24obix0KXt2YXIgaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG4pO3JldHVybiJzZWxlY3QiIT09bj9pOih0LmRhdGEmJnQuZGF0YS5hdHRycyYmdm9pZCAwIT09dC5kYXRhLmF0dHJzLm11bHRpcGxlJiZpLnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLCJtdWx0aXBsZSIpLGkpfSxjcmVhdGVFbGVtZW50TlM6ZnVuY3Rpb24obix0KXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKGx3W25dLHQpfSxjcmVhdGVUZXh0Tm9kZTpmdW5jdGlvbihuKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobil9LGNyZWF0ZUNvbW1lbnQ6ZnVuY3Rpb24obil7cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQobil9LGluc2VydEJlZm9yZTpmdW5jdGlvbihuLHQsaSl7bi5pbnNlcnRCZWZvcmUodCxpKX0scmVtb3ZlQ2hpbGQ6ZnVuY3Rpb24obix0KXtuLnJlbW92ZUNoaWxkKHQpfSxhcHBlbmRDaGlsZDpmdW5jdGlvbihuLHQpe24uYXBwZW5kQ2hpbGQodCl9LHBhcmVudE5vZGU6ZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyZW50Tm9kZX0sbmV4dFNpYmxpbmc6ZnVuY3Rpb24obil7cmV0dXJuIG4ubmV4dFNpYmxpbmd9LHRhZ05hbWU6ZnVuY3Rpb24obil7cmV0dXJuIG4udGFnTmFtZX0sc2V0VGV4dENvbnRlbnQ6ZnVuY3Rpb24obix0KXtuLnRleHRDb250ZW50PXR9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihuLHQsaSl7bi5zZXRBdHRyaWJ1dGUodCxpKX19KSx5dz17Y3JlYXRlOmZ1bmN0aW9uKG4sdCl7ZmkodCl9LHVwZGF0ZTpmdW5jdGlvbihuLHQpe24uZGF0YS5yZWYhPT10LmRhdGEucmVmJiYoZmkobiwhMCksZmkodCkpfSxkZXN0cm95OmZ1bmN0aW9uKG4pe2ZpKG4sITApfX0sdGk9bmV3IGEoIiIse30sW10pLGlyPVsiY3JlYXRlIiwiYWN0aXZhdGUiLCJ1cGRhdGUiLCJyZW1vdmUiLCJkZXN0cm95Il0scHc9e2NyZWF0ZTpmZix1cGRhdGU6ZmYsZGVzdHJveTpmdW5jdGlvbihuKXtmZihuLHRpKX19LHd3PU9iamVjdC5jcmVhdGUobnVsbCksYnc9W3l3LHB3XSxrdz17Y3JlYXRlOm5oLHVwZGF0ZTpuaH0sZHc9e2NyZWF0ZTppaCx1cGRhdGU6aWh9LGd3PS9bXHcpLitcLV8kXF1dLyxudT0iX19yIixnZT0iX19jIixuYj17Y3JlYXRlOnNoLHVwZGF0ZTpzaH0sdGI9e2NyZWF0ZTpoaCx1cGRhdGU6aGh9LG9hPWsoZnVuY3Rpb24obil7dmFyIHQ9e30saT0vOiguKykvO3JldHVybiBuLnNwbGl0KC87KD8hW14oXSpcKSkvZykuZm9yRWFjaChmdW5jdGlvbihuKXtpZihuKXt2YXIgcj1uLnNwbGl0KGkpO3IubGVuZ3RoPjEmJih0W3JbMF0udHJpbSgpXT1yWzFdLnRyaW0oKSl9fSksdH0pLGliPS9eLS0vLHNhPS9ccyohaW1wb3J0YW50JC8saGE9ZnVuY3Rpb24obix0LGkpe3ZhciB1LHIsZjtpZihpYi50ZXN0KHQpKW4uc3R5bGUuc2V0UHJvcGVydHkodCxpKTtlbHNlIGlmKHNhLnRlc3QoaSkpbi5zdHlsZS5zZXRQcm9wZXJ0eSh0LGkucmVwbGFjZShzYSwiIiksImltcG9ydGFudCIpO2Vsc2UgaWYodT1yYih0KSxBcnJheS5pc0FycmF5KGkpKWZvcihyPTAsZj1pLmxlbmd0aDtyPGY7cisrKW4uc3R5bGVbdV09aVtyXTtlbHNlIG4uc3R5bGVbdV09aX0sY2E9WyJXZWJraXQiLCJNb3oiLCJtcyJdLHJiPWsoZnVuY3Rpb24obil7dmFyIHIsdCxpO2lmKGtyPWtyfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKS5zdHlsZSwiZmlsdGVyIiE9PShuPWl0KG4pKSYmbiBpbiBrcilyZXR1cm4gbjtmb3Iocj1uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSksdD0wO3Q8Y2EubGVuZ3RoO3QrKylpZihpPWNhW3RdK3IsaSBpbiBrcilyZXR1cm4gaX0pLHViPXtjcmVhdGU6bGgsdXBkYXRlOmxofSxsYT1rKGZ1bmN0aW9uKG4pe3JldHVybntlbnRlckNsYXNzOm4rIi1lbnRlciIsZW50ZXJUb0NsYXNzOm4rIi1lbnRlci10byIsZW50ZXJBY3RpdmVDbGFzczpuKyItZW50ZXItYWN0aXZlIixsZWF2ZUNsYXNzOm4rIi1sZWF2ZSIsbGVhdmVUb0NsYXNzOm4rIi1sZWF2ZS10byIsbGVhdmVBY3RpdmVDbGFzczpuKyItbGVhdmUtYWN0aXZlIn19KSxhYT1sJiYhY2ksYWk9InRyYW5zaXRpb24iLG5vPSJhbmltYXRpb24iLHR1PSJ0cmFuc2l0aW9uIixpdT0idHJhbnNpdGlvbmVuZCIsdG89ImFuaW1hdGlvbiIsdmE9ImFuaW1hdGlvbmVuZCI7YWEmJih2b2lkIDA9PT13aW5kb3cub250cmFuc2l0aW9uZW5kJiZ2b2lkIDAhPT13aW5kb3cub253ZWJraXR0cmFuc2l0aW9uZW5kJiYodHU9IldlYmtpdFRyYW5zaXRpb24iLGl1PSJ3ZWJraXRUcmFuc2l0aW9uRW5kIiksdm9pZCAwPT09d2luZG93Lm9uYW5pbWF0aW9uZW5kJiZ2b2lkIDAhPT13aW5kb3cub253ZWJraXRhbmltYXRpb25lbmQmJih0bz0iV2Via2l0QW5pbWF0aW9uIix2YT0id2Via2l0QW5pbWF0aW9uRW5kIikpO3ZhciB5YT1sP3dpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZS5iaW5kKHdpbmRvdyk6c2V0VGltZW91dDpmdW5jdGlvbihuKXtyZXR1cm4gbigpfSxmYj0vXGIodHJhbnNmb3JtfGFsbCkoLHwkKS8sZWI9ZnVuY3Rpb24oaSl7ZnVuY3Rpb24geSh0KXt2YXIgaT1yLnBhcmVudE5vZGUodCk7bihpKSYmci5yZW1vdmVDaGlsZChpLHQpfWZ1bmN0aW9uIHModCxpLGUsbyxzKXtpZih0LmlzUm9vdEluc2VydD0hcywhZnVuY3Rpb24odCxpLHIsZSl7dmFyIG89dC5kYXRhLHM7aWYobihvKSYmKHM9bih0LmNvbXBvbmVudEluc3RhbmNlKSYmby5rZWVwQWxpdmUsbihvPW8uaG9vaykmJm4obz1vLmluaXQpJiZvKHQsITEscixlKSxuKHQuY29tcG9uZW50SW5zdGFuY2UpKSlyZXR1cm4gZyh0LGkpLHUocykmJmZ1bmN0aW9uKHQsaSxyLHUpe2Zvcih2YXIgZSxvPXQ7by5jb21wb25lbnRJbnN0YW5jZTspaWYobz1vLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSxuKGU9by5kYXRhKSYmbihlPWUudHJhbnNpdGlvbikpe2ZvcihlPTA7ZTxmLmFjdGl2YXRlLmxlbmd0aDsrK2UpZi5hY3RpdmF0ZVtlXSh0aSxvKTtpLnB1c2gobyk7YnJlYWt9bChyLHQuZWxtLHUpfSh0LGkscixlKSwhMH0odCxpLGUsbykpe3ZhciBjPXQuZGF0YSxhPXQuY2hpbGRyZW4saD10LnRhZztuKGgpPyh0LmVsbT10Lm5zP3IuY3JlYXRlRWxlbWVudE5TKHQubnMsaCk6ci5jcmVhdGVFbGVtZW50KGgsdCksdHQodCksbnQodCxhLGkpLG4oYykmJncodCxpKSxsKGUsdC5lbG0sbykpOnUodC5pc0NvbW1lbnQpPyh0LmVsbT1yLmNyZWF0ZUNvbW1lbnQodC50ZXh0KSxsKGUsdC5lbG0sbykpOih0LmVsbT1yLmNyZWF0ZVRleHROb2RlKHQudGV4dCksbChlLHQuZWxtLG8pKX19ZnVuY3Rpb24gZyh0LGkpe24odC5kYXRhLnBlbmRpbmdJbnNlcnQpJiYoaS5wdXNoLmFwcGx5KGksdC5kYXRhLnBlbmRpbmdJbnNlcnQpLHQuZGF0YS5wZW5kaW5nSW5zZXJ0PW51bGwpO3QuZWxtPXQuY29tcG9uZW50SW5zdGFuY2UuJGVsO3AodCk/KHcodCxpKSx0dCh0KSk6KGZpKHQpLGkucHVzaCh0KSl9ZnVuY3Rpb24gbCh0LGksdSl7bih0KSYmKG4odSk/dS5wYXJlbnROb2RlPT09dCYmci5pbnNlcnRCZWZvcmUodCxpLHUpOnIuYXBwZW5kQ2hpbGQodCxpKSl9ZnVuY3Rpb24gbnQobix0LGkpe2lmKEFycmF5LmlzQXJyYXkodCkpZm9yKHZhciB1PTA7dTx0Lmxlbmd0aDsrK3Upcyh0W3VdLGksbi5lbG0sbnVsbCwhMCk7ZWxzZSB2aShuLnRleHQpJiZyLmFwcGVuZENoaWxkKG4uZWxtLHIuY3JlYXRlVGV4dE5vZGUoU3RyaW5nKG4udGV4dCkpKX1mdW5jdGlvbiBwKHQpe2Zvcig7dC5jb21wb25lbnRJbnN0YW5jZTspdD10LmNvbXBvbmVudEluc3RhbmNlLl92bm9kZTtyZXR1cm4gbih0LnRhZyl9ZnVuY3Rpb24gdyh0LGkpe2Zvcih2YXIgcj0wO3I8Zi5jcmVhdGUubGVuZ3RoOysrcilmLmNyZWF0ZVtyXSh0aSx0KTtuKG89dC5kYXRhLmhvb2spJiYobihvLmNyZWF0ZSkmJm8uY3JlYXRlKHRpLHQpLG4oby5pbnNlcnQpJiZpLnB1c2godCkpfWZ1bmN0aW9uIHR0KHQpe3ZhciBpLHU7aWYobihpPXQuZm5TY29wZUlkKSlyLnNldEF0dHJpYnV0ZSh0LmVsbSxpLCIiKTtlbHNlIGZvcih1PXQ7dTspbihpPXUuY29udGV4dCkmJm4oaT1pLiRvcHRpb25zLl9zY29wZUlkKSYmci5zZXRBdHRyaWJ1dGUodC5lbG0saSwiIiksdT11LnBhcmVudDtuKGk9bmkpJiZpIT09dC5jb250ZXh0JiZpIT09dC5mbkNvbnRleHQmJm4oaT1pLiRvcHRpb25zLl9zY29wZUlkKSYmci5zZXRBdHRyaWJ1dGUodC5lbG0saSwiIil9ZnVuY3Rpb24gaXQobix0LGkscix1LGYpe2Zvcig7cjw9dTsrK3IpcyhpW3JdLGYsbix0KX1mdW5jdGlvbiB2KHQpe3ZhciBpLHIsdT10LmRhdGE7aWYobih1KSlmb3IobihpPXUuaG9vaykmJm4oaT1pLmRlc3Ryb3kpJiZpKHQpLGk9MDtpPGYuZGVzdHJveS5sZW5ndGg7KytpKWYuZGVzdHJveVtpXSh0KTtpZihuKGk9dC5jaGlsZHJlbikpZm9yKHI9MDtyPHQuY2hpbGRyZW4ubGVuZ3RoOysrcil2KHQuY2hpbGRyZW5bcl0pfWZ1bmN0aW9uIGIodCxpLHIsdSl7Zm9yKDtyPD11Oysrcil7dmFyIGY9aVtyXTtuKGYpJiYobihmLnRhZyk/KHJ0KGYpLHYoZikpOnkoZi5lbG0pKX19ZnVuY3Rpb24gcnQodCxpKXtpZihuKGkpfHxuKHQuZGF0YSkpe3ZhciByLHU9Zi5yZW1vdmUubGVuZ3RoKzE7Zm9yKG4oaSk/aS5saXN0ZW5lcnMrPXU6aT1mdW5jdGlvbihuLHQpe2Z1bmN0aW9uIGkoKXswPT0tLWkubGlzdGVuZXJzJiZ5KG4pfXJldHVybiBpLmxpc3RlbmVycz10LGl9KHQuZWxtLHUpLG4ocj10LmNvbXBvbmVudEluc3RhbmNlKSYmbihyPXIuX3Zub2RlKSYmbihyLmRhdGEpJiZydChyLGkpLHI9MDtyPGYucmVtb3ZlLmxlbmd0aDsrK3IpZi5yZW1vdmVbcl0odCxpKTtuKHI9dC5kYXRhLmhvb2spJiZuKHI9ci5yZW1vdmUpP3IodCxpKTppKCl9ZWxzZSB5KHQuZWxtKX1mdW5jdGlvbiBldChpLHUsZixlLG8pe2Zvcih2YXIgZCxnLG50LHk9MCx3PTAsdj11Lmxlbmd0aC0xLGw9dVswXSxhPXVbdl0scD1mLmxlbmd0aC0xLGM9ZlswXSxrPWZbcF0sdHQ9IW87eTw9diYmdzw9cDspdChsKT9sPXVbKyt5XTp0KGEpP2E9dVstLXZdOnd0KGwsYyk/KGgobCxjLGUpLGw9dVsrK3ldLGM9ZlsrK3ddKTp3dChhLGspPyhoKGEsayxlKSxhPXVbLS12XSxrPWZbLS1wXSk6d3QobCxrKT8oaChsLGssZSksdHQmJnIuaW5zZXJ0QmVmb3JlKGksbC5lbG0sci5uZXh0U2libGluZyhhLmVsbSkpLGw9dVsrK3ldLGs9ZlstLXBdKTp3dChhLGMpPyhoKGEsYyxlKSx0dCYmci5pbnNlcnRCZWZvcmUoaSxhLmVsbSxsLmVsbSksYT11Wy0tdl0sYz1mWysrd10pOih0KGQpJiYoZD1pcCh1LHksdikpLHQoZz1uKGMua2V5KT9kW2Mua2V5XTpmdW5jdGlvbih0LGkscix1KXtmb3IodmFyIGUsZj1yO2Y8dTtmKyspaWYoZT1pW2ZdLG4oZSkmJnd0KHQsZSkpcmV0dXJuIGZ9KGMsdSx5LHYpKT9zKGMsZSxpLGwuZWxtKTp3dChudD11W2ddLGMpPyhoKG50LGMsZSksdVtnXT12b2lkIDAsdHQmJnIuaW5zZXJ0QmVmb3JlKGksbnQuZWxtLGwuZWxtKSk6cyhjLGUsaSxsLmVsbSksYz1mWysrd10pO3k+dj9pdChpLHQoZltwKzFdKT9udWxsOmZbcCsxXS5lbG0sZix3LHAsZSk6dz5wJiZiKDAsdSx5LHYpfWZ1bmN0aW9uIGgoaSxlLG8scyl7dmFyIHYsaCxjLGwsYTtpZihpIT09ZSlpZih2PWUuZWxtPWkuZWxtLHUoaS5pc0FzeW5jUGxhY2Vob2xkZXIpKW4oZS5hc3luY0ZhY3RvcnkucmVzb2x2ZWQpP2soaS5lbG0sZSxvKTplLmlzQXN5bmNQbGFjZWhvbGRlcj0hMDtlbHNlIGlmKHUoZS5pc1N0YXRpYykmJnUoaS5pc1N0YXRpYykmJmUua2V5PT09aS5rZXkmJih1KGUuaXNDbG9uZWQpfHx1KGUuaXNPbmNlKSkpZS5jb21wb25lbnRJbnN0YW5jZT1pLmNvbXBvbmVudEluc3RhbmNlO2Vsc2V7aWYoYz1lLmRhdGEsbihjKSYmbihoPWMuaG9vaykmJm4oaD1oLnByZXBhdGNoKSYmaChpLGUpLGw9aS5jaGlsZHJlbixhPWUuY2hpbGRyZW4sbihjKSYmcChlKSl7Zm9yKGg9MDtoPGYudXBkYXRlLmxlbmd0aDsrK2gpZi51cGRhdGVbaF0oaSxlKTtuKGg9Yy5ob29rKSYmbihoPWgudXBkYXRlKSYmaChpLGUpfXQoZS50ZXh0KT9uKGwpJiZuKGEpP2whPT1hJiZldCh2LGwsYSxvLHMpOm4oYSk/KG4oaS50ZXh0KSYmci5zZXRUZXh0Q29udGVudCh2LCIiKSxpdCh2LG51bGwsYSwwLGEubGVuZ3RoLTEsbykpOm4obCk/YigwLGwsMCxsLmxlbmd0aC0xKTpuKGkudGV4dCkmJnIuc2V0VGV4dENvbnRlbnQodiwiIik6aS50ZXh0IT09ZS50ZXh0JiZyLnNldFRleHRDb250ZW50KHYsZS50ZXh0KTtuKGMpJiZuKGg9Yy5ob29rKSYmbihoPWgucG9zdHBhdGNoKSYmaChpLGUpfX1mdW5jdGlvbiB1dCh0LGkscil7aWYodShyKSYmbih0LnBhcmVudCkpdC5wYXJlbnQuZGF0YS5wZW5kaW5nSW5zZXJ0PWk7ZWxzZSBmb3IodmFyIGY9MDtmPGkubGVuZ3RoOysrZilpW2ZdLmRhdGEuaG9vay5pbnNlcnQoaVtmXSl9ZnVuY3Rpb24gayh0LGkscixmKXt2YXIgZSx5PWkudGFnLG89aS5kYXRhLGg9aS5jaGlsZHJlbixsLHY7aWYoZj1mfHxvJiZvLnByZSxpLmVsbT10LHUoaS5pc0NvbW1lbnQpJiZuKGkuYXN5bmNGYWN0b3J5KSlyZXR1cm4gaS5pc0FzeW5jUGxhY2Vob2xkZXI9ITAsITA7aWYobihvKSYmKG4oZT1vLmhvb2spJiZuKGU9ZS5pbml0KSYmZShpLCEwKSxuKGU9aS5jb21wb25lbnRJbnN0YW5jZSkpKXJldHVybiBnKGksciksITA7aWYobih5KSl7aWYobihoKSlpZih0Lmhhc0NoaWxkTm9kZXMoKSlpZihuKGU9bykmJm4oZT1lLmRvbVByb3BzKSYmbihlPWUuaW5uZXJIVE1MKSl7aWYoZSE9PXQuaW5uZXJIVE1MKXJldHVybiExfWVsc2V7Zm9yKHZhciBhPSEwLHM9dC5maXJzdENoaWxkLGM9MDtjPGgubGVuZ3RoO2MrKyl7aWYoIXN8fCFrKHMsaFtjXSxyLGYpKXthPSExO2JyZWFrfXM9cy5uZXh0U2libGluZ31pZighYXx8cylyZXR1cm4hMX1lbHNlIG50KGksaCxyKTtpZihuKG8pKXtsPSExO2Zvcih2IGluIG8paWYoIWZ0KHYpKXtsPSEwO3coaSxyKTticmVha30hbCYmby5jbGFzcyYmYm8oby5jbGFzcyl9fWVsc2UgdC5kYXRhIT09aS50ZXh0JiYodC5kYXRhPWkudGV4dCk7cmV0dXJuITB9Zm9yKHZhciBjLGY9e30sZD1pLm1vZHVsZXMscj1pLm5vZGVPcHMsZnQsbz0wO288aXIubGVuZ3RoOysrbylmb3IoZltpcltvXV09W10sYz0wO2M8ZC5sZW5ndGg7KytjKW4oZFtjXVtpcltvXV0pJiZmW2lyW29dXS5wdXNoKGRbY11baXJbb11dKTtyZXR1cm4gZnQ9ZSgiYXR0cnMsY2xhc3Msc3RhdGljQ2xhc3Msc3RhdGljU3R5bGUsa2V5IiksZnVuY3Rpb24oaSxlLG8sYyxsLHkpe3ZhciBmdCxkLGV0LGcsb3QsdyxzdCxudCx0dCxpdCxydDtpZighdChlKSl7aWYoZnQ9ITEsZD1bXSx0KGkpKWZ0PSEwLHMoZSxkLGwseSk7ZWxzZSBpZihldD1uKGkubm9kZVR5cGUpLCFldCYmd3QoaSxlKSloKGksZSxkLGMpO2Vsc2V7aWYoZXQpe2lmKDE9PT1pLm5vZGVUeXBlJiZpLmhhc0F0dHJpYnV0ZShmbCkmJihpLnJlbW92ZUF0dHJpYnV0ZShmbCksbz0hMCksdShvKSYmayhpLGUsZCkpcmV0dXJuIHV0KGUsZCwhMCksaTtpPWZ1bmN0aW9uKG4pe3JldHVybiBuZXcgYShyLnRhZ05hbWUobikudG9Mb3dlckNhc2UoKSx7fSxbXSx2b2lkIDAsbil9KGkpfWlmKGc9aS5lbG0sb3Q9ci5wYXJlbnROb2RlKGcpLHMoZSxkLGcuX2xlYXZlQ2I/bnVsbDpvdCxyLm5leHRTaWJsaW5nKGcpKSxuKGUucGFyZW50KSlmb3Iodz1lLnBhcmVudCxzdD1wKGUpO3c7KXtmb3IobnQ9MDtudDxmLmRlc3Ryb3kubGVuZ3RoOysrbnQpZi5kZXN0cm95W250XSh3KTtpZih3LmVsbT1lLmVsbSxzdCl7Zm9yKHR0PTA7dHQ8Zi5jcmVhdGUubGVuZ3RoOysrdHQpZi5jcmVhdGVbdHRdKHRpLHcpO2lmKGl0PXcuZGF0YS5ob29rLmluc2VydCxpdC5tZXJnZWQpZm9yKHJ0PTE7cnQ8aXQuZm5zLmxlbmd0aDtydCsrKWl0LmZuc1tydF0oKX1lbHNlIGZpKHcpO3c9dy5wYXJlbnR9bihvdCk/YigwLFtpXSwwLDApOm4oaS50YWcpJiZ2KGkpfXJldHVybiB1dChlLGQsZnQpLGUuZWxtfW4oaSkmJnYoaSl9fSh7bm9kZU9wczp2dyxtb2R1bGVzOltrdyxkdyxuYix0Yix1YixsP3tjcmVhdGU6dGMsYWN0aXZhdGU6dGMscmVtb3ZlOmZ1bmN0aW9uKG4sdCl7ITAhPT1uLmRhdGEuc2hvdz9naChuLHQpOnQoKX19Ont9XS5jb25jYXQoYncpfSk7Y2kmJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInNlbGVjdGlvbmNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgbj1kb2N1bWVudC5hY3RpdmVFbGVtZW50O24mJm4udm1vZGVsJiZ5ZihuLCJpbnB1dCIpfSk7dmFyIHBhPXtpbnNlcnRlZDpmdW5jdGlvbihuLHQsaSxyKXsic2VsZWN0Ij09PWkudGFnPyhyLmVsbSYmIXIuZWxtLl92T3B0aW9ucz9sdChpLCJwb3N0cGF0Y2giLGZ1bmN0aW9uKCl7cGEuY29tcG9uZW50VXBkYXRlZChuLHQsaSl9KTppYyhuLHQsaS5jb250ZXh0KSxuLl92T3B0aW9ucz1bXS5tYXAuY2FsbChuLm9wdGlvbnMsaHIpKTooInRleHRhcmVhIj09PWkudGFnfHxkZShuLnR5cGUpKSYmKG4uX3ZNb2RpZmllcnM9dC5tb2RpZmllcnMsdC5tb2RpZmllcnMubGF6eXx8KG4uYWRkRXZlbnRMaXN0ZW5lcigiY2hhbmdlIixmYyksZ3B8fChuLmFkZEV2ZW50TGlzdGVuZXIoImNvbXBvc2l0aW9uc3RhcnQiLGZwKSxuLmFkZEV2ZW50TGlzdGVuZXIoImNvbXBvc2l0aW9uZW5kIixmYykpLGNpJiYobi52bW9kZWw9ITApKSl9LGNvbXBvbmVudFVwZGF0ZWQ6ZnVuY3Rpb24obix0LGkpe2lmKCJzZWxlY3QiPT09aS50YWcpe2ljKG4sdCxpLmNvbnRleHQpO3ZhciB1PW4uX3ZPcHRpb25zLHI9bi5fdk9wdGlvbnM9W10ubWFwLmNhbGwobi5vcHRpb25zLGhyKTtyLnNvbWUoZnVuY3Rpb24obix0KXtyZXR1cm4hdnQobix1W3RdKX0pJiYobi5tdWx0aXBsZT90LnZhbHVlLnNvbWUoZnVuY3Rpb24obil7cmV0dXJuIHVjKG4scil9KTp0LnZhbHVlIT09dC5vbGRWYWx1ZSYmdWModC52YWx1ZSxyKSkmJnlmKG4sImNoYW5nZSIpfX19LG9iPXttb2RlbDpwYSxzaG93OntiaW5kOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10LnZhbHVlLGY9KGk9cGYoaSkpLmRhdGEmJmkuZGF0YS50cmFuc2l0aW9uLHU9bi5fX3ZPcmlnaW5hbERpc3BsYXk9Im5vbmUiPT09bi5zdHlsZS5kaXNwbGF5PyIiOm4uc3R5bGUuZGlzcGxheTtyJiZmPyhpLmRhdGEuc2hvdz0hMCxhZihpLGZ1bmN0aW9uKCl7bi5zdHlsZS5kaXNwbGF5PXV9KSk6bi5zdHlsZS5kaXNwbGF5PXI/dToibm9uZSJ9LHVwZGF0ZTpmdW5jdGlvbihuLHQsaSl7dmFyIHI9dC52YWx1ZTtyIT09dC5vbGRWYWx1ZSYmKChpPXBmKGkpKS5kYXRhJiZpLmRhdGEudHJhbnNpdGlvbj8oaS5kYXRhLnNob3c9ITAscj9hZihpLGZ1bmN0aW9uKCl7bi5zdHlsZS5kaXNwbGF5PW4uX192T3JpZ2luYWxEaXNwbGF5fSk6Z2goaSxmdW5jdGlvbigpe24uc3R5bGUuZGlzcGxheT0ibm9uZSJ9KSk6bi5zdHlsZS5kaXNwbGF5PXI/bi5fX3ZPcmlnaW5hbERpc3BsYXk6Im5vbmUiKX0sdW5iaW5kOmZ1bmN0aW9uKG4sdCxpLHIsdSl7dXx8KG4uc3R5bGUuZGlzcGxheT1uLl9fdk9yaWdpbmFsRGlzcGxheSl9fX0sd2E9e25hbWU6U3RyaW5nLGFwcGVhcjpCb29sZWFuLGNzczpCb29sZWFuLG1vZGU6U3RyaW5nLHR5cGU6U3RyaW5nLGVudGVyQ2xhc3M6U3RyaW5nLGxlYXZlQ2xhc3M6U3RyaW5nLGVudGVyVG9DbGFzczpTdHJpbmcsbGVhdmVUb0NsYXNzOlN0cmluZyxlbnRlckFjdGl2ZUNsYXNzOlN0cmluZyxsZWF2ZUFjdGl2ZUNsYXNzOlN0cmluZyxhcHBlYXJDbGFzczpTdHJpbmcsYXBwZWFyQWN0aXZlQ2xhc3M6U3RyaW5nLGFwcGVhclRvQ2xhc3M6U3RyaW5nLGR1cmF0aW9uOltOdW1iZXIsU3RyaW5nLE9iamVjdF19LHNiPXtuYW1lOiJ0cmFuc2l0aW9uIixwcm9wczp3YSxhYnN0cmFjdDohMCxyZW5kZXI6ZnVuY3Rpb24obil7dmFyIGw9dGhpcyxlPXRoaXMuJHNsb3RzLmRlZmF1bHQsbyx1LHQsZixoLHYsYztpZihlJiYoZT1lLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbi50YWd8fGVyKG4pfSkpLmxlbmd0aCl7aWYoKG89dGhpcy5tb2RlLHU9ZVswXSxmdW5jdGlvbihuKXtmb3IoO249bi5wYXJlbnQ7KWlmKG4uZGF0YS50cmFuc2l0aW9uKXJldHVybiEwfSh0aGlzLiR2bm9kZSkpfHwodD13Zih1KSwhdCkpcmV0dXJuIHU7aWYodGhpcy5fbGVhdmluZylyZXR1cm4gb2Mobix1KTtmPSJfX3RyYW5zaXRpb24tIit0aGlzLl91aWQrIi0iO3Qua2V5PW51bGw9PXQua2V5P3QuaXNDb21tZW50P2YrImNvbW1lbnQiOmYrdC50YWc6dmkodC5rZXkpPzA9PT1TdHJpbmcodC5rZXkpLmluZGV4T2YoZik/dC5rZXk6Zit0LmtleTp0LmtleTt2YXIgcz0odC5kYXRhfHwodC5kYXRhPXt9KSkudHJhbnNpdGlvbj1lYyh0aGlzKSxhPXRoaXMuX3Zub2RlLHI9d2YoYSk7aWYodC5kYXRhLmRpcmVjdGl2ZXMmJnQuZGF0YS5kaXJlY3RpdmVzLnNvbWUoZnVuY3Rpb24obil7cmV0dXJuInNob3ciPT09bi5uYW1lfSkmJih0LmRhdGEuc2hvdz0hMCksciYmci5kYXRhJiYhZnVuY3Rpb24obix0KXtyZXR1cm4gdC5rZXk9PT1uLmtleSYmdC50YWc9PT1uLnRhZ30odCxyKSYmIWVyKHIpJiYoIXIuY29tcG9uZW50SW5zdGFuY2V8fCFyLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZS5pc0NvbW1lbnQpKXtpZihoPXIuZGF0YS50cmFuc2l0aW9uPWkoe30scyksIm91dC1pbiI9PT1vKXJldHVybiB0aGlzLl9sZWF2aW5nPSEwLGx0KGgsImFmdGVyTGVhdmUiLGZ1bmN0aW9uKCl7bC5fbGVhdmluZz0hMTtsLiRmb3JjZVVwZGF0ZSgpfSksb2Mobix1KTtpZigiaW4tb3V0Ij09PW8pe2lmKGVyKHQpKXJldHVybiBhO2M9ZnVuY3Rpb24oKXt2KCl9O2x0KHMsImFmdGVyRW50ZXIiLGMpO2x0KHMsImVudGVyQ2FuY2VsbGVkIixjKTtsdChoLCJkZWxheUxlYXZlIixmdW5jdGlvbihuKXt2PW59KX19cmV0dXJuIHV9fX0sYmE9aSh7dGFnOlN0cmluZyxtb3ZlQ2xhc3M6U3RyaW5nfSx3YSk7ZGVsZXRlIGJhLm1vZGU7a2E9e1RyYW5zaXRpb246c2IsVHJhbnNpdGlvbkdyb3VwOntwcm9wczpiYSxyZW5kZXI6ZnVuY3Rpb24obil7Zm9yKHZhciB0LGksZT10aGlzLnRhZ3x8dGhpcy4kdm5vZGUuZGF0YS50YWd8fCJzcGFuIixvPU9iamVjdC5jcmVhdGUobnVsbCkscj10aGlzLnByZXZDaGlsZHJlbj10aGlzLmNoaWxkcmVuLHM9dGhpcy4kc2xvdHMuZGVmYXVsdHx8W10saD10aGlzLmNoaWxkcmVuPVtdLGM9ZWModGhpcyksdT0wO3U8cy5sZW5ndGg7dSsrKXQ9c1t1XSx0LnRhZyYmbnVsbCE9dC5rZXkmJjAhPT1TdHJpbmcodC5rZXkpLmluZGV4T2YoIl9fdmxpc3QiKSYmKGgucHVzaCh0KSxvW3Qua2V5XT10LCh0LmRhdGF8fCh0LmRhdGE9e30pKS50cmFuc2l0aW9uPWMpO2lmKHIpe2Zvcih2YXIgbD1bXSxhPVtdLGY9MDtmPHIubGVuZ3RoO2YrKylpPXJbZl0saS5kYXRhLnRyYW5zaXRpb249YyxpLmRhdGEucG9zPWkuZWxtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG9baS5rZXldP2wucHVzaChpKTphLnB1c2goaSk7dGhpcy5rZXB0PW4oZSxudWxsLGwpO3RoaXMucmVtb3ZlZD1hfXJldHVybiBuKGUsbnVsbCxoKX0sYmVmb3JlVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5fX3BhdGNoX18odGhpcy5fdm5vZGUsdGhpcy5rZXB0LCExLCEwKTt0aGlzLl92bm9kZT10aGlzLmtlcHR9LHVwZGF0ZWQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLnByZXZDaGlsZHJlbix0PXRoaXMubW92ZUNsYXNzfHwodGhpcy5uYW1lfHwidiIpKyItbW92ZSI7bi5sZW5ndGgmJnRoaXMuaGFzTW92ZShuWzBdLmVsbSx0KSYmKG4uZm9yRWFjaChlcCksbi5mb3JFYWNoKG9wKSxuLmZvckVhY2goc3ApLHRoaXMuX3JlZmxvdz1kb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodCxuLmZvckVhY2goZnVuY3Rpb24obil7aWYobi5kYXRhLm1vdmVkKXt2YXIgaT1uLmVsbSxyPWkuc3R5bGU7ZHQoaSx0KTtyLnRyYW5zZm9ybT1yLldlYmtpdFRyYW5zZm9ybT1yLnRyYW5zaXRpb25EdXJhdGlvbj0iIjtpLmFkZEV2ZW50TGlzdGVuZXIoaXUsaS5fbW92ZUNiPWZ1bmN0aW9uIG4ocil7ciYmIS90cmFuc2Zvcm0kLy50ZXN0KHIucHJvcGVydHlOYW1lKXx8KGkucmVtb3ZlRXZlbnRMaXN0ZW5lcihpdSxuKSxpLl9tb3ZlQ2I9bnVsbCx1dChpLHQpKX0pfX0pKX0sbWV0aG9kczp7aGFzTW92ZTpmdW5jdGlvbihuLHQpe3ZhciBpLHI7cmV0dXJuIGFhP3RoaXMuX2hhc01vdmU/dGhpcy5faGFzTW92ZTooaT1uLmNsb25lTm9kZSgpLG4uX3RyYW5zaXRpb25DbGFzc2VzJiZuLl90cmFuc2l0aW9uQ2xhc3Nlcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZoKGksbil9KSxhaChpLHQpLGkuc3R5bGUuZGlzcGxheT0ibm9uZSIsdGhpcy4kZWwuYXBwZW5kQ2hpbGQoaSkscj1iaChpKSx0aGlzLiRlbC5yZW1vdmVDaGlsZChpKSx0aGlzLl9oYXNNb3ZlPXIuaGFzVHJhbnNmb3JtKTohMX19fX07ci5jb25maWcubXVzdFVzZVByb3A9cmE7ci5jb25maWcuaXNSZXNlcnZlZFRhZz1rZTtyLmNvbmZpZy5pc1Jlc2VydmVkQXR0cj1zdztyLmNvbmZpZy5nZXRUYWdOYW1lc3BhY2U9ZHM7ci5jb25maWcuaXNVbmtub3duRWxlbWVudD1mdW5jdGlvbihuKXtpZighbClyZXR1cm4hMDtpZihrZShuKSlyZXR1cm4hMTtpZihuPW4udG9Mb3dlckNhc2UoKSxudWxsIT1ncltuXSlyZXR1cm4gZ3Jbbl07dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuKTtyZXR1cm4gZ3Jbbl09bi5pbmRleE9mKCItIik+LTE/dC5jb25zdHJ1Y3Rvcj09PXdpbmRvdy5IVE1MVW5rbm93bkVsZW1lbnR8fHQuY29uc3RydWN0b3I9PT13aW5kb3cuSFRNTEVsZW1lbnQ6L0hUTUxVbmtub3duRWxlbWVudC8udGVzdCh0LnRvU3RyaW5nKCkpfTtpKHIub3B0aW9ucy5kaXJlY3RpdmVzLG9iKTtpKHIub3B0aW9ucy5jb21wb25lbnRzLGthKTtyLnByb3RvdHlwZS5fX3BhdGNoX189bD9lYjpvO3IucHJvdG90eXBlLiRtb3VudD1mdW5jdGlvbihuLHQpe3JldHVybiBuPW4mJmw/dWYobik6dm9pZCAwLGZ1bmN0aW9uKG4sdCxpKXtuLiRlbD10O24uJG9wdGlvbnMucmVuZGVyfHwobi4kb3B0aW9ucy5yZW5kZXI9Z3QpO2QobiwiYmVmb3JlTW91bnQiKTt2YXIgcjtyZXR1cm4gcj1mdW5jdGlvbigpe24uX3VwZGF0ZShuLl9yZW5kZXIoKSxpKX0sbmV3IHR0KG4scixvLG51bGwsITApLGk9ITEsbnVsbD09bi4kdm5vZGUmJihuLl9pc01vdW50ZWQ9ITAsZChuLCJtb3VudGVkIikpLG59KHRoaXMsbix0KX07ci5uZXh0VGljayhmdW5jdGlvbigpe3cuZGV2dG9vbHMmJnZyJiZ2ci5lbWl0KCJpbml0IixyKX0sMCk7dmFyIHJ1LGhiPS9ce1x7KCg/Oi58XG4pKz8pXH1cfS9nLGRhPS9bLS4qKz9eJHt9KCl8W1xdXC9cXF0vZyxjYj1rKGZ1bmN0aW9uKG4pe3ZhciB0PW5bMF0ucmVwbGFjZShkYSwiXFwkJiIpLGk9blsxXS5yZXBsYWNlKGRhLCJcXCQmIik7cmV0dXJuIG5ldyBSZWdFeHAodCsiKCg/Oi58XFxuKSs/KSIraSwiZyIpfSksbGI9e3N0YXRpY0tleXM6WyJzdGF0aWNDbGFzcyJdLHRyYW5zZm9ybU5vZGU6ZnVuY3Rpb24obix0KXt2YXIgaSxyO3Qud2FybjtpPWYobiwiY2xhc3MiKTtpJiYobi5zdGF0aWNDbGFzcz1KU09OLnN0cmluZ2lmeShpKSk7cj15KG4sImNsYXNzIiwhMSk7ciYmKG4uY2xhc3NCaW5kaW5nPXIpfSxnZW5EYXRhOmZ1bmN0aW9uKG4pe3ZhciB0PSIiO3JldHVybiBuLnN0YXRpY0NsYXNzJiYodCs9InN0YXRpY0NsYXNzOiIrbi5zdGF0aWNDbGFzcysiLCIpLG4uY2xhc3NCaW5kaW5nJiYodCs9ImNsYXNzOiIrbi5jbGFzc0JpbmRpbmcrIiwiKSx0fX0sYWI9e3N0YXRpY0tleXM6WyJzdGF0aWNTdHlsZSJdLHRyYW5zZm9ybU5vZGU6ZnVuY3Rpb24obix0KXt2YXIgaSxyO3Qud2FybjtpPWYobiwic3R5bGUiKTtpJiYobi5zdGF0aWNTdHlsZT1KU09OLnN0cmluZ2lmeShvYShpKSkpO3I9eShuLCJzdHlsZSIsITEpO3ImJihuLnN0eWxlQmluZGluZz1yKX0sZ2VuRGF0YTpmdW5jdGlvbihuKXt2YXIgdD0iIjtyZXR1cm4gbi5zdGF0aWNTdHlsZSYmKHQrPSJzdGF0aWNTdHlsZToiK24uc3RhdGljU3R5bGUrIiwiKSxuLnN0eWxlQmluZGluZyYmKHQrPSJzdHlsZTooIituLnN0eWxlQmluZGluZysiKSwiKSx0fX0sdmI9ZnVuY3Rpb24obil7cmV0dXJuIHJ1PXJ1fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxydS5pbm5lckhUTUw9bixydS50ZXh0Q29udGVudH0seWI9ZSgiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxmcmFtZSxocixpbWcsaW5wdXQsaXNpbmRleCxrZXlnZW4sbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnIiKSxwYj1lKCJjb2xncm91cCxkZCxkdCxsaSxvcHRpb25zLHAsdGQsdGZvb3QsdGgsdGhlYWQsdHIsc291cmNlIiksd2I9ZSgiYWRkcmVzcyxhcnRpY2xlLGFzaWRlLGJhc2UsYmxvY2txdW90ZSxib2R5LGNhcHRpb24sY29sLGNvbGdyb3VwLGRkLGRldGFpbHMsZGlhbG9nLGRpdixkbCxkdCxmaWVsZHNldCxmaWdjYXB0aW9uLGZpZ3VyZSxmb290ZXIsZm9ybSxoMSxoMixoMyxoNCxoNSxoNixoZWFkLGhlYWRlcixoZ3JvdXAsaHIsaHRtbCxsZWdlbmQsbGksbWVudWl0ZW0sbWV0YSxvcHRncm91cCxvcHRpb24scGFyYW0scnAscnQsc291cmNlLHN0eWxlLHN1bW1hcnksdGJvZHksdGQsdGZvb3QsdGgsdGhlYWQsdGl0bGUsdHIsdHJhY2siKSxiYj0vXlxzKihbXlxzIic8PlwvPV0rKSg/OlxzKig9KVxzKig/OiIoW14iXSopIit8JyhbXiddKiknK3woW15ccyInPTw+YF0rKSkpPy8sZ2E9IlthLXpBLVpfXVtcXHdcXC1cXC5dKiIsbnY9IigoPzoiK2dhKyJcXDopPyIrZ2ErIikiLHR2PW5ldyBSZWdFeHAoIl48Iitudiksa2I9L15ccyooXC8/KT4vLGl2PW5ldyBSZWdFeHAoIl48XFwvIitudisiW14+XSo+IiksZGI9L148IURPQ1RZUEUgW14+XSs+L2kscnY9L148IS0tLyx1dj0vXjwhXFsvLGZ2PSExOyJ4Ii5yZXBsYWNlKC94KC4pPy9nLGZ1bmN0aW9uKG4sdCl7ZnY9IiI9PT10fSk7dmFyIGV2LG92LGlvLHJvLHVvLGZvLGVvLHN2LGh2LG9vLHV1LGN2PWUoInNjcmlwdCxzdHlsZSx0ZXh0YXJlYSIsITApLGx2PXt9LGdiPXsiJmx0OyI6IjwiLCImZ3Q7IjoiPiIsIiZxdW90OyI6JyInLCImYW1wOyI6IiYiLCImIzEwOyI6IlxuIiwiJiM5OyI6Ilx0In0sbms9LyYoPzpsdHxndHxxdW90fGFtcCk7L2csdGs9LyYoPzpsdHxndHxxdW90fGFtcHwjMTB8IzkpOy9nLGlrPWUoInByZSx0ZXh0YXJlYSIsITApLGF2PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4mJmlrKG4pJiYiXG4iPT09dFswXX0sdnY9L15AfF52LW9uOi8seXY9L152LXxeQHxeOi8scms9LyguKj8pXHMrKD86aW58b2YpXHMrKC4qKS8scHY9LywoW14sXH1cXV0qKSg/OiwoW14sXH1cXV0qKSk/JC8sdWs9L15cKHxcKSQvZyxmaz0vOiguKikkLyx3dj0vXjp8XnYtYmluZDovLGJ2PS9cLlteLl0rL2csZWs9ayh2Yiksb2s9L154bWxuczpOU1xkKy8sc2s9L15OU1xkKzovLGt2PVtsYixhYix7cHJlVHJhbnNmb3JtTm9kZTpmdW5jdGlvbihuLHQpe3ZhciBlLHIsdTtpZigiaW5wdXQiPT09bi50YWcmJihlPW4uYXR0cnNNYXAsZVsidi1tb2RlbCJdJiYoZVsidi1iaW5kOnR5cGUiXXx8ZVsiOnR5cGUiXSkpKXt2YXIgbz15KG4sInR5cGUiKSxzPWYobiwidi1pZiIsITApLGg9cz8iJiYoIitzKyIpIjoiIixsPW51bGwhPWYobiwidi1lbHNlIiwhMCksYz1mKG4sInYtZWxzZS1pZiIsITApLGk9YmYobik7cmV0dXJuIGhjKGkpLHNmKGksInR5cGUiLCJjaGVja2JveCIpLGNyKGksdCksaS5wcm9jZXNzZWQ9ITAsaS5pZj0iKCIrbysiKT09PSdjaGVja2JveCciK2gsb2koaSx7ZXhwOmkuaWYsYmxvY2s6aX0pLHI9YmYobiksZihyLCJ2LWZvciIsITApLHNmKHIsInR5cGUiLCJyYWRpbyIpLGNyKHIsdCksb2koaSx7ZXhwOiIoIitvKyIpPT09J3JhZGlvJyIraCxibG9jazpyfSksdT1iZihuKSxmKHUsInYtZm9yIiwhMCksc2YodSwiOnR5cGUiLG8pLGNyKHUsdCksb2koaSx7ZXhwOnMsYmxvY2s6dX0pLGw/aS5lbHNlPSEwOmMmJihpLmVsc2VpZj1jKSxpfX19XSxoaz17ZXhwZWN0SFRNTDohMCxtb2R1bGVzOmt2LGRpcmVjdGl2ZXM6e21vZGVsOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dC52YWx1ZSxyPXQubW9kaWZpZXJzLHU9bi50YWcsZj1uLmF0dHJzTWFwLnR5cGU7aWYobi5jb21wb25lbnQpcmV0dXJuIHVoKG4saSxyKSwhMTtpZigic2VsZWN0Ij09PXUpIWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj0ndmFyICQkc2VsZWN0ZWRWYWwgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoJGV2ZW50LnRhcmdldC5vcHRpb25zLGZ1bmN0aW9uKG8pe3JldHVybiBvLnNlbGVjdGVkfSkubWFwKGZ1bmN0aW9uKG8pe3ZhciB2YWwgPSAiX3ZhbHVlIiBpbiBvID8gby5fdmFsdWUgOiBvLnZhbHVlO3JldHVybiAnKyhpJiZpLm51bWJlcj8iX24odmFsKSI6InZhbCIpKyJ9KTsiO3I9cisiICIrZWkodCwiJGV2ZW50LnRhcmdldC5tdWx0aXBsZSA/ICQkc2VsZWN0ZWRWYWwgOiAkJHNlbGVjdGVkVmFsWzBdIik7a3QobiwiY2hhbmdlIixyLG51bGwsITApfShuLGkscik7ZWxzZSBpZigiaW5wdXQiPT09dSYmImNoZWNrYm94Ij09PWYpIWZ1bmN0aW9uKG4sdCxpKXt2YXIgZj1pJiZpLm51bWJlcixyPXkobiwidmFsdWUiKXx8Im51bGwiLHU9eShuLCJ0cnVlLXZhbHVlIil8fCJ0cnVlIixlPXkobiwiZmFsc2UtdmFsdWUiKXx8ImZhbHNlIjtidChuLCJjaGVja2VkIiwiQXJyYXkuaXNBcnJheSgiK3QrIik/X2koIit0KyIsIityKyIpPi0xIisoInRydWUiPT09dT8iOigiK3QrIikiOiI6X3EoIit0KyIsIit1KyIpIikpO2t0KG4sImNoYW5nZSIsInZhciAkJGE9Iit0KyIsJCRlbD0kZXZlbnQudGFyZ2V0LCQkYz0kJGVsLmNoZWNrZWQ/KCIrdSsiKTooIitlKyIpO2lmKEFycmF5LmlzQXJyYXkoJCRhKSl7dmFyICQkdj0iKyhmPyJfbigiK3IrIikiOnIpKyIsJCRpPV9pKCQkYSwkJHYpO2lmKCQkZWwuY2hlY2tlZCl7JCRpPDAmJigiK3QrIj0kJGEuY29uY2F0KFskJHZdKSl9ZWxzZXskJGk+LTEmJigiK3QrIj0kJGEuc2xpY2UoMCwkJGkpLmNvbmNhdCgkJGEuc2xpY2UoJCRpKzEpKSl9fWVsc2V7IitlaSh0LCIkJGMiKSsifSIsbnVsbCwhMCl9KG4saSxyKTtlbHNlIGlmKCJpbnB1dCI9PT11JiYicmFkaW8iPT09ZikhZnVuY3Rpb24obix0LGkpe3ZhciB1PWkmJmkubnVtYmVyLHI9eShuLCJ2YWx1ZSIpfHwibnVsbCI7YnQobiwiY2hlY2tlZCIsIl9xKCIrdCsiLCIrKHI9dT8iX24oIityKyIpIjpyKSsiKSIpO2t0KG4sImNoYW5nZSIsZWkodCxyKSxudWxsLCEwKX0obixpLHIpO2Vsc2UgaWYoImlucHV0Ij09PXV8fCJ0ZXh0YXJlYSI9PT11KSFmdW5jdGlvbihuLHQsaSl7dmFyIGU9bi5hdHRyc01hcC50eXBlLGY9aXx8e30sbz1mLmxhenkscz1mLm51bWJlcixoPWYudHJpbSxjPSFvJiYicmFuZ2UiIT09ZSxsPW8/ImNoYW5nZSI6InJhbmdlIj09PWU/bnU6ImlucHV0IixyPSIkZXZlbnQudGFyZ2V0LnZhbHVlIix1O2gmJihyPSIkZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKSIpO3MmJihyPSJfbigiK3IrIikiKTt1PWVpKHQscik7YyYmKHU9ImlmKCRldmVudC50YXJnZXQuY29tcG9zaW5nKXJldHVybjsiK3UpO2J0KG4sInZhbHVlIiwiKCIrdCsiKSIpO2t0KG4sbCx1LG51bGwsITApOyhofHxzKSYma3QobiwiYmx1ciIsIiRmb3JjZVVwZGF0ZSgpIil9KG4saSxyKTtlbHNlIGlmKCF3LmlzUmVzZXJ2ZWRUYWcodSkpcmV0dXJuIHVoKG4saSxyKSwhMTtyZXR1cm4hMH0sdGV4dDpmdW5jdGlvbihuLHQpe3QudmFsdWUmJmJ0KG4sInRleHRDb250ZW50IiwiX3MoIit0LnZhbHVlKyIpIil9LGh0bWw6ZnVuY3Rpb24obix0KXt0LnZhbHVlJiZidChuLCJpbm5lckhUTUwiLCJfcygiK3QudmFsdWUrIikiKX19LGlzUHJlVGFnOmZ1bmN0aW9uKG4pe3JldHVybiJwcmUiPT09bn0saXNVbmFyeVRhZzp5YixtdXN0VXNlUHJvcDpyYSxjYW5CZUxlZnRPcGVuVGFnOnBiLGlzUmVzZXJ2ZWRUYWc6a2UsZ2V0VGFnTmFtZXNwYWNlOmRzLHN0YXRpY0tleXM6ZnVuY3Rpb24obil7cmV0dXJuIG4ucmVkdWNlKGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4uY29uY2F0KHQuc3RhdGljS2V5c3x8W10pfSxbXSkuam9pbigiLCIpfShrdil9LGNrPWsoZnVuY3Rpb24obil7cmV0dXJuIGUoInR5cGUsdGFnLGF0dHJzTGlzdCxhdHRyc01hcCxwbGFpbixwYXJlbnQsY2hpbGRyZW4sYXR0cnMiKyhuPyIsIituOiIiKSl9KSxsaz0vXlxzKihbXHckX10rfFwoW14pXSo/XCkpXHMqPT58XmZ1bmN0aW9uXHMqXCgvLGFrPS9eXHMqW0EtWmEtel8kXVtcdyRdKig/OlwuW0EtWmEtel8kXVtcdyRdKnxcWycuKj8nXXxcWyIuKj8iXXxcW1xkK118XFtbQS1aYS16XyRdW1x3JF0qXSkqXHMqJC8sZHY9e2VzYzoyNyx0YWI6OSxlbnRlcjoxMyxzcGFjZTozMix1cDozOCxsZWZ0OjM3LHJpZ2h0OjM5LGRvd246NDAsImRlbGV0ZSI6WzgsNDZdfSxzdD1mdW5jdGlvbihuKXtyZXR1cm4iaWYoIituKyIpcmV0dXJuIG51bGw7In0sZ3Y9e3N0b3A6IiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsiLHByZXZlbnQ6IiRldmVudC5wcmV2ZW50RGVmYXVsdCgpOyIsc2VsZjpzdCgiJGV2ZW50LnRhcmdldCAhPT0gJGV2ZW50LmN1cnJlbnRUYXJnZXQiKSxjdHJsOnN0KCIhJGV2ZW50LmN0cmxLZXkiKSxzaGlmdDpzdCgiISRldmVudC5zaGlmdEtleSIpLGFsdDpzdCgiISRldmVudC5hbHRLZXkiKSxtZXRhOnN0KCIhJGV2ZW50Lm1ldGFLZXkiKSxsZWZ0OnN0KCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMCIpLG1pZGRsZTpzdCgiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDEiKSxyaWdodDpzdCgiJ2J1dHRvbicgaW4gJGV2ZW50ICYmICRldmVudC5idXR0b24gIT09IDIiKX0sdms9e29uOmZ1bmN0aW9uKG4sdCl7bi53cmFwTGlzdGVuZXJzPWZ1bmN0aW9uKG4pe3JldHVybiJfZygiK24rIiwiK3QudmFsdWUrIikifX0sYmluZDpmdW5jdGlvbihuLHQpe24ud3JhcERhdGE9ZnVuY3Rpb24oaSl7cmV0dXJuIl9iKCIraSsiLCciK24udGFnKyInLCIrdC52YWx1ZSsiLCIrKHQubW9kaWZpZXJzJiZ0Lm1vZGlmaWVycy5wcm9wPyJ0cnVlIjoiZmFsc2UiKSsodC5tb2RpZmllcnMmJnQubW9kaWZpZXJzLnN5bmM/Iix0cnVlIjoiIikrIikifX0sY2xvYWs6b30seWs9ZnVuY3Rpb24obil7dGhpcy5vcHRpb25zPW47dGhpcy53YXJuPW4ud2Fybnx8cmg7dGhpcy50cmFuc2Zvcm1zPWtpKG4ubW9kdWxlcywidHJhbnNmb3JtQ29kZSIpO3RoaXMuZGF0YUdlbkZucz1raShuLm1vZHVsZXMsImdlbkRhdGEiKTt0aGlzLmRpcmVjdGl2ZXM9aShpKHt9LHZrKSxuLmRpcmVjdGl2ZXMpO3ZhciB0PW4uaXNSZXNlcnZlZFRhZ3x8Zzt0aGlzLm1heWJlQ29tcG9uZW50PWZ1bmN0aW9uKG4pe3JldHVybiF0KG4udGFnKX07dGhpcy5vbmNlSWQ9MDt0aGlzLnN0YXRpY1JlbmRlckZucz1bXX0sbnk9KG5ldyBSZWdFeHAoIlxcYiIrImRvLGlmLGZvcixsZXQsbmV3LHRyeSx2YXIsY2FzZSxlbHNlLHdpdGgsYXdhaXQsYnJlYWssY2F0Y2gsY2xhc3MsY29uc3Qsc3VwZXIsdGhyb3csd2hpbGUseWllbGQsZGVsZXRlLGV4cG9ydCxpbXBvcnQscmV0dXJuLHN3aXRjaCxkZWZhdWx0LGV4dGVuZHMsZmluYWxseSxjb250aW51ZSxkZWJ1Z2dlcixmdW5jdGlvbixhcmd1bWVudHMiLnNwbGl0KCIsIikuam9pbigiXFxifFxcYiIpKyJcXGIiKSxuZXcgUmVnRXhwKCJcXGIiKyJkZWxldGUsdHlwZW9mLHZvaWQiLnNwbGl0KCIsIikuam9pbigiXFxzKlxcKFteXFwpXSpcXCl8XFxiIikrIlxccypcXChbXlxcKV0qXFwpIiksZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIHIocix1KXt2YXIgZj1PYmplY3QuY3JlYXRlKHQpLHM9W10saD1bXSxlLG87aWYoZi53YXJuPWZ1bmN0aW9uKG4sdCl7KHQ/aDpzKS5wdXNoKG4pfSx1KXt1Lm1vZHVsZXMmJihmLm1vZHVsZXM9KHQubW9kdWxlc3x8W10pLmNvbmNhdCh1Lm1vZHVsZXMpKTt1LmRpcmVjdGl2ZXMmJihmLmRpcmVjdGl2ZXM9aShPYmplY3QuY3JlYXRlKHQuZGlyZWN0aXZlc3x8bnVsbCksdS5kaXJlY3RpdmVzKSk7Zm9yKGUgaW4gdSkibW9kdWxlcyIhPT1lJiYiZGlyZWN0aXZlcyIhPT1lJiYoZltlXT11W2VdKX1yZXR1cm4gbz1uKHIsZiksby5lcnJvcnM9cyxvLnRpcHM9aCxvfXJldHVybntjb21waWxlOnIsY29tcGlsZVRvRnVuY3Rpb25zOmZ1bmN0aW9uKG4pe3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKHIsdSl7dmFyIGY7aWYoKHU9aSh7fSx1KSkud2FybixkZWxldGUgdS53YXJuLGY9dS5kZWxpbWl0ZXJzP1N0cmluZyh1LmRlbGltaXRlcnMpK3I6cix0W2ZdKXJldHVybiB0W2ZdO3ZhciBvPW4ocix1KSxlPXt9LHM9W107cmV0dXJuIGUucmVuZGVyPXRsKG8ucmVuZGVyLHMpLGUuc3RhdGljUmVuZGVyRm5zPW8uc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdGwobixzKX0pLHRbZl09ZX19KHIpfX19KGZ1bmN0aW9uKG4sdCl7dmFyIGk9Y3Aobi50cmltKCksdCkscjtyZXR1cm4hMSE9PXQub3B0aW1pemUmJmZ1bmN0aW9uKG4sdCl7biYmKGh2PWNrKHQuc3RhdGljS2V5c3x8IiIpLG9vPXQuaXNSZXNlcnZlZFRhZ3x8ZyxrZihuKSxkZihuLCExKSl9KGksdCkscj1hYyhpLHQpLHthc3Q6aSxyZW5kZXI6ci5yZW5kZXIsc3RhdGljUmVuZGVyRm5zOnIuc3RhdGljUmVuZGVyRm5zfX0pKGhrKS5jb21waWxlVG9GdW5jdGlvbnMpLHBrPSEhbCYmaWwoITEpLHdrPSEhbCYmaWwoITApLGJrPWsoZnVuY3Rpb24obil7dmFyIHQ9dWYobik7cmV0dXJuIHQmJnQuaW5uZXJIVE1MfSksa2s9ci5wcm90b3R5cGUuJG1vdW50O3JldHVybiByLnByb3RvdHlwZS4kbW91bnQ9ZnVuY3Rpb24obix0KXt2YXIgcixpO2lmKChuPW4mJnVmKG4pKT09PWRvY3VtZW50LmJvZHl8fG49PT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpcmV0dXJuIHRoaXM7aWYocj10aGlzLiRvcHRpb25zLCFyLnJlbmRlcil7aWYoaT1yLnRlbXBsYXRlLGkpaWYoInN0cmluZyI9PXR5cGVvZiBpKSIjIj09PWkuY2hhckF0KDApJiYoaT1iayhpKSk7ZWxzZXtpZighaS5ub2RlVHlwZSlyZXR1cm4gdGhpcztpPWkuaW5uZXJIVE1MfWVsc2UgbiYmKGk9ZnVuY3Rpb24obil7aWYobi5vdXRlckhUTUwpcmV0dXJuIG4ub3V0ZXJIVE1MO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3JldHVybiB0LmFwcGVuZENoaWxkKG4uY2xvbmVOb2RlKCEwKSksdC5pbm5lckhUTUx9KG4pKTtpZihpKXt2YXIgdT1ueShpLHtzaG91bGREZWNvZGVOZXdsaW5lczpwayxzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWY6d2ssZGVsaW1pdGVyczpyLmRlbGltaXRlcnMsY29tbWVudHM6ci5jb21tZW50c30sdGhpcyksZj11LnJlbmRlcixlPXUuc3RhdGljUmVuZGVyRm5zO3IucmVuZGVyPWY7ci5zdGF0aWNSZW5kZXJGbnM9ZX19cmV0dXJuIGtrLmNhbGwodGhpcyxuLHQpfSxyLmNvbXBpbGU9bnkscn0pOyFmdW5jdGlvbihuLHQpeyJvYmplY3QiPT10eXBlb2YgZXhwb3J0cyYmIm9iamVjdCI9PXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9dCgpOiJmdW5jdGlvbiI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLHQpOiJvYmplY3QiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzLmF4aW9zPXQoKTpuLmF4aW9zPXQoKX0odGhpcyxmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtmdW5jdGlvbiB0KHIpe2lmKGlbcl0pcmV0dXJuIGlbcl0uZXhwb3J0czt2YXIgdT1pW3JdPXtleHBvcnRzOnt9LGlkOnIsbG9hZGVkOiExfTtyZXR1cm4gbltyXS5jYWxsKHUuZXhwb3J0cyx1LHUuZXhwb3J0cyx0KSx1LmxvYWRlZD0hMCx1LmV4cG9ydHN9dmFyIGk9e307cmV0dXJuIHQubT1uLHQuYz1pLHQucD0iIix0KDApfShbZnVuY3Rpb24obix0LGkpe24uZXhwb3J0cz1pKDEpfSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGUobil7dmFyIHQ9bmV3IHUobiksaT1zKHUucHJvdG90eXBlLnJlcXVlc3QsdCk7cmV0dXJuIGYuZXh0ZW5kKGksdS5wcm90b3R5cGUsdCksZi5leHRlbmQoaSx0KSxpfXZhciBmPWkoMikscz1pKDMpLHU9aSg1KSxvPWkoNikscj1lKG8pO3IuQXhpb3M9dTtyLmNyZWF0ZT1mdW5jdGlvbihuKXtyZXR1cm4gZShmLm1lcmdlKG8sbikpfTtyLkNhbmNlbD1pKDIzKTtyLkNhbmNlbFRva2VuPWkoMjQpO3IuaXNDYW5jZWw9aSgyMCk7ci5hbGw9ZnVuY3Rpb24obil7cmV0dXJuIFByb21pc2UuYWxsKG4pfTtyLnNwcmVhZD1pKDI1KTtuLmV4cG9ydHM9cjtuLmV4cG9ydHMuZGVmYXVsdD1yfSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7cmV0dXJuIltvYmplY3QgQXJyYXldIj09PXIuY2FsbChuKX1mdW5jdGlvbiBoKG4pe3JldHVybiJbb2JqZWN0IEFycmF5QnVmZmVyXSI9PT1yLmNhbGwobil9ZnVuY3Rpb24gYyhuKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEZvcm1EYXRhJiZuIGluc3RhbmNlb2YgRm9ybURhdGF9ZnVuY3Rpb24gbChuKXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KG4pOm4mJm4uYnVmZmVyJiZuLmJ1ZmZlciBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfWZ1bmN0aW9uIGEobil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBufWZ1bmN0aW9uIHYobil7cmV0dXJuIm51bWJlciI9PXR5cGVvZiBufWZ1bmN0aW9uIHkobil7cmV0dXJuInVuZGVmaW5lZCI9PXR5cGVvZiBufWZ1bmN0aW9uIGUobil7cmV0dXJuIG51bGwhPT1uJiYib2JqZWN0Ij09dHlwZW9mIG59ZnVuY3Rpb24gcChuKXtyZXR1cm4iW29iamVjdCBEYXRlXSI9PT1yLmNhbGwobil9ZnVuY3Rpb24gdyhuKXtyZXR1cm4iW29iamVjdCBGaWxlXSI9PT1yLmNhbGwobil9ZnVuY3Rpb24gYihuKXtyZXR1cm4iW29iamVjdCBCbG9iXSI9PT1yLmNhbGwobil9ZnVuY3Rpb24gbyhuKXtyZXR1cm4iW29iamVjdCBGdW5jdGlvbl0iPT09ci5jYWxsKG4pfWZ1bmN0aW9uIGsobil7cmV0dXJuIGUobikmJm8obi5waXBlKX1mdW5jdGlvbiBkKG4pe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgVVJMU2VhcmNoUGFyYW1zJiZuIGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zfWZ1bmN0aW9uIGcobil7cmV0dXJuIG4ucmVwbGFjZSgvXlxzKi8sIiIpLnJlcGxhY2UoL1xzKiQvLCIiKX1mdW5jdGlvbiBudCgpe3JldHVybigidW5kZWZpbmVkIj09dHlwZW9mIG5hdmlnYXRvcnx8IlJlYWN0TmF0aXZlIiE9PW5hdmlnYXRvci5wcm9kdWN0KSYmInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJiJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnR9ZnVuY3Rpb24gZihuLHQpe3ZhciBpLGYscjtpZihudWxsIT09biYmInVuZGVmaW5lZCIhPXR5cGVvZiBuKWlmKCJvYmplY3QiPT10eXBlb2Ygbnx8dShuKXx8KG49W25dKSx1KG4pKWZvcihpPTAsZj1uLmxlbmd0aDtpPGY7aSsrKXQuY2FsbChudWxsLG5baV0saSxuKTtlbHNlIGZvcihyIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJnQuY2FsbChudWxsLG5bcl0scixuKX1mdW5jdGlvbiBzKCl7ZnVuY3Rpb24gaSh0LGkpe25baV09Im9iamVjdCI9PXR5cGVvZiBuW2ldJiYib2JqZWN0Ij09dHlwZW9mIHQ/cyhuW2ldLHQpOnR9Zm9yKHZhciBuPXt9LHQ9MCxyPWFyZ3VtZW50cy5sZW5ndGg7dDxyO3QrKylmKGFyZ3VtZW50c1t0XSxpKTtyZXR1cm4gbn1mdW5jdGlvbiB0dChuLHQsaSl7cmV0dXJuIGYodCxmdW5jdGlvbih0LHIpe25bcl09aSYmImZ1bmN0aW9uIj09dHlwZW9mIHQ/aXQodCxpKTp0fSksbn12YXIgaXQ9aSgzKSxydD1pKDQpLHI9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztuLmV4cG9ydHM9e2lzQXJyYXk6dSxpc0FycmF5QnVmZmVyOmgsaXNCdWZmZXI6cnQsaXNGb3JtRGF0YTpjLGlzQXJyYXlCdWZmZXJWaWV3OmwsaXNTdHJpbmc6YSxpc051bWJlcjp2LGlzT2JqZWN0OmUsaXNVbmRlZmluZWQ6eSxpc0RhdGU6cCxpc0ZpbGU6dyxpc0Jsb2I6Yixpc0Z1bmN0aW9uOm8saXNTdHJlYW06ayxpc1VSTFNlYXJjaFBhcmFtczpkLGlzU3RhbmRhcmRCcm93c2VyRW52Om50LGZvckVhY2g6ZixtZXJnZTpzLGV4dGVuZDp0dCx0cmltOmd9fSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7bi5leHBvcnRzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciByPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSxpPTA7aTxyLmxlbmd0aDtpKyspcltpXT1hcmd1bWVudHNbaV07cmV0dXJuIG4uYXBwbHkodCxyKX19fSxmdW5jdGlvbihuKXtmdW5jdGlvbiB0KG4pe3JldHVybiEhbi5jb25zdHJ1Y3RvciYmImZ1bmN0aW9uIj09dHlwZW9mIG4uY29uc3RydWN0b3IuaXNCdWZmZXImJm4uY29uc3RydWN0b3IuaXNCdWZmZXIobil9ZnVuY3Rpb24gaShuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2Ygbi5yZWFkRmxvYXRMRSYmImZ1bmN0aW9uIj09dHlwZW9mIG4uc2xpY2UmJnQobi5zbGljZSgwLDApKX0KLyohCgkgKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyCgkgKgoJICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGZlcm9zc0BmZXJvc3Mub3JnPiA8aHR0cDovL2Zlcm9zcy5vcmc+CgkgKiBAbGljZW5zZSAgTUlUCgkgKi8Kbi5leHBvcnRzPWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiYodChuKXx8aShuKXx8ISFuLl9pc0J1ZmZlcil9fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7dGhpcy5kZWZhdWx0cz1uO3RoaXMuaW50ZXJjZXB0b3JzPXtyZXF1ZXN0Om5ldyBmLHJlc3BvbnNlOm5ldyBmfX12YXIgZT1pKDYpLHI9aSgyKSxmPWkoMTcpLG89aSgxOCk7dS5wcm90b3R5cGUucmVxdWVzdD1mdW5jdGlvbihuKXsic3RyaW5nIj09dHlwZW9mIG4mJihuPXIubWVyZ2Uoe3VybDphcmd1bWVudHNbMF19LGFyZ3VtZW50c1sxXSkpO249ci5tZXJnZShlLHRoaXMuZGVmYXVsdHMse21ldGhvZDoiZ2V0In0sbik7bi5tZXRob2Q9bi5tZXRob2QudG9Mb3dlckNhc2UoKTt2YXIgdD1bbyx2b2lkIDBdLGk9UHJvbWlzZS5yZXNvbHZlKG4pO2Zvcih0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24obil7dC51bnNoaWZ0KG4uZnVsZmlsbGVkLG4ucmVqZWN0ZWQpfSksdGhpcy5pbnRlcmNlcHRvcnMucmVzcG9uc2UuZm9yRWFjaChmdW5jdGlvbihuKXt0LnB1c2gobi5mdWxmaWxsZWQsbi5yZWplY3RlZCl9KTt0Lmxlbmd0aDspaT1pLnRoZW4odC5zaGlmdCgpLHQuc2hpZnQoKSk7cmV0dXJuIGl9O3IuZm9yRWFjaChbImRlbGV0ZSIsImdldCIsImhlYWQiLCJvcHRpb25zIl0sZnVuY3Rpb24obil7dS5wcm90b3R5cGVbbl09ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KHIubWVyZ2UoaXx8e30se21ldGhvZDpuLHVybDp0fSkpfX0pO3IuZm9yRWFjaChbInBvc3QiLCJwdXQiLCJwYXRjaCJdLGZ1bmN0aW9uKG4pe3UucHJvdG90eXBlW25dPWZ1bmN0aW9uKHQsaSx1KXtyZXR1cm4gdGhpcy5yZXF1ZXN0KHIubWVyZ2UodXx8e30se21ldGhvZDpuLHVybDp0LGRhdGE6aX0pKX19KTtuLmV4cG9ydHM9dX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiBmKG4sdCl7IXIuaXNVbmRlZmluZWQobikmJnIuaXNVbmRlZmluZWQoblsiQ29udGVudC1UeXBlIl0pJiYoblsiQ29udGVudC1UeXBlIl09dCl9ZnVuY3Rpb24gZSgpe3ZhciBuO3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgWE1MSHR0cFJlcXVlc3Q/bj1pKDgpOiJ1bmRlZmluZWQiIT10eXBlb2YgcHJvY2VzcyYmKG49aSg4KSksbn12YXIgcj1pKDIpLG89aSg3KSxzPXsiQ29udGVudC1UeXBlIjoiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIn0sdT17YWRhcHRlcjplKCksdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24obix0KXtyZXR1cm4gbyh0LCJDb250ZW50LVR5cGUiKSxyLmlzRm9ybURhdGEobil8fHIuaXNBcnJheUJ1ZmZlcihuKXx8ci5pc0J1ZmZlcihuKXx8ci5pc1N0cmVhbShuKXx8ci5pc0ZpbGUobil8fHIuaXNCbG9iKG4pP246ci5pc0FycmF5QnVmZmVyVmlldyhuKT9uLmJ1ZmZlcjpyLmlzVVJMU2VhcmNoUGFyYW1zKG4pPyhmKHQsImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04Iiksbi50b1N0cmluZygpKTpyLmlzT2JqZWN0KG4pPyhmKHQsImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCIpLEpTT04uc3RyaW5naWZ5KG4pKTpufV0sdHJhbnNmb3JtUmVzcG9uc2U6W2Z1bmN0aW9uKG4pe2lmKCJzdHJpbmciPT10eXBlb2Ygbil0cnl7bj1KU09OLnBhcnNlKG4pfWNhdGNoKG4pe31yZXR1cm4gbn1dLHRpbWVvdXQ6MCx4c3JmQ29va2llTmFtZToiWFNSRi1UT0tFTiIseHNyZkhlYWRlck5hbWU6IlgtWFNSRi1UT0tFTiIsbWF4Q29udGVudExlbmd0aDotMSx2YWxpZGF0ZVN0YXR1czpmdW5jdGlvbihuKXtyZXR1cm4gbj49MjAwJiZuPDMwMH19O3UuaGVhZGVycz17Y29tbW9uOntBY2NlcHQ6ImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKiJ9fTtyLmZvckVhY2goWyJkZWxldGUiLCJnZXQiLCJoZWFkIl0sZnVuY3Rpb24obil7dS5oZWFkZXJzW25dPXt9fSk7ci5mb3JFYWNoKFsicG9zdCIsInB1dCIsInBhdGNoIl0sZnVuY3Rpb24obil7dS5oZWFkZXJzW25dPXIubWVyZ2Uocyl9KTtuLmV4cG9ydHM9dX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1pKDIpO24uZXhwb3J0cz1mdW5jdGlvbihuLHQpe3IuZm9yRWFjaChuLGZ1bmN0aW9uKGkscil7ciE9PXQmJnIudG9VcHBlckNhc2UoKT09PXQudG9VcHBlckNhc2UoKSYmKG5bdF09aSxkZWxldGUgbltyXSl9KX19LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7dmFyIHI9aSgyKSxlPWkoOSksbz1pKDEyKSxzPWkoMTMpLHU9aSgxNCksZj1pKDEwKSxoPSJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cuYnRvYSYmd2luZG93LmJ0b2EuYmluZCh3aW5kb3cpfHxpKDE1KTtuLmV4cG9ydHM9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsYyl7dmFyIGE9bi5kYXRhLHY9bi5oZWFkZXJzLGIsayxkLHk7ci5pc0Zvcm1EYXRhKGEpJiZkZWxldGUgdlsiQ29udGVudC1UeXBlIl07dmFyIGw9bmV3IFhNTEh0dHBSZXF1ZXN0LHA9Im9ucmVhZHlzdGF0ZWNoYW5nZSIsdz0hMTtpZigod2luZG93LlhNTEh0dHBSZXF1ZXN0fHwidW5kZWZpbmVkIj09dHlwZW9mIHdpbmRvd3x8IXdpbmRvdy5YRG9tYWluUmVxdWVzdHx8IndpdGhDcmVkZW50aWFscyJpbiBsfHx1KG4udXJsKXx8KGw9bmV3IHdpbmRvdy5YRG9tYWluUmVxdWVzdCxwPSJvbmxvYWQiLHc9ITAsbC5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSxsLm9udGltZW91dD1mdW5jdGlvbigpe30pLG4uYXV0aCkmJihiPW4uYXV0aC51c2VybmFtZXx8IiIsaz1uLmF1dGgucGFzc3dvcmR8fCIiLHYuQXV0aG9yaXphdGlvbj0iQmFzaWMgIitoKGIrIjoiK2spKSwobC5vcGVuKG4ubWV0aG9kLnRvVXBwZXJDYXNlKCksbyhuLnVybCxuLnBhcmFtcyxuLnBhcmFtc1NlcmlhbGl6ZXIpLCEwKSxsLnRpbWVvdXQ9bi50aW1lb3V0LGxbcF09ZnVuY3Rpb24oKXtpZihsJiYoND09PWwucmVhZHlTdGF0ZXx8dykmJigwIT09bC5zdGF0dXN8fGwucmVzcG9uc2VVUkwmJjA9PT1sLnJlc3BvbnNlVVJMLmluZGV4T2YoImZpbGU6IikpKXt2YXIgaT0iZ2V0QWxsUmVzcG9uc2VIZWFkZXJzImluIGw/cyhsLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKTpudWxsLHI9bi5yZXNwb25zZVR5cGUmJiJ0ZXh0IiE9PW4ucmVzcG9uc2VUeXBlP2wucmVzcG9uc2U6bC5yZXNwb25zZVRleHQsdT17ZGF0YTpyLHN0YXR1czoxMjIzPT09bC5zdGF0dXM/MjA0Omwuc3RhdHVzLHN0YXR1c1RleHQ6MTIyMz09PWwuc3RhdHVzPyJObyBDb250ZW50IjpsLnN0YXR1c1RleHQsaGVhZGVyczppLGNvbmZpZzpuLHJlcXVlc3Q6bH07ZSh0LGMsdSk7bD1udWxsfX0sbC5vbmVycm9yPWZ1bmN0aW9uKCl7YyhmKCJOZXR3b3JrIEVycm9yIixuLG51bGwsbCkpO2w9bnVsbH0sbC5vbnRpbWVvdXQ9ZnVuY3Rpb24oKXtjKGYoInRpbWVvdXQgb2YgIituLnRpbWVvdXQrIm1zIGV4Y2VlZGVkIixuLCJFQ09OTkFCT1JURUQiLGwpKTtsPW51bGx9LHIuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSkmJihkPWkoMTYpLHk9KG4ud2l0aENyZWRlbnRpYWxzfHx1KG4udXJsKSkmJm4ueHNyZkNvb2tpZU5hbWU/ZC5yZWFkKG4ueHNyZkNvb2tpZU5hbWUpOnZvaWQgMCx5JiYodltuLnhzcmZIZWFkZXJOYW1lXT15KSksInNldFJlcXVlc3RIZWFkZXIiaW4gbCYmci5mb3JFYWNoKHYsZnVuY3Rpb24obix0KXsidW5kZWZpbmVkIj09dHlwZW9mIGEmJiJjb250ZW50LXR5cGUiPT09dC50b0xvd2VyQ2FzZSgpP2RlbGV0ZSB2W3RdOmwuc2V0UmVxdWVzdEhlYWRlcih0LG4pfSksbi53aXRoQ3JlZGVudGlhbHMmJihsLndpdGhDcmVkZW50aWFscz0hMCksbi5yZXNwb25zZVR5cGUpdHJ5e2wucmVzcG9uc2VUeXBlPW4ucmVzcG9uc2VUeXBlfWNhdGNoKHQpe2lmKCJqc29uIiE9PW4ucmVzcG9uc2VUeXBlKXRocm93IHQ7fSJmdW5jdGlvbiI9PXR5cGVvZiBuLm9uRG93bmxvYWRQcm9ncmVzcyYmbC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsbi5vbkRvd25sb2FkUHJvZ3Jlc3MpOyJmdW5jdGlvbiI9PXR5cGVvZiBuLm9uVXBsb2FkUHJvZ3Jlc3MmJmwudXBsb2FkJiZsLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCJwcm9ncmVzcyIsbi5vblVwbG9hZFByb2dyZXNzKTtuLmNhbmNlbFRva2VuJiZuLmNhbmNlbFRva2VuLnByb21pc2UudGhlbihmdW5jdGlvbihuKXtsJiYobC5hYm9ydCgpLGMobiksbD1udWxsKX0pO3ZvaWQgMD09PWEmJihhPW51bGwpO2wuc2VuZChhKX0pfX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1pKDEwKTtuLmV4cG9ydHM9ZnVuY3Rpb24obix0LGkpe3ZhciB1PWkuY29uZmlnLnZhbGlkYXRlU3RhdHVzO2kuc3RhdHVzJiZ1JiYhdShpLnN0YXR1cyk/dChyKCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlICIraS5zdGF0dXMsaS5jb25maWcsbnVsbCxpLnJlcXVlc3QsaSkpOm4oaSl9fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciByPWkoMTEpO24uZXhwb3J0cz1mdW5jdGlvbihuLHQsaSx1LGYpe3ZhciBlPW5ldyBFcnJvcihuKTtyZXR1cm4gcihlLHQsaSx1LGYpfX0sZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO24uZXhwb3J0cz1mdW5jdGlvbihuLHQsaSxyLHUpe3JldHVybiBuLmNvbmZpZz10LGkmJihuLmNvZGU9aSksbi5yZXF1ZXN0PXIsbi5yZXNwb25zZT11LG59fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHUobil7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChuKS5yZXBsYWNlKC8lNDAvZ2ksIkAiKS5yZXBsYWNlKC8lM0EvZ2ksIjoiKS5yZXBsYWNlKC8lMjQvZywiJCIpLnJlcGxhY2UoLyUyQy9naSwiLCIpLnJlcGxhY2UoLyUyMC9nLCIrIikucmVwbGFjZSgvJTVCL2dpLCJbIikucmVwbGFjZSgvJTVEL2dpLCJdIil9dmFyIHI9aSgyKTtuLmV4cG9ydHM9ZnVuY3Rpb24obix0LGkpe3ZhciBmLGU7cmV0dXJuIHQ/KGk/Zj1pKHQpOnIuaXNVUkxTZWFyY2hQYXJhbXModCk/Zj10LnRvU3RyaW5nKCk6KGU9W10sci5mb3JFYWNoKHQsZnVuY3Rpb24obix0KXtudWxsIT09biYmInVuZGVmaW5lZCIhPXR5cGVvZiBuJiYoci5pc0FycmF5KG4pJiYodCs9IltdIiksci5pc0FycmF5KG4pfHwobj1bbl0pLHIuZm9yRWFjaChuLGZ1bmN0aW9uKG4pe3IuaXNEYXRlKG4pP249bi50b0lTT1N0cmluZygpOnIuaXNPYmplY3QobikmJihuPUpTT04uc3RyaW5naWZ5KG4pKTtlLnB1c2godSh0KSsiPSIrdShuKSl9KSl9KSxmPWUuam9pbigiJiIpKSxmJiYobis9KG4uaW5kZXhPZigiPyIpPT09LTE/Ij8iOiImIikrZiksbik6bn19LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7dmFyIHI9aSgyKSx1PVsiYWdlIiwiYXV0aG9yaXphdGlvbiIsImNvbnRlbnQtbGVuZ3RoIiwiY29udGVudC10eXBlIiwiZXRhZyIsImV4cGlyZXMiLCJmcm9tIiwiaG9zdCIsImlmLW1vZGlmaWVkLXNpbmNlIiwiaWYtdW5tb2RpZmllZC1zaW5jZSIsImxhc3QtbW9kaWZpZWQiLCJsb2NhdGlvbiIsIm1heC1mb3J3YXJkcyIsInByb3h5LWF1dGhvcml6YXRpb24iLCJyZWZlcmVyIiwicmV0cnktYWZ0ZXIiLCJ1c2VyLWFnZW50Il07bi5leHBvcnRzPWZ1bmN0aW9uKG4pe3ZhciB0LGYsZSxpPXt9O3JldHVybiBuPyhyLmZvckVhY2gobi5zcGxpdCgiXG4iKSxmdW5jdGlvbihuKXtpZihlPW4uaW5kZXhPZigiOiIpLHQ9ci50cmltKG4uc3Vic3RyKDAsZSkpLnRvTG93ZXJDYXNlKCksZj1yLnRyaW0obi5zdWJzdHIoZSsxKSksdCl7aWYoaVt0XSYmdS5pbmRleE9mKHQpPj0wKXJldHVybjtpW3RdPSJzZXQtY29va2llIj09PXQ/KGlbdF0/aVt0XTpbXSkuY29uY2F0KFtmXSk6aVt0XT9pW3RdKyIsICIrZjpmfX0pLGkpOml9fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciByPWkoMik7bi5leHBvcnRzPXIuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKT9mdW5jdGlvbigpe2Z1bmN0aW9uIGkodCl7dmFyIGk9dDtyZXR1cm4gdSYmKG4uc2V0QXR0cmlidXRlKCJocmVmIixpKSxpPW4uaHJlZiksbi5zZXRBdHRyaWJ1dGUoImhyZWYiLGkpLHtocmVmOm4uaHJlZixwcm90b2NvbDpuLnByb3RvY29sP24ucHJvdG9jb2wucmVwbGFjZSgvOiQvLCIiKToiIixob3N0Om4uaG9zdCxzZWFyY2g6bi5zZWFyY2g/bi5zZWFyY2gucmVwbGFjZSgvXlw/LywiIik6IiIsaGFzaDpuLmhhc2g/bi5oYXNoLnJlcGxhY2UoL14jLywiIik6IiIsaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0Om4ucG9ydCxwYXRobmFtZToiLyI9PT1uLnBhdGhuYW1lLmNoYXJBdCgwKT9uLnBhdGhuYW1lOiIvIituLnBhdGhuYW1lfX12YXIgdCx1PS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIik7cmV0dXJuIHQ9aSh3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24obil7dmFyIHU9ci5pc1N0cmluZyhuKT9pKG4pOm47cmV0dXJuIHUucHJvdG9jb2w9PT10LnByb3RvY29sJiZ1Lmhvc3Q9PT10Lmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuITB9fSgpfSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdCgpe3RoaXMubWVzc2FnZT0iU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyIn1mdW5jdGlvbiBpKG4pe2Zvcih2YXIgdSxmLGU9U3RyaW5nKG4pLG89IiIsaT0wLHM9cjtlLmNoYXJBdCgwfGkpfHwocz0iPSIsaSUxKTtvKz1zLmNoYXJBdCg2MyZ1Pj44LWklMSo4KSl7aWYoZj1lLmNoYXJDb2RlQXQoaSs9Ljc1KSxmPjI1NSl0aHJvdyBuZXcgdDt1PXU8PDh8Zn1yZXR1cm4gb312YXIgcj0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz0iO3QucHJvdG90eXBlPW5ldyBFcnJvcjt0LnByb3RvdHlwZS5jb2RlPTU7dC5wcm90b3R5cGUubmFtZT0iSW52YWxpZENoYXJhY3RlckVycm9yIjtuLmV4cG9ydHM9aX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1pKDIpO24uZXhwb3J0cz1yLmlzU3RhbmRhcmRCcm93c2VyRW52KCk/ZnVuY3Rpb24oKXtyZXR1cm57d3JpdGU6ZnVuY3Rpb24obix0LGksdSxmLGUpe3ZhciBvPVtdO28ucHVzaChuKyI9IitlbmNvZGVVUklDb21wb25lbnQodCkpO3IuaXNOdW1iZXIoaSkmJm8ucHVzaCgiZXhwaXJlcz0iK25ldyBEYXRlKGkpLnRvR01UU3RyaW5nKCkpO3IuaXNTdHJpbmcodSkmJm8ucHVzaCgicGF0aD0iK3UpO3IuaXNTdHJpbmcoZikmJm8ucHVzaCgiZG9tYWluPSIrZik7ZT09PSEwJiZvLnB1c2goInNlY3VyZSIpO2RvY3VtZW50LmNvb2tpZT1vLmpvaW4oIjsgIil9LHJlYWQ6ZnVuY3Rpb24obil7dmFyIHQ9ZG9jdW1lbnQuY29va2llLm1hdGNoKG5ldyBSZWdFeHAoIihefDtcXHMqKSgiK24rIik9KFteO10qKSIpKTtyZXR1cm4gdD9kZWNvZGVVUklDb21wb25lbnQodFszXSk6bnVsbH0scmVtb3ZlOmZ1bmN0aW9uKG4pe3RoaXMud3JpdGUobiwiIixEYXRlLm5vdygpLTg2NGU1KX19fSgpOmZ1bmN0aW9uKCl7cmV0dXJue3dyaXRlOmZ1bmN0aW9uKCl7fSxyZWFkOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LHJlbW92ZTpmdW5jdGlvbigpe319fSgpfSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIoKXt0aGlzLmhhbmRsZXJzPVtdfXZhciB1PWkoMik7ci5wcm90b3R5cGUudXNlPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHRoaXMuaGFuZGxlcnMucHVzaCh7ZnVsZmlsbGVkOm4scmVqZWN0ZWQ6dH0pLHRoaXMuaGFuZGxlcnMubGVuZ3RoLTF9O3IucHJvdG90eXBlLmVqZWN0PWZ1bmN0aW9uKG4pe3RoaXMuaGFuZGxlcnNbbl0mJih0aGlzLmhhbmRsZXJzW25dPW51bGwpfTtyLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKG4pe3UuZm9yRWFjaCh0aGlzLmhhbmRsZXJzLGZ1bmN0aW9uKHQpe251bGwhPT10JiZuKHQpfSl9O24uZXhwb3J0cz1yfSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobil7bi5jYW5jZWxUb2tlbiYmbi5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCl9dmFyIGY9aSgyKSx1PWkoMTkpLGU9aSgyMCksbz1pKDYpLHM9aSgyMSksaD1pKDIyKTtuLmV4cG9ydHM9ZnVuY3Rpb24obil7cihuKTtuLmJhc2VVUkwmJiFzKG4udXJsKSYmKG4udXJsPWgobi5iYXNlVVJMLG4udXJsKSk7bi5oZWFkZXJzPW4uaGVhZGVyc3x8e307bi5kYXRhPXUobi5kYXRhLG4uaGVhZGVycyxuLnRyYW5zZm9ybVJlcXVlc3QpO24uaGVhZGVycz1mLm1lcmdlKG4uaGVhZGVycy5jb21tb258fHt9LG4uaGVhZGVyc1tuLm1ldGhvZF18fHt9LG4uaGVhZGVyc3x8e30pO2YuZm9yRWFjaChbImRlbGV0ZSIsImdldCIsImhlYWQiLCJwb3N0IiwicHV0IiwicGF0Y2giLCJjb21tb24iXSxmdW5jdGlvbih0KXtkZWxldGUgbi5oZWFkZXJzW3RdfSk7dmFyIHQ9bi5hZGFwdGVyfHxvLmFkYXB0ZXI7cmV0dXJuIHQobikudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gcihuKSx0LmRhdGE9dSh0LmRhdGEsdC5oZWFkZXJzLG4udHJhbnNmb3JtUmVzcG9uc2UpLHR9LGZ1bmN0aW9uKHQpe3JldHVybiBlKHQpfHwocihuKSx0JiZ0LnJlc3BvbnNlJiYodC5yZXNwb25zZS5kYXRhPXUodC5yZXNwb25zZS5kYXRhLHQucmVzcG9uc2UuaGVhZGVycyxuLnRyYW5zZm9ybVJlc3BvbnNlKSkpLFByb21pc2UucmVqZWN0KHQpfSl9fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciByPWkoMik7bi5leHBvcnRzPWZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gci5mb3JFYWNoKGksZnVuY3Rpb24oaSl7bj1pKG4sdCl9KSxufX0sZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO24uZXhwb3J0cz1mdW5jdGlvbihuKXtyZXR1cm4hKCFufHwhbi5fX0NBTkNFTF9fKX19LGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtuLmV4cG9ydHM9ZnVuY3Rpb24obil7cmV0dXJuL14oW2Etel1bYS16XGRcK1wtXC5dKjopP1wvXC8vaS50ZXN0KG4pfX0sZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO24uZXhwb3J0cz1mdW5jdGlvbihuLHQpe3JldHVybiB0P24ucmVwbGFjZSgvXC8rJC8sIiIpKyIvIit0LnJlcGxhY2UoL15cLysvLCIiKTpufX0sZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHQobil7dGhpcy5tZXNzYWdlPW59dC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4iQ2FuY2VsIisodGhpcy5tZXNzYWdlPyI6ICIrdGhpcy5tZXNzYWdlOiIiKX07dC5wcm90b3R5cGUuX19DQU5DRUxfXz0hMDtuLmV4cG9ydHM9dH0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiByKG4pe3ZhciBpLHQ7aWYoImZ1bmN0aW9uIiE9dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiZXhlY3V0b3IgbXVzdCBiZSBhIGZ1bmN0aW9uLiIpO3RoaXMucHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbihuKXtpPW59KTt0PXRoaXM7bihmdW5jdGlvbihuKXt0LnJlYXNvbnx8KHQucmVhc29uPW5ldyB1KG4pLGkodC5yZWFzb24pKX0pfXZhciB1PWkoMjMpO3IucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtpZih0aGlzLnJlYXNvbil0aHJvdyB0aGlzLnJlYXNvbjt9O3Iuc291cmNlPWZ1bmN0aW9uKCl7dmFyIG4sdD1uZXcgcihmdW5jdGlvbih0KXtuPXR9KTtyZXR1cm57dG9rZW46dCxjYW5jZWw6bn19O24uZXhwb3J0cz1yfSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7bi5leHBvcnRzPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbi5hcHBseShudWxsLHQpfX19XSl9KQ==","CacheKey":"cFtXYUCPJPufz74gIPKZR9YXnuA"}