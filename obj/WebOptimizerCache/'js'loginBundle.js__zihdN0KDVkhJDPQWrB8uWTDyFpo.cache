{"Headers":{"Last-Modified":"Tue, 07 Aug 2018 03:37:02 GMT","X-Content-Type-Options":"nosniff"},"Body":"LyohIGpRdWVyeSB2My4zLjEgfCAoYykgSlMgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzIHwganF1ZXJ5Lm9yZy9saWNlbnNlICovCmZ1bmN0aW9uIGJsb2NrVUkoKXskLmJsb2NrVUkoe21lc3NhZ2U6IjxpbWcgc3JjPSciK2xvY2F0aW9uLnByb3RvY29sKyIvaW1hZ2VzL2xvYWRpbmcuZ2lmJy8+Iixjc3M6e3RvcDooJCh3aW5kb3cpLmhlaWdodCgpLTIwMCkvMisicHgiLGxlZnQ6KCQod2luZG93KS53aWR0aCgpLTQwMCkvMisicHgiLHdpZHRoOiI0MDBweCJ9fSl9IWZ1bmN0aW9uKG4sdCl7InVzZSBzdHJpY3QiOyJvYmplY3QiPT10eXBlb2YgbW9kdWxlJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZS5leHBvcnRzP21vZHVsZS5leHBvcnRzPW4uZG9jdW1lbnQ/dChuLCEwKTpmdW5jdGlvbihuKXtpZighbi5kb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoImpRdWVyeSByZXF1aXJlcyBhIHdpbmRvdyB3aXRoIGEgZG9jdW1lbnQiKTtyZXR1cm4gdChuKX06dChuKX0oInVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnRoaXMsZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaHIobix0LGkpe3ZhciByLHU9KHQ9dHx8ZikuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aWYodS50ZXh0PW4saSlmb3IociBpbiBkZilpW3JdJiYodVtyXT1pW3JdKTt0LmhlYWQuYXBwZW5kQ2hpbGQodSkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh1KX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbnVsbD09bj9uKyIiOiJvYmplY3QiPT10eXBlb2Ygbnx8ImZ1bmN0aW9uIj09dHlwZW9mIG4/YnRbb3IuY2FsbChuKV18fCJvYmplY3QiOnR5cGVvZiBufWZ1bmN0aW9uIGhpKG4pe3ZhciB0PSEhbiYmImxlbmd0aCJpbiBuJiZuLmxlbmd0aCxpPWl0KG4pO3JldHVybiF1KG4pJiYhdHQobikmJigiYXJyYXkiPT09aXx8MD09PXR8fCJudW1iZXIiPT10eXBlb2YgdCYmdD4wJiZ0LTEgaW4gbil9ZnVuY3Rpb24gdihuLHQpe3JldHVybiBuLm5vZGVOYW1lJiZuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT10LnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24gbGkobix0LHIpe3JldHVybiB1KHQpP2kuZ3JlcChuLGZ1bmN0aW9uKG4saSl7cmV0dXJuISF0LmNhbGwobixpLG4pIT09cn0pOnQubm9kZVR5cGU/aS5ncmVwKG4sZnVuY3Rpb24obil7cmV0dXJuIG49PT10IT09cn0pOiJzdHJpbmciIT10eXBlb2YgdD9pLmdyZXAobixmdW5jdGlvbihuKXtyZXR1cm4gd3QuY2FsbCh0LG4pPi0xIT09cn0pOmkuZmlsdGVyKHQsbixyKX1mdW5jdGlvbiB3cihuLHQpe3doaWxlKChuPW5bdF0pJiYxIT09bi5ub2RlVHlwZSk7cmV0dXJuIG59ZnVuY3Rpb24gbmUobil7dmFyIHQ9e307cmV0dXJuIGkuZWFjaChuLm1hdGNoKGwpfHxbXSxmdW5jdGlvbihuLGkpe3RbaV09ITB9KSx0fWZ1bmN0aW9uIHV0KG4pe3JldHVybiBufWZ1bmN0aW9uIGR0KG4pe3Rocm93IG47fWZ1bmN0aW9uIGJyKG4sdCxpLHIpe3ZhciBmO3RyeXtuJiZ1KGY9bi5wcm9taXNlKT9mLmNhbGwobikuZG9uZSh0KS5mYWlsKGkpOm4mJnUoZj1uLnRoZW4pP2YuY2FsbChuLHQsaSk6dC5hcHBseSh2b2lkIDAsW25dLnNsaWNlKHIpKX1jYXRjaChuKXtpLmFwcGx5KHZvaWQgMCxbbl0pfX1mdW5jdGlvbiBuaSgpe2YucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsbmkpO24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsbmkpO2kucmVhZHkoKX1mdW5jdGlvbiByZShuLHQpe3JldHVybiB0LnRvVXBwZXJDYXNlKCl9ZnVuY3Rpb24geShuKXtyZXR1cm4gbi5yZXBsYWNlKHRlLCJtcy0iKS5yZXBsYWNlKGllLHJlKX1mdW5jdGlvbiBhdCgpe3RoaXMuZXhwYW5kbz1pLmV4cGFuZG8rYXQudWlkKyt9ZnVuY3Rpb24gZWUobil7cmV0dXJuInRydWUiPT09bnx8ImZhbHNlIiE9PW4mJigibnVsbCI9PT1uP251bGw6bj09PStuKyIiPytuOnVlLnRlc3Qobik/SlNPTi5wYXJzZShuKTpuKX1mdW5jdGlvbiBkcihuLHQsaSl7dmFyIHI7aWYodm9pZCAwPT09aSYmMT09PW4ubm9kZVR5cGUpaWYocj0iZGF0YS0iK3QucmVwbGFjZShmZSwiLSQmIikudG9Mb3dlckNhc2UoKSwic3RyaW5nIj09dHlwZW9mKGk9bi5nZXRBdHRyaWJ1dGUocikpKXt0cnl7aT1lZShpKX1jYXRjaChuKXt9by5zZXQobix0LGkpfWVsc2UgaT12b2lkIDA7cmV0dXJuIGl9ZnVuY3Rpb24gdHUobix0LHIsdSl7dmFyIHMsaCxjPTIwLGw9dT9mdW5jdGlvbigpe3JldHVybiB1LmN1cigpfTpmdW5jdGlvbigpe3JldHVybiBpLmNzcyhuLHQsIiIpfSxvPWwoKSxlPXImJnJbM118fChpLmNzc051bWJlclt0XT8iIjoicHgiKSxmPShpLmNzc051bWJlclt0XXx8InB4IiE9PWUmJitvKSYmdnQuZXhlYyhpLmNzcyhuLHQpKTtpZihmJiZmWzNdIT09ZSl7Zm9yKG8vPTIsZT1lfHxmWzNdLGY9K298fDE7Yy0tOylpLnN0eWxlKG4sdCxmK2UpLCgxLWgpKigxLShoPWwoKS9vfHwuNSkpPD0wJiYoYz0wKSxmLz1oO2YqPTI7aS5zdHlsZShuLHQsZitlKTtyPXJ8fFtdfXJldHVybiByJiYoZj0rZnx8K298fDAscz1yWzFdP2YrKHJbMV0rMSkqclsyXTorclsyXSx1JiYodS51bml0PWUsdS5zdGFydD1mLHUuZW5kPXMpKSxzfWZ1bmN0aW9uIG9lKG4pe3ZhciByLGY9bi5vd25lckRvY3VtZW50LHU9bi5ub2RlTmFtZSx0PWFpW3VdO3JldHVybiB0fHwocj1mLmJvZHkuYXBwZW5kQ2hpbGQoZi5jcmVhdGVFbGVtZW50KHUpKSx0PWkuY3NzKHIsImRpc3BsYXkiKSxyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQociksIm5vbmUiPT09dCYmKHQ9ImJsb2NrIiksYWlbdV09dCx0KX1mdW5jdGlvbiBmdChuLHQpe2Zvcih2YXIgZSx1LGY9W10saT0wLG89bi5sZW5ndGg7aTxvO2krKykodT1uW2ldKS5zdHlsZSYmKGU9dS5zdHlsZS5kaXNwbGF5LHQ/KCJub25lIj09PWUmJihmW2ldPXIuZ2V0KHUsImRpc3BsYXkiKXx8bnVsbCxmW2ldfHwodS5zdHlsZS5kaXNwbGF5PSIiKSksIiI9PT11LnN0eWxlLmRpc3BsYXkmJnRpKHUpJiYoZltpXT1vZSh1KSkpOiJub25lIiE9PWUmJihmW2ldPSJub25lIixyLnNldCh1LCJkaXNwbGF5IixlKSkpO2ZvcihpPTA7aTxvO2krKyludWxsIT1mW2ldJiYobltpXS5zdHlsZS5kaXNwbGF5PWZbaV0pO3JldHVybiBufWZ1bmN0aW9uIHMobix0KXt2YXIgcjtyZXR1cm4gcj0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWU/bi5nZXRFbGVtZW50c0J5VGFnTmFtZSh0fHwiKiIpOiJ1bmRlZmluZWQiIT10eXBlb2Ygbi5xdWVyeVNlbGVjdG9yQWxsP24ucXVlcnlTZWxlY3RvckFsbCh0fHwiKiIpOltdLHZvaWQgMD09PXR8fHQmJnYobix0KT9pLm1lcmdlKFtuXSxyKTpyfWZ1bmN0aW9uIHZpKG4sdCl7Zm9yKHZhciBpPTAsdT1uLmxlbmd0aDtpPHU7aSsrKXIuc2V0KG5baV0sImdsb2JhbEV2YWwiLCF0fHxyLmdldCh0W2ldLCJnbG9iYWxFdmFsIikpfWZ1bmN0aW9uIGV1KG4sdCxyLHUsZil7Zm9yKHZhciBlLG8scCxhLHcsdixoPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHk9W10sbD0wLGI9bi5sZW5ndGg7bDxiO2wrKylpZigoZT1uW2xdKXx8MD09PWUpaWYoIm9iamVjdCI9PT1pdChlKSlpLm1lcmdlKHksZS5ub2RlVHlwZT9bZV06ZSk7ZWxzZSBpZihmdS50ZXN0KGUpKXtmb3Iobz1vfHxoLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgiZGl2IikpLHA9KHJ1LmV4ZWMoZSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksYT1jW3BdfHxjLl9kZWZhdWx0LG8uaW5uZXJIVE1MPWFbMV0raS5odG1sUHJlZmlsdGVyKGUpK2FbMl0sdj1hWzBdO3YtLTspbz1vLmxhc3RDaGlsZDtpLm1lcmdlKHksby5jaGlsZE5vZGVzKTsobz1oLmZpcnN0Q2hpbGQpLnRleHRDb250ZW50PSIifWVsc2UgeS5wdXNoKHQuY3JlYXRlVGV4dE5vZGUoZSkpO2ZvcihoLnRleHRDb250ZW50PSIiLGw9MDtlPXlbbCsrXTspaWYodSYmaS5pbkFycmF5KGUsdSk+LTEpZiYmZi5wdXNoKGUpO2Vsc2UgaWYodz1pLmNvbnRhaW5zKGUub3duZXJEb2N1bWVudCxlKSxvPXMoaC5hcHBlbmRDaGlsZChlKSwic2NyaXB0IiksdyYmdmkobykscilmb3Iodj0wO2U9b1t2KytdOyl1dS50ZXN0KGUudHlwZXx8IiIpJiZyLnB1c2goZSk7cmV0dXJuIGh9ZnVuY3Rpb24gcmkoKXtyZXR1cm4hMH1mdW5jdGlvbiBldCgpe3JldHVybiExfWZ1bmN0aW9uIHN1KCl7dHJ5e3JldHVybiBmLmFjdGl2ZUVsZW1lbnR9Y2F0Y2gobil7fX1mdW5jdGlvbiB5aShuLHQscix1LGYsZSl7dmFyIG8scztpZigib2JqZWN0Ij09dHlwZW9mIHQpeyJzdHJpbmciIT10eXBlb2YgciYmKHU9dXx8cixyPXZvaWQgMCk7Zm9yKHMgaW4gdCl5aShuLHMscix1LHRbc10sZSk7cmV0dXJuIG59aWYobnVsbD09dSYmbnVsbD09Zj8oZj1yLHU9cj12b2lkIDApOm51bGw9PWYmJigic3RyaW5nIj09dHlwZW9mIHI/KGY9dSx1PXZvaWQgMCk6KGY9dSx1PXIscj12b2lkIDApKSwhMT09PWYpZj1ldDtlbHNlIGlmKCFmKXJldHVybiBuO3JldHVybiAxPT09ZSYmKG89ZiwoZj1mdW5jdGlvbihuKXtyZXR1cm4gaSgpLm9mZihuKSxvLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLmd1aWQ9by5ndWlkfHwoby5ndWlkPWkuZ3VpZCsrKSksbi5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5hZGQodGhpcyx0LGYsdSxyKX0pfWZ1bmN0aW9uIGh1KG4sdCl7cmV0dXJuIHYobiwidGFibGUiKSYmdigxMSE9PXQubm9kZVR5cGU/dDp0LmZpcnN0Q2hpbGQsInRyIik/aShuKS5jaGlsZHJlbigidGJvZHkiKVswXXx8bjpufWZ1bmN0aW9uIHllKG4pe3JldHVybiBuLnR5cGU9KG51bGwhPT1uLmdldEF0dHJpYnV0ZSgidHlwZSIpKSsiLyIrbi50eXBlLG59ZnVuY3Rpb24gcGUobil7cmV0dXJuInRydWUvIj09PShuLnR5cGV8fCIiKS5zbGljZSgwLDUpP24udHlwZT1uLnR5cGUuc2xpY2UoNSk6bi5yZW1vdmVBdHRyaWJ1dGUoInR5cGUiKSxufWZ1bmN0aW9uIGN1KG4sdCl7dmFyIHUsYyxmLHMsaCxsLGEsZTtpZigxPT09dC5ub2RlVHlwZSl7aWYoci5oYXNEYXRhKG4pJiYocz1yLmFjY2VzcyhuKSxoPXIuc2V0KHQscyksZT1zLmV2ZW50cykpe2RlbGV0ZSBoLmhhbmRsZTtoLmV2ZW50cz17fTtmb3IoZiBpbiBlKWZvcih1PTAsYz1lW2ZdLmxlbmd0aDt1PGM7dSsrKWkuZXZlbnQuYWRkKHQsZixlW2ZdW3VdKX1vLmhhc0RhdGEobikmJihsPW8uYWNjZXNzKG4pLGE9aS5leHRlbmQoe30sbCksby5zZXQodCxhKSl9fWZ1bmN0aW9uIHdlKG4sdCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpOyJpbnB1dCI9PT1pJiZpdS50ZXN0KG4udHlwZSk/dC5jaGVja2VkPW4uY2hlY2tlZDoiaW5wdXQiIT09aSYmInRleHRhcmVhIiE9PWl8fCh0LmRlZmF1bHRWYWx1ZT1uLmRlZmF1bHRWYWx1ZSl9ZnVuY3Rpb24gb3Qobix0LGYsbyl7dD1lci5hcHBseShbXSx0KTt2YXIgbCx3LGEsdixoLGIsYz0wLHk9bi5sZW5ndGgsZD15LTEscD10WzBdLGs9dShwKTtpZihrfHx5PjEmJiJzdHJpbmciPT10eXBlb2YgcCYmIWUuY2hlY2tDbG9uZSYmYWUudGVzdChwKSlyZXR1cm4gbi5lYWNoKGZ1bmN0aW9uKGkpe3ZhciByPW4uZXEoaSk7ayYmKHRbMF09cC5jYWxsKHRoaXMsaSxyLmh0bWwoKSkpO290KHIsdCxmLG8pfSk7aWYoeSYmKGw9ZXUodCxuWzBdLm93bmVyRG9jdW1lbnQsITEsbixvKSx3PWwuZmlyc3RDaGlsZCwxPT09bC5jaGlsZE5vZGVzLmxlbmd0aCYmKGw9dyksd3x8bykpe2Zvcih2PShhPWkubWFwKHMobCwic2NyaXB0IikseWUpKS5sZW5ndGg7Yzx5O2MrKyloPWwsYyE9PWQmJihoPWkuY2xvbmUoaCwhMCwhMCksdiYmaS5tZXJnZShhLHMoaCwic2NyaXB0IikpKSxmLmNhbGwobltjXSxoLGMpO2lmKHYpZm9yKGI9YVthLmxlbmd0aC0xXS5vd25lckRvY3VtZW50LGkubWFwKGEscGUpLGM9MDtjPHY7YysrKWg9YVtjXSx1dS50ZXN0KGgudHlwZXx8IiIpJiYhci5hY2Nlc3MoaCwiZ2xvYmFsRXZhbCIpJiZpLmNvbnRhaW5zKGIsaCkmJihoLnNyYyYmIm1vZHVsZSIhPT0oaC50eXBlfHwiIikudG9Mb3dlckNhc2UoKT9pLl9ldmFsVXJsJiZpLl9ldmFsVXJsKGguc3JjKTpocihoLnRleHRDb250ZW50LnJlcGxhY2UodmUsIiIpLGIsaCkpfXJldHVybiBufWZ1bmN0aW9uIGx1KG4sdCxyKXtmb3IodmFyIHUsZT10P2kuZmlsdGVyKHQsbik6bixmPTA7bnVsbCE9KHU9ZVtmXSk7ZisrKXJ8fDEhPT11Lm5vZGVUeXBlfHxpLmNsZWFuRGF0YShzKHUpKSx1LnBhcmVudE5vZGUmJihyJiZpLmNvbnRhaW5zKHUub3duZXJEb2N1bWVudCx1KSYmdmkocyh1LCJzY3JpcHQiKSksdS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHUpKTtyZXR1cm4gbn1mdW5jdGlvbiB5dChuLHQscil7dmFyIG8scyxoLGYsdT1uLnN0eWxlO3JldHVybihyPXJ8fHVpKG4pKSYmKCIiIT09KGY9ci5nZXRQcm9wZXJ0eVZhbHVlKHQpfHxyW3RdKXx8aS5jb250YWlucyhuLm93bmVyRG9jdW1lbnQsbil8fChmPWkuc3R5bGUobix0KSksIWUucGl4ZWxCb3hTdHlsZXMoKSYmcGkudGVzdChmKSYmYmUudGVzdCh0KSYmKG89dS53aWR0aCxzPXUubWluV2lkdGgsaD11Lm1heFdpZHRoLHUubWluV2lkdGg9dS5tYXhXaWR0aD11LndpZHRoPWYsZj1yLndpZHRoLHUud2lkdGg9byx1Lm1pbldpZHRoPXMsdS5tYXhXaWR0aD1oKSksdm9pZCAwIT09Zj9mKyIiOmZ9ZnVuY3Rpb24gYXUobix0KXtyZXR1cm57Z2V0OmZ1bmN0aW9uKCl7aWYoIW4oKSlyZXR1cm4odGhpcy5nZXQ9dCkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2RlbGV0ZSB0aGlzLmdldH19fWZ1bmN0aW9uIGdlKG4pe2lmKG4gaW4gd3UpcmV0dXJuIG47Zm9yKHZhciBpPW5bMF0udG9VcHBlckNhc2UoKStuLnNsaWNlKDEpLHQ9cHUubGVuZ3RoO3QtLTspaWYoKG49cHVbdF0raSlpbiB3dSlyZXR1cm4gbn1mdW5jdGlvbiBidShuKXt2YXIgdD1pLmNzc1Byb3BzW25dO3JldHVybiB0fHwodD1pLmNzc1Byb3BzW25dPWdlKG4pfHxuKSx0fWZ1bmN0aW9uIGt1KG4sdCxpKXt2YXIgcj12dC5leGVjKHQpO3JldHVybiByP01hdGgubWF4KDAsclsyXS0oaXx8MCkpKyhyWzNdfHwicHgiKTp0fWZ1bmN0aW9uIHdpKG4sdCxyLHUsZixlKXt2YXIgbz0id2lkdGgiPT09dD8xOjAsaD0wLHM9MDtpZihyPT09KHU/ImJvcmRlciI6ImNvbnRlbnQiKSlyZXR1cm4gMDtmb3IoO288NDtvKz0yKSJtYXJnaW4iPT09ciYmKHMrPWkuY3NzKG4scit3W29dLCEwLGYpKSx1PygiY29udGVudCI9PT1yJiYocy09aS5jc3MobiwicGFkZGluZyIrd1tvXSwhMCxmKSksIm1hcmdpbiIhPT1yJiYocy09aS5jc3MobiwiYm9yZGVyIit3W29dKyJXaWR0aCIsITAsZikpKToocys9aS5jc3MobiwicGFkZGluZyIrd1tvXSwhMCxmKSwicGFkZGluZyIhPT1yP3MrPWkuY3NzKG4sImJvcmRlciIrd1tvXSsiV2lkdGgiLCEwLGYpOmgrPWkuY3NzKG4sImJvcmRlciIrd1tvXSsiV2lkdGgiLCEwLGYpKTtyZXR1cm4hdSYmZT49MCYmKHMrPU1hdGgubWF4KDAsTWF0aC5jZWlsKG5bIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLWUtcy1oLS41KSkpLHN9ZnVuY3Rpb24gZHUobix0LHIpe3ZhciBmPXVpKG4pLHU9eXQobix0LGYpLHM9ImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxvPXM7aWYocGkudGVzdCh1KSl7aWYoIXIpcmV0dXJuIHU7dT0iYXV0byJ9cmV0dXJuIG89byYmKGUuYm94U2l6aW5nUmVsaWFibGUoKXx8dT09PW4uc3R5bGVbdF0pLCgiYXV0byI9PT11fHwhcGFyc2VGbG9hdCh1KSYmImlubGluZSI9PT1pLmNzcyhuLCJkaXNwbGF5IiwhMSxmKSkmJih1PW5bIm9mZnNldCIrdFswXS50b1VwcGVyQ2FzZSgpK3Quc2xpY2UoMSldLG89ITApLCh1PXBhcnNlRmxvYXQodSl8fDApK3dpKG4sdCxyfHwocz8iYm9yZGVyIjoiY29udGVudCIpLG8sZix1KSsicHgifWZ1bmN0aW9uIGgobix0LGkscix1KXtyZXR1cm4gbmV3IGgucHJvdG90eXBlLmluaXQobix0LGkscix1KX1mdW5jdGlvbiBiaSgpe2ZpJiYoITE9PT1mLmhpZGRlbiYmbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU/bi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYmkpOm4uc2V0VGltZW91dChiaSxpLmZ4LmludGVydmFsKSxpLmZ4LnRpY2soKSl9ZnVuY3Rpb24gdGYoKXtyZXR1cm4gbi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7c3Q9dm9pZCAwfSksc3Q9RGF0ZS5ub3coKX1mdW5jdGlvbiBlaShuLHQpe3ZhciB1LHI9MCxpPXtoZWlnaHQ6bn07Zm9yKHQ9dD8xOjA7cjw0O3IrPTItdClpWyJtYXJnaW4iKyh1PXdbcl0pXT1pWyJwYWRkaW5nIit1XT1uO3JldHVybiB0JiYoaS5vcGFjaXR5PWkud2lkdGg9biksaX1mdW5jdGlvbiByZihuLHQsaSl7Zm9yKHZhciB1LGY9KGEudHdlZW5lcnNbdF18fFtdKS5jb25jYXQoYS50d2VlbmVyc1siKiJdKSxyPTAsZT1mLmxlbmd0aDtyPGU7cisrKWlmKHU9ZltyXS5jYWxsKGksdCxuKSlyZXR1cm4gdX1mdW5jdGlvbiBubyhuLHQsdSl7dmFyIGYseSx3LGMsYixoLG8sbCxrPSJ3aWR0aCJpbiB0fHwiaGVpZ2h0ImluIHQsdj10aGlzLHA9e30scz1uLnN0eWxlLGE9bi5ub2RlVHlwZSYmdGkobiksZT1yLmdldChuLCJmeHNob3ciKTt1LnF1ZXVlfHwobnVsbD09KGM9aS5fcXVldWVIb29rcyhuLCJmeCIpKS51bnF1ZXVlZCYmKGMudW5xdWV1ZWQ9MCxiPWMuZW1wdHkuZmlyZSxjLmVtcHR5LmZpcmU9ZnVuY3Rpb24oKXtjLnVucXVldWVkfHxiKCl9KSxjLnVucXVldWVkKyssdi5hbHdheXMoZnVuY3Rpb24oKXt2LmFsd2F5cyhmdW5jdGlvbigpe2MudW5xdWV1ZWQtLTtpLnF1ZXVlKG4sImZ4IikubGVuZ3RofHxjLmVtcHR5LmZpcmUoKX0pfSkpO2ZvcihmIGluIHQpaWYoeT10W2ZdLGd1LnRlc3QoeSkpe2lmKGRlbGV0ZSB0W2ZdLHc9d3x8InRvZ2dsZSI9PT15LHk9PT0oYT8iaGlkZSI6InNob3ciKSl7aWYoInNob3ciIT09eXx8IWV8fHZvaWQgMD09PWVbZl0pY29udGludWU7YT0hMH1wW2ZdPWUmJmVbZl18fGkuc3R5bGUobixmKX1pZigoaD0haS5pc0VtcHR5T2JqZWN0KHQpKXx8IWkuaXNFbXB0eU9iamVjdChwKSl7ayYmMT09PW4ubm9kZVR5cGUmJih1Lm92ZXJmbG93PVtzLm92ZXJmbG93LHMub3ZlcmZsb3dYLHMub3ZlcmZsb3dZXSxudWxsPT0obz1lJiZlLmRpc3BsYXkpJiYobz1yLmdldChuLCJkaXNwbGF5IikpLCJub25lIj09PShsPWkuY3NzKG4sImRpc3BsYXkiKSkmJihvP2w9bzooZnQoW25dLCEwKSxvPW4uc3R5bGUuZGlzcGxheXx8byxsPWkuY3NzKG4sImRpc3BsYXkiKSxmdChbbl0pKSksKCJpbmxpbmUiPT09bHx8ImlubGluZS1ibG9jayI9PT1sJiZudWxsIT1vKSYmIm5vbmUiPT09aS5jc3MobiwiZmxvYXQiKSYmKGh8fCh2LmRvbmUoZnVuY3Rpb24oKXtzLmRpc3BsYXk9b30pLG51bGw9PW8mJihsPXMuZGlzcGxheSxvPSJub25lIj09PWw/IiI6bCkpLHMuZGlzcGxheT0iaW5saW5lLWJsb2NrIikpO3Uub3ZlcmZsb3cmJihzLm92ZXJmbG93PSJoaWRkZW4iLHYuYWx3YXlzKGZ1bmN0aW9uKCl7cy5vdmVyZmxvdz11Lm92ZXJmbG93WzBdO3Mub3ZlcmZsb3dYPXUub3ZlcmZsb3dbMV07cy5vdmVyZmxvd1k9dS5vdmVyZmxvd1syXX0pKTtoPSExO2ZvcihmIGluIHApaHx8KGU/ImhpZGRlbiJpbiBlJiYoYT1lLmhpZGRlbik6ZT1yLmFjY2VzcyhuLCJmeHNob3ciLHtkaXNwbGF5Om99KSx3JiYoZS5oaWRkZW49IWEpLGEmJmZ0KFtuXSwhMCksdi5kb25lKGZ1bmN0aW9uKCl7YXx8ZnQoW25dKTtyLnJlbW92ZShuLCJmeHNob3ciKTtmb3IoZiBpbiBwKWkuc3R5bGUobixmLHBbZl0pfSkpLGg9cmYoYT9lW2ZdOjAsZix2KSxmIGluIGV8fChlW2ZdPWguc3RhcnQsYSYmKGguZW5kPWguc3RhcnQsaC5zdGFydD0wKSl9fWZ1bmN0aW9uIHRvKG4sdCl7dmFyIHIsZixlLHUsbztmb3IociBpbiBuKWlmKGY9eShyKSxlPXRbZl0sdT1uW3JdLEFycmF5LmlzQXJyYXkodSkmJihlPXVbMV0sdT1uW3JdPXVbMF0pLHIhPT1mJiYobltmXT11LGRlbGV0ZSBuW3JdKSwobz1pLmNzc0hvb2tzW2ZdKSYmImV4cGFuZCJpbiBvKXt1PW8uZXhwYW5kKHUpO2RlbGV0ZSBuW2ZdO2ZvcihyIGluIHUpciBpbiBufHwobltyXT11W3JdLHRbcl09ZSl9ZWxzZSB0W2ZdPWV9ZnVuY3Rpb24gYShuLHQscil7dmFyIG8scyxoPTAsdj1hLnByZWZpbHRlcnMubGVuZ3RoLGU9aS5EZWZlcnJlZCgpLmFsd2F5cyhmdW5jdGlvbigpe2RlbGV0ZSBsLmVsZW19KSxsPWZ1bmN0aW9uKCl7aWYocylyZXR1cm4hMTtmb3IodmFyIG89c3R8fHRmKCksdD1NYXRoLm1heCgwLGYuc3RhcnRUaW1lK2YuZHVyYXRpb24tbyksaT0xLSh0L2YuZHVyYXRpb258fDApLHI9MCx1PWYudHdlZW5zLmxlbmd0aDtyPHU7cisrKWYudHdlZW5zW3JdLnJ1bihpKTtyZXR1cm4gZS5ub3RpZnlXaXRoKG4sW2YsaSx0XSksaTwxJiZ1P3Q6KHV8fGUubm90aWZ5V2l0aChuLFtmLDEsMF0pLGUucmVzb2x2ZVdpdGgobixbZl0pLCExKX0sZj1lLnByb21pc2Uoe2VsZW06bixwcm9wczppLmV4dGVuZCh7fSx0KSxvcHRzOmkuZXh0ZW5kKCEwLHtzcGVjaWFsRWFzaW5nOnt9LGVhc2luZzppLmVhc2luZy5fZGVmYXVsdH0sciksb3JpZ2luYWxQcm9wZXJ0aWVzOnQsb3JpZ2luYWxPcHRpb25zOnIsc3RhcnRUaW1lOnN0fHx0ZigpLGR1cmF0aW9uOnIuZHVyYXRpb24sdHdlZW5zOltdLGNyZWF0ZVR3ZWVuOmZ1bmN0aW9uKHQscil7dmFyIHU9aS5Ud2VlbihuLGYub3B0cyx0LHIsZi5vcHRzLnNwZWNpYWxFYXNpbmdbdF18fGYub3B0cy5lYXNpbmcpO3JldHVybiBmLnR3ZWVucy5wdXNoKHUpLHV9LHN0b3A6ZnVuY3Rpb24odCl7dmFyIGk9MCxyPXQ/Zi50d2VlbnMubGVuZ3RoOjA7aWYocylyZXR1cm4gdGhpcztmb3Iocz0hMDtpPHI7aSsrKWYudHdlZW5zW2ldLnJ1bigxKTtyZXR1cm4gdD8oZS5ub3RpZnlXaXRoKG4sW2YsMSwwXSksZS5yZXNvbHZlV2l0aChuLFtmLHRdKSk6ZS5yZWplY3RXaXRoKG4sW2YsdF0pLHRoaXN9fSksYz1mLnByb3BzO2Zvcih0byhjLGYub3B0cy5zcGVjaWFsRWFzaW5nKTtoPHY7aCsrKWlmKG89YS5wcmVmaWx0ZXJzW2hdLmNhbGwoZixuLGMsZi5vcHRzKSlyZXR1cm4gdShvLnN0b3ApJiYoaS5fcXVldWVIb29rcyhmLmVsZW0sZi5vcHRzLnF1ZXVlKS5zdG9wPW8uc3RvcC5iaW5kKG8pKSxvO3JldHVybiBpLm1hcChjLHJmLGYpLHUoZi5vcHRzLnN0YXJ0KSYmZi5vcHRzLnN0YXJ0LmNhbGwobixmKSxmLnByb2dyZXNzKGYub3B0cy5wcm9ncmVzcykuZG9uZShmLm9wdHMuZG9uZSxmLm9wdHMuY29tcGxldGUpLmZhaWwoZi5vcHRzLmZhaWwpLmFsd2F5cyhmLm9wdHMuYWx3YXlzKSxpLmZ4LnRpbWVyKGkuZXh0ZW5kKGwse2VsZW06bixhbmltOmYscXVldWU6Zi5vcHRzLnF1ZXVlfSkpLGZ9ZnVuY3Rpb24gZyhuKXtyZXR1cm4obi5tYXRjaChsKXx8W10pLmpvaW4oIiAiKX1mdW5jdGlvbiBudChuKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIn1mdW5jdGlvbiBraShuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9uOiJzdHJpbmciPT10eXBlb2Ygbj9uLm1hdGNoKGwpfHxbXTpbXX1mdW5jdGlvbiB0cihuLHQscix1KXt2YXIgZjtpZihBcnJheS5pc0FycmF5KHQpKWkuZWFjaCh0LGZ1bmN0aW9uKHQsaSl7cnx8aW8udGVzdChuKT91KG4saSk6dHIobisiWyIrKCJvYmplY3QiPT10eXBlb2YgaSYmbnVsbCE9aT90OiIiKSsiXSIsaSxyLHUpfSk7ZWxzZSBpZihyfHwib2JqZWN0IiE9PWl0KHQpKXUobix0KTtlbHNlIGZvcihmIGluIHQpdHIobisiWyIrZisiXSIsdFtmXSxyLHUpfWZ1bmN0aW9uIGFmKG4pe3JldHVybiBmdW5jdGlvbih0LGkpeyJzdHJpbmciIT10eXBlb2YgdCYmKGk9dCx0PSIqIik7dmFyIHIsZj0wLGU9dC50b0xvd2VyQ2FzZSgpLm1hdGNoKGwpfHxbXTtpZih1KGkpKXdoaWxlKHI9ZVtmKytdKSIrIj09PXJbMF0/KHI9ci5zbGljZSgxKXx8IioiLChuW3JdPW5bcl18fFtdKS51bnNoaWZ0KGkpKToobltyXT1uW3JdfHxbXSkucHVzaChpKX19ZnVuY3Rpb24gdmYobix0LHIsdSl7ZnVuY3Rpb24gZShzKXt2YXIgaDtyZXR1cm4gZltzXT0hMCxpLmVhY2gobltzXXx8W10sZnVuY3Rpb24obixpKXt2YXIgcz1pKHQscix1KTtyZXR1cm4ic3RyaW5nIiE9dHlwZW9mIHN8fG98fGZbc10/bz8hKGg9cyk6dm9pZCAwOih0LmRhdGFUeXBlcy51bnNoaWZ0KHMpLGUocyksITEpfSksaH12YXIgZj17fSxvPW49PT1pcjtyZXR1cm4gZSh0LmRhdGFUeXBlc1swXSl8fCFmWyIqIl0mJmUoIioiKX1mdW5jdGlvbiB1cihuLHQpe3ZhciByLHUsZj1pLmFqYXhTZXR0aW5ncy5mbGF0T3B0aW9uc3x8e307Zm9yKHIgaW4gdCl2b2lkIDAhPT10W3JdJiYoKGZbcl0/bjp1fHwodT17fSkpW3JdPXRbcl0pO3JldHVybiB1JiZpLmV4dGVuZCghMCxuLHUpLG59ZnVuY3Rpb24gbG8obix0LGkpe2Zvcih2YXIgZSx1LGYsbyxzPW4uY29udGVudHMscj1uLmRhdGFUeXBlczsiKiI9PT1yWzBdOylyLnNoaWZ0KCksdm9pZCAwPT09ZSYmKGU9bi5taW1lVHlwZXx8dC5nZXRSZXNwb25zZUhlYWRlcigiQ29udGVudC1UeXBlIikpO2lmKGUpZm9yKHUgaW4gcylpZihzW3VdJiZzW3VdLnRlc3QoZSkpe3IudW5zaGlmdCh1KTticmVha31pZihyWzBdaW4gaSlmPXJbMF07ZWxzZXtmb3IodSBpbiBpKXtpZighclswXXx8bi5jb252ZXJ0ZXJzW3UrIiAiK3JbMF1dKXtmPXU7YnJlYWt9b3x8KG89dSl9Zj1mfHxvfWlmKGYpcmV0dXJuIGYhPT1yWzBdJiZyLnVuc2hpZnQoZiksaVtmXX1mdW5jdGlvbiBhbyhuLHQsaSxyKXt2YXIgaCx1LGYscyxlLG89e30sYz1uLmRhdGFUeXBlcy5zbGljZSgpO2lmKGNbMV0pZm9yKGYgaW4gbi5jb252ZXJ0ZXJzKW9bZi50b0xvd2VyQ2FzZSgpXT1uLmNvbnZlcnRlcnNbZl07Zm9yKHU9Yy5zaGlmdCgpO3U7KWlmKG4ucmVzcG9uc2VGaWVsZHNbdV0mJihpW24ucmVzcG9uc2VGaWVsZHNbdV1dPXQpLCFlJiZyJiZuLmRhdGFGaWx0ZXImJih0PW4uZGF0YUZpbHRlcih0LG4uZGF0YVR5cGUpKSxlPXUsdT1jLnNoaWZ0KCkpaWYoIioiPT09dSl1PWU7ZWxzZSBpZigiKiIhPT1lJiZlIT09dSl7aWYoIShmPW9bZSsiICIrdV18fG9bIiogIit1XSkpZm9yKGggaW4gbylpZigocz1oLnNwbGl0KCIgIikpWzFdPT09dSYmKGY9b1tlKyIgIitzWzBdXXx8b1siKiAiK3NbMF1dKSl7ITA9PT1mP2Y9b1toXTohMCE9PW9baF0mJih1PXNbMF0sYy51bnNoaWZ0KHNbMV0pKTticmVha31pZighMCE9PWYpaWYoZiYmbi50aHJvd3MpdD1mKHQpO2Vsc2UgdHJ5e3Q9Zih0KX1jYXRjaChuKXtyZXR1cm57c3RhdGU6InBhcnNlcmVycm9yIixlcnJvcjpmP246Ik5vIGNvbnZlcnNpb24gZnJvbSAiK2UrIiB0byAiK3V9fX1yZXR1cm57c3RhdGU6InN1Y2Nlc3MiLGRhdGE6dH19dmFyIGs9W10sZj1uLmRvY3VtZW50LGJmPU9iamVjdC5nZXRQcm90b3R5cGVPZixkPWsuc2xpY2UsZXI9ay5jb25jYXQsc2k9ay5wdXNoLHd0PWsuaW5kZXhPZixidD17fSxvcj1idC50b1N0cmluZyxrdD1idC5oYXNPd25Qcm9wZXJ0eSxzcj1rdC50b1N0cmluZyxrZj1zci5jYWxsKE9iamVjdCksZT17fSx1PWZ1bmN0aW9uKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuJiYibnVtYmVyIiE9dHlwZW9mIG4ubm9kZVR5cGV9LHR0PWZ1bmN0aW9uKG4pe3JldHVybiBudWxsIT1uJiZuPT09bi53aW5kb3d9LGRmPXt0eXBlOiEwLHNyYzohMCxub01vZHVsZTohMH0saT1mdW5jdGlvbihuLHQpe3JldHVybiBuZXcgaS5mbi5pbml0KG4sdCl9LGdmPS9eW1xzXHVGRUZGXHhBMF0rfFtcc1x1RkVGRlx4QTBdKyQvZyxiLGNpLGFyLHZyLHlyLHByLGwsa3IsZ3QsbHQsYWksZnUsc3QsZmksZ3UsbmYsdWYsaHQsZmYsZWYsb2YsZGksZ2kseWYsY3QsZnIsb2kscGYsd2Y7aS5mbj1pLnByb3RvdHlwZT17anF1ZXJ5OiIzLjMuMSIsY29uc3RydWN0b3I6aSxsZW5ndGg6MCx0b0FycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIGQuY2FsbCh0aGlzKX0sZ2V0OmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uP2QuY2FsbCh0aGlzKTpuPDA/dGhpc1tuK3RoaXMubGVuZ3RoXTp0aGlzW25dfSxwdXNoU3RhY2s6ZnVuY3Rpb24obil7dmFyIHQ9aS5tZXJnZSh0aGlzLmNvbnN0cnVjdG9yKCksbik7cmV0dXJuIHQucHJldk9iamVjdD10aGlzLHR9LGVhY2g6ZnVuY3Rpb24obil7cmV0dXJuIGkuZWFjaCh0aGlzLG4pfSxtYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGkubWFwKHRoaXMsZnVuY3Rpb24odCxpKXtyZXR1cm4gbi5jYWxsKHQsaSx0KX0pKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZC5hcHBseSh0aGlzLGFyZ3VtZW50cykpfSxmaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKDApfSxsYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoLTEpfSxlcTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLmxlbmd0aCx0PStuKyhuPDA/aTowKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2sodD49MCYmdDxpP1t0aGlzW3RdXTpbXSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IoKX0scHVzaDpzaSxzb3J0Omsuc29ydCxzcGxpY2U6ay5zcGxpY2V9O2kuZXh0ZW5kPWkuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIG8sZSx0LHIscyxoLG49YXJndW1lbnRzWzBdfHx7fSxmPTEsbD1hcmd1bWVudHMubGVuZ3RoLGM9ITE7Zm9yKCJib29sZWFuIj09dHlwZW9mIG4mJihjPW4sbj1hcmd1bWVudHNbZl18fHt9LGYrKyksIm9iamVjdCI9PXR5cGVvZiBufHx1KG4pfHwobj17fSksZj09PWwmJihuPXRoaXMsZi0tKTtmPGw7ZisrKWlmKG51bGwhPShvPWFyZ3VtZW50c1tmXSkpZm9yKGUgaW4gbyl0PW5bZV0sbiE9PShyPW9bZV0pJiYoYyYmciYmKGkuaXNQbGFpbk9iamVjdChyKXx8KHM9QXJyYXkuaXNBcnJheShyKSkpPyhzPyhzPSExLGg9dCYmQXJyYXkuaXNBcnJheSh0KT90OltdKTpoPXQmJmkuaXNQbGFpbk9iamVjdCh0KT90Ont9LG5bZV09aS5leHRlbmQoYyxoLHIpKTp2b2lkIDAhPT1yJiYobltlXT1yKSk7cmV0dXJuIG59O2kuZXh0ZW5kKHtleHBhbmRvOiJqUXVlcnkiKygiMy4zLjEiK01hdGgucmFuZG9tKCkpLnJlcGxhY2UoL1xEL2csIiIpLGlzUmVhZHk6ITAsZXJyb3I6ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKG4pO30sbm9vcDpmdW5jdGlvbigpe30saXNQbGFpbk9iamVjdDpmdW5jdGlvbihuKXt2YXIgdCxpO3JldHVybiEoIW58fCJbb2JqZWN0IE9iamVjdF0iIT09b3IuY2FsbChuKSkmJighKHQ9YmYobikpfHwiZnVuY3Rpb24iPT10eXBlb2YoaT1rdC5jYWxsKHQsImNvbnN0cnVjdG9yIikmJnQuY29uc3RydWN0b3IpJiZzci5jYWxsKGkpPT09a2YpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKG4pe2Zvcih2YXIgdCBpbiBuKXJldHVybiExO3JldHVybiEwfSxnbG9iYWxFdmFsOmZ1bmN0aW9uKG4pe2hyKG4pfSxlYWNoOmZ1bmN0aW9uKG4sdCl7dmFyIHIsaT0wO2lmKGhpKG4pKXtmb3Iocj1uLmxlbmd0aDtpPHI7aSsrKWlmKCExPT09dC5jYWxsKG5baV0saSxuW2ldKSlicmVha31lbHNlIGZvcihpIGluIG4paWYoITE9PT10LmNhbGwobltpXSxpLG5baV0pKWJyZWFrO3JldHVybiBufSx0cmltOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOihuKyIiKS5yZXBsYWNlKGdmLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKG4sdCl7dmFyIHI9dHx8W107cmV0dXJuIG51bGwhPW4mJihoaShPYmplY3QobikpP2kubWVyZ2Uociwic3RyaW5nIj09dHlwZW9mIG4/W25dOm4pOnNpLmNhbGwocixuKSkscn0saW5BcnJheTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIG51bGw9PXQ/LTE6d3QuY2FsbCh0LG4saSl9LG1lcmdlOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciB1PSt0Lmxlbmd0aCxpPTAscj1uLmxlbmd0aDtpPHU7aSsrKW5bcisrXT10W2ldO3JldHVybiBuLmxlbmd0aD1yLG59LGdyZXA6ZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgZix1PVtdLHI9MCxlPW4ubGVuZ3RoLG89IWk7cjxlO3IrKykoZj0hdChuW3JdLHIpKSE9PW8mJnUucHVzaChuW3JdKTtyZXR1cm4gdX0sbWFwOmZ1bmN0aW9uKG4sdCxpKXt2YXIgZSx1LHI9MCxmPVtdO2lmKGhpKG4pKWZvcihlPW4ubGVuZ3RoO3I8ZTtyKyspbnVsbCE9KHU9dChuW3JdLHIsaSkpJiZmLnB1c2godSk7ZWxzZSBmb3IociBpbiBuKW51bGwhPSh1PXQobltyXSxyLGkpKSYmZi5wdXNoKHUpO3JldHVybiBlci5hcHBseShbXSxmKX0sZ3VpZDoxLHN1cHBvcnQ6ZX0pOyJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJihpLmZuW1N5bWJvbC5pdGVyYXRvcl09a1tTeW1ib2wuaXRlcmF0b3JdKTtpLmVhY2goIkJvb2xlYW4gTnVtYmVyIFN0cmluZyBGdW5jdGlvbiBBcnJheSBEYXRlIFJlZ0V4cCBPYmplY3QgRXJyb3IgU3ltYm9sIi5zcGxpdCgiICIpLGZ1bmN0aW9uKG4sdCl7YnRbIltvYmplY3QgIit0KyJdIl09dC50b0xvd2VyQ2FzZSgpfSk7Yj1mdW5jdGlvbihuKXtmdW5jdGlvbiB1KG4sdCxyLHUpe3ZhciBzLHAsbCxhLHcsZCxnLHk9dCYmdC5vd25lckRvY3VtZW50LHY9dD90Lm5vZGVUeXBlOjk7aWYocj1yfHxbXSwic3RyaW5nIiE9dHlwZW9mIG58fCFufHwxIT09diYmOSE9PXYmJjExIT09dilyZXR1cm4gcjtpZighdSYmKCh0P3Qub3duZXJEb2N1bWVudHx8dDpjKSE9PWkmJmIodCksdD10fHxpLGgpKXtpZigxMSE9PXYmJih3PWNyLmV4ZWMobikpKWlmKHM9d1sxXSl7aWYoOT09PXYpe2lmKCEobD10LmdldEVsZW1lbnRCeUlkKHMpKSlyZXR1cm4gcjtpZihsLmlkPT09cylyZXR1cm4gci5wdXNoKGwpLHJ9ZWxzZSBpZih5JiYobD15LmdldEVsZW1lbnRCeUlkKHMpKSYmZXQodCxsKSYmbC5pZD09PXMpcmV0dXJuIHIucHVzaChsKSxyfWVsc2V7aWYod1syXSlyZXR1cm4gay5hcHBseShyLHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUobikpLHI7aWYoKHM9d1szXSkmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKXJldHVybiBrLmFwcGx5KHIsdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHMpKSxyfWlmKGUucXNhJiYhbHRbbisiICJdJiYoIW98fCFvLnRlc3QobikpKXtpZigxIT09dil5PXQsZz1uO2Vsc2UgaWYoIm9iamVjdCIhPT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpe2ZvcigoYT10LmdldEF0dHJpYnV0ZSgiaWQiKSk/YT1hLnJlcGxhY2UodmkseWkpOnQuc2V0QXR0cmlidXRlKCJpZCIsYT1mKSxwPShkPWZ0KG4pKS5sZW5ndGg7cC0tOylkW3BdPSIjIithKyIgIit5dChkW3BdKTtnPWQuam9pbigiLCIpO3k9bmkudGVzdChuKSYmcmkodC5wYXJlbnROb2RlKXx8dH1pZihnKXRyeXtyZXR1cm4gay5hcHBseShyLHkucXVlcnlTZWxlY3RvckFsbChnKSkscn1jYXRjaChuKXt9ZmluYWxseXthPT09ZiYmdC5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fX1yZXR1cm4gc2kobi5yZXBsYWNlKGF0LCIkMSIpLHQscix1KX1mdW5jdGlvbiB0aSgpe2Z1bmN0aW9uIG4ocix1KXtyZXR1cm4gaS5wdXNoKHIrIiAiKT50LmNhY2hlTGVuZ3RoJiZkZWxldGUgbltpLnNoaWZ0KCldLG5bcisiICJdPXV9dmFyIGk9W107cmV0dXJuIG59ZnVuY3Rpb24gbChuKXtyZXR1cm4gbltmXT0hMCxufWZ1bmN0aW9uIGEobil7dmFyIHQ9aS5jcmVhdGVFbGVtZW50KCJmaWVsZHNldCIpO3RyeXtyZXR1cm4hIW4odCl9Y2F0Y2gobil7cmV0dXJuITF9ZmluYWxseXt0LnBhcmVudE5vZGUmJnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt0PW51bGx9fWZ1bmN0aW9uIGlpKG4saSl7Zm9yKHZhciByPW4uc3BsaXQoInwiKSx1PXIubGVuZ3RoO3UtLTspdC5hdHRySGFuZGxlW3JbdV1dPWl9ZnVuY3Rpb24gd2kobix0KXt2YXIgaT10JiZuLHI9aSYmMT09PW4ubm9kZVR5cGUmJjE9PT10Lm5vZGVUeXBlJiZuLnNvdXJjZUluZGV4LXQuc291cmNlSW5kZXg7aWYocilyZXR1cm4gcjtpZihpKXdoaWxlKGk9aS5uZXh0U2libGluZylpZihpPT09dClyZXR1cm4tMTtyZXR1cm4gbj8xOi0xfWZ1bmN0aW9uIGFyKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4iaW5wdXQiPT09dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiZ0LnR5cGU9PT1ufX1mdW5jdGlvbiB2cihuKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybigiaW5wdXQiPT09aXx8ImJ1dHRvbiI9PT1pKSYmdC50eXBlPT09bn19ZnVuY3Rpb24gYmkobil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiJmb3JtImluIHQ/dC5wYXJlbnROb2RlJiYhMT09PXQuZGlzYWJsZWQ/ImxhYmVsImluIHQ/ImxhYmVsImluIHQucGFyZW50Tm9kZT90LnBhcmVudE5vZGUuZGlzYWJsZWQ9PT1uOnQuZGlzYWJsZWQ9PT1uOnQuaXNEaXNhYmxlZD09PW58fHQuaXNEaXNhYmxlZCE9PSFuJiZscih0KT09PW46dC5kaXNhYmxlZD09PW46ImxhYmVsImluIHQmJnQuZGlzYWJsZWQ9PT1ufX1mdW5jdGlvbiBpdChuKXtyZXR1cm4gbChmdW5jdGlvbih0KXtyZXR1cm4gdD0rdCxsKGZ1bmN0aW9uKGkscil7Zm9yKHZhciB1LGY9bihbXSxpLmxlbmd0aCx0KSxlPWYubGVuZ3RoO2UtLTspaVt1PWZbZV1dJiYoaVt1XT0hKHJbdV09aVt1XSkpfSl9KX1mdW5jdGlvbiByaShuKXtyZXR1cm4gbiYmInVuZGVmaW5lZCIhPXR5cGVvZiBuLmdldEVsZW1lbnRzQnlUYWdOYW1lJiZufWZ1bmN0aW9uIGtpKCl7fWZ1bmN0aW9uIHl0KG4pe2Zvcih2YXIgdD0wLHI9bi5sZW5ndGgsaT0iIjt0PHI7dCsrKWkrPW5bdF0udmFsdWU7cmV0dXJuIGl9ZnVuY3Rpb24gcHQobix0LGkpe3ZhciByPXQuZGlyLHU9dC5uZXh0LGU9dXx8cixvPWkmJiJwYXJlbnROb2RlIj09PWUscz1kaSsrO3JldHVybiB0LmZpcnN0P2Z1bmN0aW9uKHQsaSx1KXt3aGlsZSh0PXRbcl0paWYoMT09PXQubm9kZVR5cGV8fG8pcmV0dXJuIG4odCxpLHUpO3JldHVybiExfTpmdW5jdGlvbih0LGksaCl7dmFyIGMsbCxhLHk9W3Ysc107aWYoaCl7d2hpbGUodD10W3JdKWlmKCgxPT09dC5ub2RlVHlwZXx8bykmJm4odCxpLGgpKXJldHVybiEwfWVsc2Ugd2hpbGUodD10W3JdKWlmKDE9PT10Lm5vZGVUeXBlfHxvKWlmKGE9dFtmXXx8KHRbZl09e30pLGw9YVt0LnVuaXF1ZUlEXXx8KGFbdC51bmlxdWVJRF09e30pLHUmJnU9PT10Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpdD10W3JdfHx0O2Vsc2V7aWYoKGM9bFtlXSkmJmNbMF09PT12JiZjWzFdPT09cylyZXR1cm4geVsyXT1jWzJdO2lmKGxbZV09eSx5WzJdPW4odCxpLGgpKXJldHVybiEwfXJldHVybiExfX1mdW5jdGlvbiB1aShuKXtyZXR1cm4gbi5sZW5ndGg+MT9mdW5jdGlvbih0LGkscil7Zm9yKHZhciB1PW4ubGVuZ3RoO3UtLTspaWYoIW5bdV0odCxpLHIpKXJldHVybiExO3JldHVybiEwfTpuWzBdfWZ1bmN0aW9uIHlyKG4sdCxpKXtmb3IodmFyIHI9MCxmPXQubGVuZ3RoO3I8ZjtyKyspdShuLHRbcl0saSk7cmV0dXJuIGl9ZnVuY3Rpb24gd3Qobix0LGkscix1KXtmb3IodmFyIGUsbz1bXSxmPTAscz1uLmxlbmd0aCxoPW51bGwhPXQ7ZjxzO2YrKykoZT1uW2ZdKSYmKGkmJiFpKGUscix1KXx8KG8ucHVzaChlKSxoJiZ0LnB1c2goZikpKTtyZXR1cm4gb31mdW5jdGlvbiBmaShuLHQsaSxyLHUsZSl7cmV0dXJuIHImJiFyW2ZdJiYocj1maShyKSksdSYmIXVbZl0mJih1PWZpKHUsZSkpLGwoZnVuY3Rpb24oZixlLG8scyl7dmFyIGwsYyxhLHA9W10seT1bXSx3PWUubGVuZ3RoLGI9Znx8eXIodHx8IioiLG8ubm9kZVR5cGU/W29dOm8sW10pLHY9IW58fCFmJiZ0P2I6d3QoYixwLG4sbyxzKSxoPWk/dXx8KGY/bjp3fHxyKT9bXTplOnY7aWYoaSYmaSh2LGgsbyxzKSxyKWZvcihsPXd0KGgseSkscihsLFtdLG8scyksYz1sLmxlbmd0aDtjLS07KShhPWxbY10pJiYoaFt5W2NdXT0hKHZbeVtjXV09YSkpO2lmKGYpe2lmKHV8fG4pe2lmKHUpe2ZvcihsPVtdLGM9aC5sZW5ndGg7Yy0tOykoYT1oW2NdKSYmbC5wdXNoKHZbY109YSk7dShudWxsLGg9W10sbCxzKX1mb3IoYz1oLmxlbmd0aDtjLS07KShhPWhbY10pJiYobD11P250KGYsYSk6cFtjXSk+LTEmJihmW2xdPSEoZVtsXT1hKSl9fWVsc2UgaD13dChoPT09ZT9oLnNwbGljZSh3LGgubGVuZ3RoKTpoKSx1P3UobnVsbCxlLGgscyk6ay5hcHBseShlLGgpfSl9ZnVuY3Rpb24gZWkobil7Zm9yKHZhciBvLHUscixzPW4ubGVuZ3RoLGg9dC5yZWxhdGl2ZVtuWzBdLnR5cGVdLGM9aHx8dC5yZWxhdGl2ZVsiICJdLGk9aD8xOjAsbD1wdChmdW5jdGlvbihuKXtyZXR1cm4gbj09PW99LGMsITApLGE9cHQoZnVuY3Rpb24obil7cmV0dXJuIG50KG8sbik+LTF9LGMsITApLGU9W2Z1bmN0aW9uKG4sdCxpKXt2YXIgcj0haCYmKGl8fHQhPT1odCl8fCgobz10KS5ub2RlVHlwZT9sKG4sdCxpKTphKG4sdCxpKSk7cmV0dXJuIG89bnVsbCxyfV07aTxzO2krKylpZih1PXQucmVsYXRpdmVbbltpXS50eXBlXSllPVtwdCh1aShlKSx1KV07ZWxzZXtpZigodT10LmZpbHRlcltuW2ldLnR5cGVdLmFwcGx5KG51bGwsbltpXS5tYXRjaGVzKSlbZl0pe2ZvcihyPSsraTtyPHM7cisrKWlmKHQucmVsYXRpdmVbbltyXS50eXBlXSlicmVhaztyZXR1cm4gZmkoaT4xJiZ1aShlKSxpPjEmJnl0KG4uc2xpY2UoMCxpLTEpLmNvbmNhdCh7dmFsdWU6IiAiPT09bltpLTJdLnR5cGU/IioiOiIifSkpLnJlcGxhY2UoYXQsIiQxIiksdSxpPHImJmVpKG4uc2xpY2UoaSxyKSkscjxzJiZlaShuPW4uc2xpY2UocikpLHI8cyYmeXQobikpfWUucHVzaCh1KX1yZXR1cm4gdWkoZSl9ZnVuY3Rpb24gcHIobixyKXt2YXIgZj1yLmxlbmd0aD4wLGU9bi5sZW5ndGg+MCxvPWZ1bmN0aW9uKG8scyxjLGwsYSl7dmFyIHksbnQsZCxnPTAscD0iMCIsdHQ9byYmW10sdz1bXSxpdD1odCxydD1vfHxlJiZ0LmZpbmQuVEFHKCIqIixhKSx1dD12Kz1udWxsPT1pdD8xOk1hdGgucmFuZG9tKCl8fC4xLGZ0PXJ0Lmxlbmd0aDtmb3IoYSYmKGh0PXM9PT1pfHxzfHxhKTtwIT09ZnQmJm51bGwhPSh5PXJ0W3BdKTtwKyspe2lmKGUmJnkpe2ZvcihudD0wLHN8fHkub3duZXJEb2N1bWVudD09PWl8fChiKHkpLGM9IWgpO2Q9bltudCsrXTspaWYoZCh5LHN8fGksYykpe2wucHVzaCh5KTticmVha31hJiYodj11dCl9ZiYmKCh5PSFkJiZ5KSYmZy0tLG8mJnR0LnB1c2goeSkpfWlmKGcrPXAsZiYmcCE9PWcpe2ZvcihudD0wO2Q9cltudCsrXTspZCh0dCx3LHMsYyk7aWYobyl7aWYoZz4wKXdoaWxlKHAtLSl0dFtwXXx8d1twXXx8KHdbcF09bnIuY2FsbChsKSk7dz13dCh3KX1rLmFwcGx5KGwsdyk7YSYmIW8mJncubGVuZ3RoPjAmJmcrci5sZW5ndGg+MSYmdS51bmlxdWVTb3J0KGwpfXJldHVybiBhJiYodj11dCxodD1pdCksdHR9O3JldHVybiBmP2wobyk6b312YXIgcnQsZSx0LHN0LG9pLGZ0LGJ0LHNpLGh0LHcsdXQsYixpLHMsaCxvLGQsY3QsZXQsZj0ic2l6emxlIisxKm5ldyBEYXRlLGM9bi5kb2N1bWVudCx2PTAsZGk9MCxoaT10aSgpLGNpPXRpKCksbHQ9dGkoKSxrdD1mdW5jdGlvbihuLHQpe3JldHVybiBuPT09dCYmKHV0PSEwKSwwfSxnaT17fS5oYXNPd25Qcm9wZXJ0eSxnPVtdLG5yPWcucG9wLHRyPWcucHVzaCxrPWcucHVzaCxsaT1nLnNsaWNlLG50PWZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTAscj1uLmxlbmd0aDtpPHI7aSsrKWlmKG5baV09PT10KXJldHVybiBpO3JldHVybi0xfSxkdD0iY2hlY2tlZHxzZWxlY3RlZHxhc3luY3xhdXRvZm9jdXN8YXV0b3BsYXl8Y29udHJvbHN8ZGVmZXJ8ZGlzYWJsZWR8aGlkZGVufGlzbWFwfGxvb3B8bXVsdGlwbGV8b3BlbnxyZWFkb25seXxyZXF1aXJlZHxzY29wZWQiLHI9IltcXHgyMFxcdFxcclxcblxcZl0iLHR0PSIoPzpcXFxcLnxbXFx3LV18W15cMC1cXHhhMF0pKyIsYWk9IlxcWyIrcisiKigiK3R0KyIpKD86IityKyIqKFsqXiR8IX5dPz0pIityKyIqKD86JygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCJ8KCIrdHQrIikpfCkiK3IrIipcXF0iLGd0PSI6KCIrdHQrIikoPzpcXCgoKCcoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwiKXwoKD86XFxcXC58W15cXFxcKClbXFxdXXwiK2FpKyIpKil8LiopXFwpfCkiLGlyPW5ldyBSZWdFeHAocisiKyIsImciKSxhdD1uZXcgUmVnRXhwKCJeIityKyIrfCgoPzpefFteXFxcXF0pKD86XFxcXC4pKikiK3IrIiskIiwiZyIpLHJyPW5ldyBSZWdFeHAoIl4iK3IrIiosIityKyIqIiksdXI9bmV3IFJlZ0V4cCgiXiIrcisiKihbPit+XXwiK3IrIikiK3IrIioiKSxmcj1uZXcgUmVnRXhwKCI9IityKyIqKFteXFxdJ1wiXSo/KSIrcisiKlxcXSIsImciKSxlcj1uZXcgUmVnRXhwKGd0KSxvcj1uZXcgUmVnRXhwKCJeIit0dCsiJCIpLHZ0PXtJRDpuZXcgUmVnRXhwKCJeIygiK3R0KyIpIiksQ0xBU1M6bmV3IFJlZ0V4cCgiXlxcLigiK3R0KyIpIiksVEFHOm5ldyBSZWdFeHAoIl4oIit0dCsifFsqXSkiKSxBVFRSOm5ldyBSZWdFeHAoIl4iK2FpKSxQU0VVRE86bmV3IFJlZ0V4cCgiXiIrZ3QpLENISUxEOm5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIrcisiKihldmVufG9kZHwoKFsrLV18KShcXGQqKW58KSIrcisiKig/OihbKy1dfCkiK3IrIiooXFxkKyl8KSkiK3IrIipcXCl8KSIsImkiKSxib29sOm5ldyBSZWdFeHAoIl4oPzoiK2R0KyIpJCIsImkiKSxuZWVkc0NvbnRleHQ6bmV3IFJlZ0V4cCgiXiIrcisiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFwoIityKyIqKCg/Oi1cXGQpP1xcZCopIityKyIqXFwpfCkoPz1bXi1dfCQpIiwiaSIpfSxzcj0vXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLGhyPS9eaFxkJC9pLG90PS9eW157XStce1xzKlxbbmF0aXZlIFx3Lyxjcj0vXig/OiMoW1x3LV0rKXwoXHcrKXxcLihbXHctXSspKSQvLG5pPS9bK35dLyx5PW5ldyBSZWdFeHAoIlxcXFwoW1xcZGEtZl17MSw2fSIrcisiP3woIityKyIpfC4pIiwiaWciKSxwPWZ1bmN0aW9uKG4sdCxpKXt2YXIgcj0iMHgiK3QtNjU1MzY7cmV0dXJuIHIhPT1yfHxpP3Q6cjwwP1N0cmluZy5mcm9tQ2hhckNvZGUocis2NTUzNik6U3RyaW5nLmZyb21DaGFyQ29kZShyPj4xMHw1NTI5NiwxMDIzJnJ8NTYzMjApfSx2aT0vKFtcMC1ceDFmXHg3Zl18Xi0/XGQpfF4tJHxbXlwwLVx4MWZceDdmLVx1RkZGRlx3LV0vZyx5aT1mdW5jdGlvbihuLHQpe3JldHVybiB0PyJcMCI9PT1uPyLvv70iOm4uc2xpY2UoMCwtMSkrIlxcIituLmNoYXJDb2RlQXQobi5sZW5ndGgtMSkudG9TdHJpbmcoMTYpKyIgIjoiXFwiK259LHBpPWZ1bmN0aW9uKCl7YigpfSxscj1wdChmdW5jdGlvbihuKXtyZXR1cm4hMD09PW4uZGlzYWJsZWQmJigiZm9ybSJpbiBufHwibGFiZWwiaW4gbil9LHtkaXI6InBhcmVudE5vZGUiLG5leHQ6ImxlZ2VuZCJ9KTt0cnl7ay5hcHBseShnPWxpLmNhbGwoYy5jaGlsZE5vZGVzKSxjLmNoaWxkTm9kZXMpO2dbYy5jaGlsZE5vZGVzLmxlbmd0aF0ubm9kZVR5cGV9Y2F0Y2gobil7az17YXBwbHk6Zy5sZW5ndGg/ZnVuY3Rpb24obix0KXt0ci5hcHBseShuLGxpLmNhbGwodCkpfTpmdW5jdGlvbihuLHQpe2Zvcih2YXIgaT1uLmxlbmd0aCxyPTA7bltpKytdPXRbcisrXTspO24ubGVuZ3RoPWktMX19fWU9dS5zdXBwb3J0PXt9O29pPXUuaXNYTUw9ZnVuY3Rpb24obil7dmFyIHQ9biYmKG4ub3duZXJEb2N1bWVudHx8bikuZG9jdW1lbnRFbGVtZW50O3JldHVybiEhdCYmIkhUTUwiIT09dC5ub2RlTmFtZX07Yj11LnNldERvY3VtZW50PWZ1bmN0aW9uKG4pe3ZhciB2LHUsbD1uP24ub3duZXJEb2N1bWVudHx8bjpjO3JldHVybiBsIT09aSYmOT09PWwubm9kZVR5cGUmJmwuZG9jdW1lbnRFbGVtZW50PyhpPWwscz1pLmRvY3VtZW50RWxlbWVudCxoPSFvaShpKSxjIT09aSYmKHU9aS5kZWZhdWx0VmlldykmJnUudG9wIT09dSYmKHUuYWRkRXZlbnRMaXN0ZW5lcj91LmFkZEV2ZW50TGlzdGVuZXIoInVubG9hZCIscGksITEpOnUuYXR0YWNoRXZlbnQmJnUuYXR0YWNoRXZlbnQoIm9udW5sb2FkIixwaSkpLGUuYXR0cmlidXRlcz1hKGZ1bmN0aW9uKG4pe3JldHVybiBuLmNsYXNzTmFtZT0iaSIsIW4uZ2V0QXR0cmlidXRlKCJjbGFzc05hbWUiKX0pLGUuZ2V0RWxlbWVudHNCeVRhZ05hbWU9YShmdW5jdGlvbihuKXtyZXR1cm4gbi5hcHBlbmRDaGlsZChpLmNyZWF0ZUNvbW1lbnQoIiIpKSwhbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aH0pLGUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZT1vdC50ZXN0KGkuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSksZS5nZXRCeUlkPWEoZnVuY3Rpb24obil7cmV0dXJuIHMuYXBwZW5kQ2hpbGQobikuaWQ9ZiwhaS5nZXRFbGVtZW50c0J5TmFtZXx8IWkuZ2V0RWxlbWVudHNCeU5hbWUoZikubGVuZ3RofSksZS5nZXRCeUlkPyh0LmZpbHRlci5JRD1mdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIG4uZ2V0QXR0cmlidXRlKCJpZCIpPT09dH19LHQuZmluZC5JRD1mdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmaCl7dmFyIGk9dC5nZXRFbGVtZW50QnlJZChuKTtyZXR1cm4gaT9baV06W119fSk6KHQuZmlsdGVyLklEPWZ1bmN0aW9uKG4pe3ZhciB0PW4ucmVwbGFjZSh5LHApO3JldHVybiBmdW5jdGlvbihuKXt2YXIgaT0idW5kZWZpbmVkIiE9dHlwZW9mIG4uZ2V0QXR0cmlidXRlTm9kZSYmbi5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBpJiZpLnZhbHVlPT09dH19LHQuZmluZC5JRD1mdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50QnlJZCYmaCl7dmFyIHIsdSxmLGk9dC5nZXRFbGVtZW50QnlJZChuKTtpZihpKXtpZigocj1pLmdldEF0dHJpYnV0ZU5vZGUoImlkIikpJiZyLnZhbHVlPT09bilyZXR1cm5baV07Zm9yKGY9dC5nZXRFbGVtZW50c0J5TmFtZShuKSx1PTA7aT1mW3UrK107KWlmKChyPWkuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKSkmJnIudmFsdWU9PT1uKXJldHVybltpXX1yZXR1cm5bXX19KSx0LmZpbmQuVEFHPWUuZ2V0RWxlbWVudHNCeVRhZ05hbWU/ZnVuY3Rpb24obix0KXtyZXR1cm4idW5kZWZpbmVkIiE9dHlwZW9mIHQuZ2V0RWxlbWVudHNCeVRhZ05hbWU/dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTplLnFzYT90LnF1ZXJ5U2VsZWN0b3JBbGwobik6dm9pZCAwfTpmdW5jdGlvbihuLHQpe3ZhciBpLHI9W10sZj0wLHU9dC5nZXRFbGVtZW50c0J5VGFnTmFtZShuKTtpZigiKiI9PT1uKXt3aGlsZShpPXVbZisrXSkxPT09aS5ub2RlVHlwZSYmci5wdXNoKGkpO3JldHVybiByfXJldHVybiB1fSx0LmZpbmQuQ0xBU1M9ZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZmdW5jdGlvbihuLHQpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZoKXJldHVybiB0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUobil9LGQ9W10sbz1bXSwoZS5xc2E9b3QudGVzdChpLnF1ZXJ5U2VsZWN0b3JBbGwpKSYmKGEoZnVuY3Rpb24obil7cy5hcHBlbmRDaGlsZChuKS5pbm5lckhUTUw9IjxhIGlkPSciK2YrIic+PFwvYT48c2VsZWN0IGlkPSciK2YrIi1cclxcJyBtc2FsbG93Y2FwdHVyZT0nJz48b3B0aW9uIHNlbGVjdGVkPScnPjxcL29wdGlvbj48XC9zZWxlY3Q+IjtuLnF1ZXJ5U2VsZWN0b3JBbGwoIlttc2FsbG93Y2FwdHVyZV49JyddIikubGVuZ3RoJiZvLnB1c2goIlsqXiRdPSIrcisiKig/OicnfFwiXCIpIik7bi5xdWVyeVNlbGVjdG9yQWxsKCJbc2VsZWN0ZWRdIikubGVuZ3RofHxvLnB1c2goIlxcWyIrcisiKig/OnZhbHVlfCIrZHQrIikiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZH49IitmKyItXSIpLmxlbmd0aHx8by5wdXNoKCJ+PSIpO24ucXVlcnlTZWxlY3RvckFsbCgiOmNoZWNrZWQiKS5sZW5ndGh8fG8ucHVzaCgiOmNoZWNrZWQiKTtuLnF1ZXJ5U2VsZWN0b3JBbGwoImEjIitmKyIrKiIpLmxlbmd0aHx8by5wdXNoKCIuIy4rWyt+XSIpfSksYShmdW5jdGlvbihuKXtuLmlubmVySFRNTD0iPGEgaHJlZj0nJyBkaXNhYmxlZD0nZGlzYWJsZWQnPjxcL2E+PHNlbGVjdCBkaXNhYmxlZD0nZGlzYWJsZWQnPjxvcHRpb24vPjxcL3NlbGVjdD4iO3ZhciB0PWkuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTt0LnNldEF0dHJpYnV0ZSgidHlwZSIsImhpZGRlbiIpO24uYXBwZW5kQ2hpbGQodCkuc2V0QXR0cmlidXRlKCJuYW1lIiwiRCIpO24ucXVlcnlTZWxlY3RvckFsbCgiW25hbWU9ZF0iKS5sZW5ndGgmJm8ucHVzaCgibmFtZSIrcisiKlsqXiR8IX5dPz0iKTsyIT09bi5xdWVyeVNlbGVjdG9yQWxsKCI6ZW5hYmxlZCIpLmxlbmd0aCYmby5wdXNoKCI6ZW5hYmxlZCIsIjpkaXNhYmxlZCIpO3MuYXBwZW5kQ2hpbGQobikuZGlzYWJsZWQ9ITA7MiE9PW4ucXVlcnlTZWxlY3RvckFsbCgiOmRpc2FibGVkIikubGVuZ3RoJiZvLnB1c2goIjplbmFibGVkIiwiOmRpc2FibGVkIik7bi5xdWVyeVNlbGVjdG9yQWxsKCIqLDp4Iik7by5wdXNoKCIsLio6Iil9KSksKGUubWF0Y2hlc1NlbGVjdG9yPW90LnRlc3QoY3Q9cy5tYXRjaGVzfHxzLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8cy5tb3pNYXRjaGVzU2VsZWN0b3J8fHMub01hdGNoZXNTZWxlY3Rvcnx8cy5tc01hdGNoZXNTZWxlY3RvcikpJiZhKGZ1bmN0aW9uKG4pe2UuZGlzY29ubmVjdGVkTWF0Y2g9Y3QuY2FsbChuLCIqIik7Y3QuY2FsbChuLCJbcyE9JyddOngiKTtkLnB1c2goIiE9IixndCl9KSxvPW8ubGVuZ3RoJiZuZXcgUmVnRXhwKG8uam9pbigifCIpKSxkPWQubGVuZ3RoJiZuZXcgUmVnRXhwKGQuam9pbigifCIpKSx2PW90LnRlc3Qocy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiksZXQ9dnx8b3QudGVzdChzLmNvbnRhaW5zKT9mdW5jdGlvbihuLHQpe3ZhciByPTk9PT1uLm5vZGVUeXBlP24uZG9jdW1lbnRFbGVtZW50Om4saT10JiZ0LnBhcmVudE5vZGU7cmV0dXJuIG49PT1pfHwhKCFpfHwxIT09aS5ub2RlVHlwZXx8IShyLmNvbnRhaW5zP3IuY29udGFpbnMoaSk6bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiYmMTYmbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSkpfTpmdW5jdGlvbihuLHQpe2lmKHQpd2hpbGUodD10LnBhcmVudE5vZGUpaWYodD09PW4pcmV0dXJuITA7cmV0dXJuITF9LGt0PXY/ZnVuY3Rpb24obix0KXtpZihuPT09dClyZXR1cm4gdXQ9ITAsMDt2YXIgcj0hbi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbi0hdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtyZXR1cm4gcnx8KDEmKHI9KG4ub3duZXJEb2N1bWVudHx8bik9PT0odC5vd25lckRvY3VtZW50fHx0KT9uLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHQpOjEpfHwhZS5zb3J0RGV0YWNoZWQmJnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24obik9PT1yP249PT1pfHxuLm93bmVyRG9jdW1lbnQ9PT1jJiZldChjLG4pPy0xOnQ9PT1pfHx0Lm93bmVyRG9jdW1lbnQ9PT1jJiZldChjLHQpPzE6dz9udCh3LG4pLW50KHcsdCk6MDo0JnI/LTE6MSl9OmZ1bmN0aW9uKG4sdCl7aWYobj09PXQpcmV0dXJuIHV0PSEwLDA7dmFyIHIsdT0wLG89bi5wYXJlbnROb2RlLHM9dC5wYXJlbnROb2RlLGY9W25dLGU9W3RdO2lmKCFvfHwhcylyZXR1cm4gbj09PWk/LTE6dD09PWk/MTpvPy0xOnM/MTp3P250KHcsbiktbnQodyx0KTowO2lmKG89PT1zKXJldHVybiB3aShuLHQpO2ZvcihyPW47cj1yLnBhcmVudE5vZGU7KWYudW5zaGlmdChyKTtmb3Iocj10O3I9ci5wYXJlbnROb2RlOyllLnVuc2hpZnQocik7d2hpbGUoZlt1XT09PWVbdV0pdSsrO3JldHVybiB1P3dpKGZbdV0sZVt1XSk6Zlt1XT09PWM/LTE6ZVt1XT09PWM/MTowfSxpKTppfTt1Lm1hdGNoZXM9ZnVuY3Rpb24obix0KXtyZXR1cm4gdShuLG51bGwsbnVsbCx0KX07dS5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24obix0KXtpZigobi5vd25lckRvY3VtZW50fHxuKSE9PWkmJmIobiksdD10LnJlcGxhY2UoZnIsIj0nJDEnXSIpLGUubWF0Y2hlc1NlbGVjdG9yJiZoJiYhbHRbdCsiICJdJiYoIWR8fCFkLnRlc3QodCkpJiYoIW98fCFvLnRlc3QodCkpKXRyeXt2YXIgcj1jdC5jYWxsKG4sdCk7aWYocnx8ZS5kaXNjb25uZWN0ZWRNYXRjaHx8bi5kb2N1bWVudCYmMTEhPT1uLmRvY3VtZW50Lm5vZGVUeXBlKXJldHVybiByfWNhdGNoKG4pe31yZXR1cm4gdSh0LGksbnVsbCxbbl0pLmxlbmd0aD4wfTt1LmNvbnRhaW5zPWZ1bmN0aW9uKG4sdCl7cmV0dXJuKG4ub3duZXJEb2N1bWVudHx8bikhPT1pJiZiKG4pLGV0KG4sdCl9O3UuYXR0cj1mdW5jdGlvbihuLHIpeyhuLm93bmVyRG9jdW1lbnR8fG4pIT09aSYmYihuKTt2YXIgZj10LmF0dHJIYW5kbGVbci50b0xvd2VyQ2FzZSgpXSx1PWYmJmdpLmNhbGwodC5hdHRySGFuZGxlLHIudG9Mb3dlckNhc2UoKSk/ZihuLHIsIWgpOnZvaWQgMDtyZXR1cm4gdm9pZCAwIT09dT91OmUuYXR0cmlidXRlc3x8IWg/bi5nZXRBdHRyaWJ1dGUocik6KHU9bi5nZXRBdHRyaWJ1dGVOb2RlKHIpKSYmdS5zcGVjaWZpZWQ/dS52YWx1ZTpudWxsfTt1LmVzY2FwZT1mdW5jdGlvbihuKXtyZXR1cm4obisiIikucmVwbGFjZSh2aSx5aSl9O3UuZXJyb3I9ZnVuY3Rpb24obil7dGhyb3cgbmV3IEVycm9yKCJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK24pO307dS51bmlxdWVTb3J0PWZ1bmN0aW9uKG4pe3ZhciByLHU9W10sdD0wLGk9MDtpZih1dD0hZS5kZXRlY3REdXBsaWNhdGVzLHc9IWUuc29ydFN0YWJsZSYmbi5zbGljZSgwKSxuLnNvcnQoa3QpLHV0KXt3aGlsZShyPW5baSsrXSlyPT09bltpXSYmKHQ9dS5wdXNoKGkpKTt3aGlsZSh0LS0pbi5zcGxpY2UodVt0XSwxKX1yZXR1cm4gdz1udWxsLG59O3N0PXUuZ2V0VGV4dD1mdW5jdGlvbihuKXt2YXIgcixpPSIiLHU9MCx0PW4ubm9kZVR5cGU7aWYodCl7aWYoMT09PXR8fDk9PT10fHwxMT09PXQpe2lmKCJzdHJpbmciPT10eXBlb2Ygbi50ZXh0Q29udGVudClyZXR1cm4gbi50ZXh0Q29udGVudDtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaSs9c3Qobil9ZWxzZSBpZigzPT09dHx8ND09PXQpcmV0dXJuIG4ubm9kZVZhbHVlfWVsc2Ugd2hpbGUocj1uW3UrK10paSs9c3Qocik7cmV0dXJuIGl9Oyh0PXUuc2VsZWN0b3JzPXtjYWNoZUxlbmd0aDo1MCxjcmVhdGVQc2V1ZG86bCxtYXRjaDp2dCxhdHRySGFuZGxlOnt9LGZpbmQ6e30scmVsYXRpdmU6eyI+Ijp7ZGlyOiJwYXJlbnROb2RlIixmaXJzdDohMH0sIiAiOntkaXI6InBhcmVudE5vZGUifSwiKyI6e2RpcjoicHJldmlvdXNTaWJsaW5nIixmaXJzdDohMH0sIn4iOntkaXI6InByZXZpb3VzU2libGluZyJ9fSxwcmVGaWx0ZXI6e0FUVFI6ZnVuY3Rpb24obil7cmV0dXJuIG5bMV09blsxXS5yZXBsYWNlKHkscCksblszXT0oblszXXx8bls0XXx8bls1XXx8IiIpLnJlcGxhY2UoeSxwKSwifj0iPT09blsyXSYmKG5bM109IiAiK25bM10rIiAiKSxuLnNsaWNlKDAsNCl9LENISUxEOmZ1bmN0aW9uKG4pe3JldHVybiBuWzFdPW5bMV0udG9Mb3dlckNhc2UoKSwibnRoIj09PW5bMV0uc2xpY2UoMCwzKT8oblszXXx8dS5lcnJvcihuWzBdKSxuWzRdPSsobls0XT9uWzVdKyhuWzZdfHwxKToyKigiZXZlbiI9PT1uWzNdfHwib2RkIj09PW5bM10pKSxuWzVdPSsobls3XStuWzhdfHwib2RkIj09PW5bM10pKTpuWzNdJiZ1LmVycm9yKG5bMF0pLG59LFBTRVVETzpmdW5jdGlvbihuKXt2YXIgaSx0PSFuWzZdJiZuWzJdO3JldHVybiB2dC5DSElMRC50ZXN0KG5bMF0pP251bGw6KG5bM10/blsyXT1uWzRdfHxuWzVdfHwiIjp0JiZlci50ZXN0KHQpJiYoaT1mdCh0LCEwKSkmJihpPXQuaW5kZXhPZigiKSIsdC5sZW5ndGgtaSktdC5sZW5ndGgpJiYoblswXT1uWzBdLnNsaWNlKDAsaSksblsyXT10LnNsaWNlKDAsaSkpLG4uc2xpY2UoMCwzKSl9fSxmaWx0ZXI6e1RBRzpmdW5jdGlvbihuKXt2YXIgdD1uLnJlcGxhY2UoeSxwKS50b0xvd2VyQ2FzZSgpO3JldHVybiIqIj09PW4/ZnVuY3Rpb24oKXtyZXR1cm4hMH06ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZU5hbWUmJm4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PXR9fSxDTEFTUzpmdW5jdGlvbihuKXt2YXIgdD1oaVtuKyIgIl07cmV0dXJuIHR8fCh0PW5ldyBSZWdFeHAoIihefCIrcisiKSIrbisiKCIrcisifCQpIikpJiZoaShuLGZ1bmN0aW9uKG4pe3JldHVybiB0LnRlc3QoInN0cmluZyI9PXR5cGVvZiBuLmNsYXNzTmFtZSYmbi5jbGFzc05hbWV8fCJ1bmRlZmluZWQiIT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGUmJm4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIil9KX0sQVRUUjpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKHIpe3ZhciBmPXUuYXR0cihyLG4pO3JldHVybiBudWxsPT1mPyIhPSI9PT10OiF0fHwoZis9IiIsIj0iPT09dD9mPT09aToiIT0iPT09dD9mIT09aToiXj0iPT09dD9pJiYwPT09Zi5pbmRleE9mKGkpOiIqPSI9PT10P2kmJmYuaW5kZXhPZihpKT4tMToiJD0iPT09dD9pJiZmLnNsaWNlKC1pLmxlbmd0aCk9PT1pOiJ+PSI9PT10PygiICIrZi5yZXBsYWNlKGlyLCIgIikrIiAiKS5pbmRleE9mKGkpPi0xOiJ8PSI9PT10JiYoZj09PWl8fGYuc2xpY2UoMCxpLmxlbmd0aCsxKT09PWkrIi0iKSl9fSxDSElMRDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBzPSJudGgiIT09bi5zbGljZSgwLDMpLG89Imxhc3QiIT09bi5zbGljZSgtNCksZT0ib2YtdHlwZSI9PT10O3JldHVybiAxPT09ciYmMD09PXU/ZnVuY3Rpb24obil7cmV0dXJuISFuLnBhcmVudE5vZGV9OmZ1bmN0aW9uKHQsaSxoKXt2YXIgcCxkLHksYyxhLHcsYj1zIT09bz8ibmV4dFNpYmxpbmciOiJwcmV2aW91c1NpYmxpbmciLGs9dC5wYXJlbnROb2RlLG50PWUmJnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxnPSFoJiYhZSxsPSExO2lmKGspe2lmKHMpe3doaWxlKGIpe2ZvcihjPXQ7Yz1jW2JdOylpZihlP2Mubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PW50OjE9PT1jLm5vZGVUeXBlKXJldHVybiExO3c9Yj0ib25seSI9PT1uJiYhdyYmIm5leHRTaWJsaW5nIn1yZXR1cm4hMH1pZih3PVtvP2suZmlyc3RDaGlsZDprLmxhc3RDaGlsZF0sbyYmZyl7Zm9yKGw9KGE9KHA9KGQ9KHk9KGM9aylbZl18fChjW2ZdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pJiZwWzJdLGM9YSYmay5jaGlsZE5vZGVzW2FdO2M9KythJiZjJiZjW2JdfHwobD1hPTApfHx3LnBvcCgpOylpZigxPT09Yy5ub2RlVHlwZSYmKytsJiZjPT09dCl7ZFtuXT1bdixhLGxdO2JyZWFrfX1lbHNlIGlmKGcmJihsPWE9KHA9KGQ9KHk9KGM9dClbZl18fChjW2ZdPXt9KSlbYy51bmlxdWVJRF18fCh5W2MudW5pcXVlSURdPXt9KSlbbl18fFtdKVswXT09PXYmJnBbMV0pLCExPT09bCl3aGlsZShjPSsrYSYmYyYmY1tiXXx8KGw9YT0wKXx8dy5wb3AoKSlpZigoZT9jLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1udDoxPT09Yy5ub2RlVHlwZSkmJisrbCYmKGcmJigoZD0oeT1jW2ZdfHwoY1tmXT17fSkpW2MudW5pcXVlSURdfHwoeVtjLnVuaXF1ZUlEXT17fSkpW25dPVt2LGxdKSxjPT09dCkpYnJlYWs7cmV0dXJuKGwtPXUpPT09cnx8bCVyPT0wJiZsL3I+PTB9fX0sUFNFVURPOmZ1bmN0aW9uKG4saSl7dmFyIGUscj10LnBzZXVkb3Nbbl18fHQuc2V0RmlsdGVyc1tuLnRvTG93ZXJDYXNlKCldfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBwc2V1ZG86ICIrbik7cmV0dXJuIHJbZl0/cihpKTpyLmxlbmd0aD4xPyhlPVtuLG4sIiIsaV0sdC5zZXRGaWx0ZXJzLmhhc093blByb3BlcnR5KG4udG9Mb3dlckNhc2UoKSk/bChmdW5jdGlvbihuLHQpe2Zvcih2YXIgZSx1PXIobixpKSxmPXUubGVuZ3RoO2YtLTspbltlPW50KG4sdVtmXSldPSEodFtlXT11W2ZdKX0pOmZ1bmN0aW9uKG4pe3JldHVybiByKG4sMCxlKX0pOnJ9fSxwc2V1ZG9zOntub3Q6bChmdW5jdGlvbihuKXt2YXIgdD1bXSxyPVtdLGk9YnQobi5yZXBsYWNlKGF0LCIkMSIpKTtyZXR1cm4gaVtmXT9sKGZ1bmN0aW9uKG4sdCxyLHUpe2Zvcih2YXIgZSxvPWkobixudWxsLHUsW10pLGY9bi5sZW5ndGg7Zi0tOykoZT1vW2ZdKSYmKG5bZl09ISh0W2ZdPWUpKX0pOmZ1bmN0aW9uKG4sdSxmKXtyZXR1cm4gdFswXT1uLGkodCxudWxsLGYsciksdFswXT1udWxsLCFyLnBvcCgpfX0pLGhhczpsKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdShuLHQpLmxlbmd0aD4wfX0pLGNvbnRhaW5zOmwoZnVuY3Rpb24obil7cmV0dXJuIG49bi5yZXBsYWNlKHkscCksZnVuY3Rpb24odCl7cmV0dXJuKHQudGV4dENvbnRlbnR8fHQuaW5uZXJUZXh0fHxzdCh0KSkuaW5kZXhPZihuKT4tMX19KSxsYW5nOmwoZnVuY3Rpb24obil7cmV0dXJuIG9yLnRlc3Qobnx8IiIpfHx1LmVycm9yKCJ1bnN1cHBvcnRlZCBsYW5nOiAiK24pLG49bi5yZXBsYWNlKHkscCkudG9Mb3dlckNhc2UoKSxmdW5jdGlvbih0KXt2YXIgaTtkbyBpZihpPWg/dC5sYW5nOnQuZ2V0QXR0cmlidXRlKCJ4bWw6bGFuZyIpfHx0LmdldEF0dHJpYnV0ZSgibGFuZyIpKXJldHVybihpPWkudG9Mb3dlckNhc2UoKSk9PT1ufHwwPT09aS5pbmRleE9mKG4rIi0iKTt3aGlsZSgodD10LnBhcmVudE5vZGUpJiYxPT09dC5ub2RlVHlwZSk7cmV0dXJuITF9fSksdGFyZ2V0OmZ1bmN0aW9uKHQpe3ZhciBpPW4ubG9jYXRpb24mJm4ubG9jYXRpb24uaGFzaDtyZXR1cm4gaSYmaS5zbGljZSgxKT09PXQuaWR9LHJvb3Q6ZnVuY3Rpb24obil7cmV0dXJuIG49PT1zfSxmb2N1czpmdW5jdGlvbihuKXtyZXR1cm4gbj09PWkuYWN0aXZlRWxlbWVudCYmKCFpLmhhc0ZvY3VzfHxpLmhhc0ZvY3VzKCkpJiYhIShuLnR5cGV8fG4uaHJlZnx8fm4udGFiSW5kZXgpfSxlbmFibGVkOmJpKCExKSxkaXNhYmxlZDpiaSghMCksY2hlY2tlZDpmdW5jdGlvbihuKXt2YXIgdD1uLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuImlucHV0Ij09PXQmJiEhbi5jaGVja2VkfHwib3B0aW9uIj09PXQmJiEhbi5zZWxlY3RlZH0sc2VsZWN0ZWQ6ZnVuY3Rpb24obil7cmV0dXJuIG4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsITA9PT1uLnNlbGVjdGVkfSxlbXB0eTpmdW5jdGlvbihuKXtmb3Iobj1uLmZpcnN0Q2hpbGQ7bjtuPW4ubmV4dFNpYmxpbmcpaWYobi5ub2RlVHlwZTw2KXJldHVybiExO3JldHVybiEwfSxwYXJlbnQ6ZnVuY3Rpb24obil7cmV0dXJuIXQucHNldWRvcy5lbXB0eShuKX0saGVhZGVyOmZ1bmN0aW9uKG4pe3JldHVybiBoci50ZXN0KG4ubm9kZU5hbWUpfSxpbnB1dDpmdW5jdGlvbihuKXtyZXR1cm4gc3IudGVzdChuLm5vZGVOYW1lKX0sYnV0dG9uOmZ1bmN0aW9uKG4pe3ZhciB0PW4ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4iaW5wdXQiPT09dCYmImJ1dHRvbiI9PT1uLnR5cGV8fCJidXR0b24iPT09dH0sdGV4dDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4iaW5wdXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpJiYidGV4dCI9PT1uLnR5cGUmJihudWxsPT0odD1uLmdldEF0dHJpYnV0ZSgidHlwZSIpKXx8InRleHQiPT09dC50b0xvd2VyQ2FzZSgpKX0sZmlyc3Q6aXQoZnVuY3Rpb24oKXtyZXR1cm5bMF19KSxsYXN0Oml0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuW3QtMV19KSxlcTppdChmdW5jdGlvbihuLHQsaSl7cmV0dXJuW2k8MD9pK3Q6aV19KSxldmVuOml0KGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTA7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksb2RkOml0KGZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBpPTE7aTx0O2krPTIpbi5wdXNoKGkpO3JldHVybiBufSksbHQ6aXQoZnVuY3Rpb24obix0LGkpe2Zvcih2YXIgcj1pPDA/aSt0Omk7LS1yPj0wOyluLnB1c2gocik7cmV0dXJuIG59KSxndDppdChmdW5jdGlvbihuLHQsaSl7Zm9yKHZhciByPWk8MD9pK3Q6aTsrK3I8dDspbi5wdXNoKHIpO3JldHVybiBufSl9fSkucHNldWRvcy5udGg9dC5wc2V1ZG9zLmVxO2ZvcihydCBpbntyYWRpbzohMCxjaGVja2JveDohMCxmaWxlOiEwLHBhc3N3b3JkOiEwLGltYWdlOiEwfSl0LnBzZXVkb3NbcnRdPWFyKHJ0KTtmb3IocnQgaW57c3VibWl0OiEwLHJlc2V0OiEwfSl0LnBzZXVkb3NbcnRdPXZyKHJ0KTtyZXR1cm4ga2kucHJvdG90eXBlPXQuZmlsdGVycz10LnBzZXVkb3MsdC5zZXRGaWx0ZXJzPW5ldyBraSxmdD11LnRva2VuaXplPWZ1bmN0aW9uKG4saSl7dmFyIGUsZixzLG8scixoLGMsbD1jaVtuKyIgIl07aWYobClyZXR1cm4gaT8wOmwuc2xpY2UoMCk7Zm9yKHI9bixoPVtdLGM9dC5wcmVGaWx0ZXI7cjspeyghZXx8KGY9cnIuZXhlYyhyKSkpJiYoZiYmKHI9ci5zbGljZShmWzBdLmxlbmd0aCl8fHIpLGgucHVzaChzPVtdKSk7ZT0hMTsoZj11ci5leGVjKHIpKSYmKGU9Zi5zaGlmdCgpLHMucHVzaCh7dmFsdWU6ZSx0eXBlOmZbMF0ucmVwbGFjZShhdCwiICIpfSkscj1yLnNsaWNlKGUubGVuZ3RoKSk7Zm9yKG8gaW4gdC5maWx0ZXIpKGY9dnRbb10uZXhlYyhyKSkmJighY1tvXXx8KGY9Y1tvXShmKSkpJiYoZT1mLnNoaWZ0KCkscy5wdXNoKHt2YWx1ZTplLHR5cGU6byxtYXRjaGVzOmZ9KSxyPXIuc2xpY2UoZS5sZW5ndGgpKTtpZighZSlicmVha31yZXR1cm4gaT9yLmxlbmd0aDpyP3UuZXJyb3Iobik6Y2kobixoKS5zbGljZSgwKX0sYnQ9dS5jb21waWxlPWZ1bmN0aW9uKG4sdCl7dmFyIHIsdT1bXSxlPVtdLGk9bHRbbisiICJdO2lmKCFpKXtmb3IodHx8KHQ9ZnQobikpLHI9dC5sZW5ndGg7ci0tOykoaT1laSh0W3JdKSlbZl0/dS5wdXNoKGkpOmUucHVzaChpKTsoaT1sdChuLHByKGUsdSkpKS5zZWxlY3Rvcj1ufXJldHVybiBpfSxzaT11LnNlbGVjdD1mdW5jdGlvbihuLGkscix1KXt2YXIgbyxmLGUsbCxhLGM9ImZ1bmN0aW9uIj09dHlwZW9mIG4mJm4scz0hdSYmZnQobj1jLnNlbGVjdG9yfHxuKTtpZihyPXJ8fFtdLDE9PT1zLmxlbmd0aCl7aWYoKGY9c1swXT1zWzBdLnNsaWNlKDApKS5sZW5ndGg+MiYmIklEIj09PShlPWZbMF0pLnR5cGUmJjk9PT1pLm5vZGVUeXBlJiZoJiZ0LnJlbGF0aXZlW2ZbMV0udHlwZV0pe2lmKCEoaT0odC5maW5kLklEKGUubWF0Y2hlc1swXS5yZXBsYWNlKHkscCksaSl8fFtdKVswXSkpcmV0dXJuIHI7YyYmKGk9aS5wYXJlbnROb2RlKTtuPW4uc2xpY2UoZi5zaGlmdCgpLnZhbHVlLmxlbmd0aCl9Zm9yKG89dnQubmVlZHNDb250ZXh0LnRlc3Qobik/MDpmLmxlbmd0aDtvLS07KXtpZihlPWZbb10sdC5yZWxhdGl2ZVtsPWUudHlwZV0pYnJlYWs7aWYoKGE9dC5maW5kW2xdKSYmKHU9YShlLm1hdGNoZXNbMF0ucmVwbGFjZSh5LHApLG5pLnRlc3QoZlswXS50eXBlKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkpKXtpZihmLnNwbGljZShvLDEpLCEobj11Lmxlbmd0aCYmeXQoZikpKXJldHVybiBrLmFwcGx5KHIsdSkscjticmVha319fXJldHVybihjfHxidChuLHMpKSh1LGksIWgsciwhaXx8bmkudGVzdChuKSYmcmkoaS5wYXJlbnROb2RlKXx8aSkscn0sZS5zb3J0U3RhYmxlPWYuc3BsaXQoIiIpLnNvcnQoa3QpLmpvaW4oIiIpPT09ZixlLmRldGVjdER1cGxpY2F0ZXM9ISF1dCxiKCksZS5zb3J0RGV0YWNoZWQ9YShmdW5jdGlvbihuKXtyZXR1cm4gMSZuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkuY3JlYXRlRWxlbWVudCgiZmllbGRzZXQiKSl9KSxhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PFwvYT4iLCIjIj09PW4uZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKX0pfHxpaSgidHlwZXxocmVmfGhlaWdodHx3aWR0aCIsZnVuY3Rpb24obix0LGkpe2lmKCFpKXJldHVybiBuLmdldEF0dHJpYnV0ZSh0LCJ0eXBlIj09PXQudG9Mb3dlckNhc2UoKT8xOjIpfSksZS5hdHRyaWJ1dGVzJiZhKGZ1bmN0aW9uKG4pe3JldHVybiBuLmlubmVySFRNTD0iPGlucHV0Lz4iLG4uZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoInZhbHVlIiwiIiksIiI9PT1uLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfSl8fGlpKCJ2YWx1ZSIsZnVuY3Rpb24obix0LGkpe2lmKCFpJiYiaW5wdXQiPT09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKXJldHVybiBuLmRlZmF1bHRWYWx1ZX0pLGEoZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PW4uZ2V0QXR0cmlidXRlKCJkaXNhYmxlZCIpfSl8fGlpKGR0LGZ1bmN0aW9uKG4sdCxpKXt2YXIgcjtpZighaSlyZXR1cm4hMD09PW5bdF0/dC50b0xvd2VyQ2FzZSgpOihyPW4uZ2V0QXR0cmlidXRlTm9kZSh0KSkmJnIuc3BlY2lmaWVkP3IudmFsdWU6bnVsbH0pLHV9KG4pO2kuZmluZD1iO2kuZXhwcj1iLnNlbGVjdG9ycztpLmV4cHJbIjoiXT1pLmV4cHIucHNldWRvcztpLnVuaXF1ZVNvcnQ9aS51bmlxdWU9Yi51bmlxdWVTb3J0O2kudGV4dD1iLmdldFRleHQ7aS5pc1hNTERvYz1iLmlzWE1MO2kuY29udGFpbnM9Yi5jb250YWlucztpLmVzY2FwZVNlbGVjdG9yPWIuZXNjYXBlO3ZhciBydD1mdW5jdGlvbihuLHQscil7Zm9yKHZhciB1PVtdLGY9dm9pZCAwIT09cjsobj1uW3RdKSYmOSE9PW4ubm9kZVR5cGU7KWlmKDE9PT1uLm5vZGVUeXBlKXtpZihmJiZpKG4pLmlzKHIpKWJyZWFrO3UucHVzaChuKX1yZXR1cm4gdX0sY3I9ZnVuY3Rpb24obix0KXtmb3IodmFyIGk9W107bjtuPW4ubmV4dFNpYmxpbmcpMT09PW4ubm9kZVR5cGUmJm4hPT10JiZpLnB1c2gobik7cmV0dXJuIGl9LGxyPWkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7Y2k9L148KFthLXpdW15cL1wwPjpceDIwXHRcclxuXGZdKilbXHgyMFx0XHJcblxmXSpcLz8+KD86PFwvXDE+fCkkL2k7aS5maWx0ZXI9ZnVuY3Rpb24obix0LHIpe3ZhciB1PXRbMF07cmV0dXJuIHImJihuPSI6bm90KCIrbisiKSIpLDE9PT10Lmxlbmd0aCYmMT09PXUubm9kZVR5cGU/aS5maW5kLm1hdGNoZXNTZWxlY3Rvcih1LG4pP1t1XTpbXTppLmZpbmQubWF0Y2hlcyhuLGkuZ3JlcCh0LGZ1bmN0aW9uKG4pe3JldHVybiAxPT09bi5ub2RlVHlwZX0pKX07aS5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24obil7dmFyIHQscix1PXRoaXMubGVuZ3RoLGY9dGhpcztpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuIHRoaXMucHVzaFN0YWNrKGkobikuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHQ9MDt0PHU7dCsrKWlmKGkuY29udGFpbnMoZlt0XSx0aGlzKSlyZXR1cm4hMH0pKTtmb3Iocj10aGlzLnB1c2hTdGFjayhbXSksdD0wO3Q8dTt0KyspaS5maW5kKG4sZlt0XSxyKTtyZXR1cm4gdT4xP2kudW5pcXVlU29ydChyKTpyfSxmaWx0ZXI6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGxpKHRoaXMsbnx8W10sITEpKX0sbm90OmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLnB1c2hTdGFjayhsaSh0aGlzLG58fFtdLCEwKSl9LGlzOmZ1bmN0aW9uKG4pe3JldHVybiEhbGkodGhpcywic3RyaW5nIj09dHlwZW9mIG4mJmxyLnRlc3Qobik/aShuKTpufHxbXSwhMSkubGVuZ3RofX0pO3ZyPS9eKD86XHMqKDxbXHdcV10rPilbXj5dKnwjKFtcdy1dKykpJC87KGkuZm4uaW5pdD1mdW5jdGlvbihuLHQscil7dmFyIGUsbztpZighbilyZXR1cm4gdGhpcztpZihyPXJ8fGFyLCJzdHJpbmciPT10eXBlb2Ygbil7aWYoIShlPSI8Ij09PW5bMF0mJiI+Ij09PW5bbi5sZW5ndGgtMV0mJm4ubGVuZ3RoPj0zP1tudWxsLG4sbnVsbF06dnIuZXhlYyhuKSl8fCFlWzFdJiZ0KXJldHVybiF0fHx0LmpxdWVyeT8odHx8cikuZmluZChuKTp0aGlzLmNvbnN0cnVjdG9yKHQpLmZpbmQobik7aWYoZVsxXSl7aWYodD10IGluc3RhbmNlb2YgaT90WzBdOnQsaS5tZXJnZSh0aGlzLGkucGFyc2VIVE1MKGVbMV0sdCYmdC5ub2RlVHlwZT90Lm93bmVyRG9jdW1lbnR8fHQ6ZiwhMCkpLGNpLnRlc3QoZVsxXSkmJmkuaXNQbGFpbk9iamVjdCh0KSlmb3IoZSBpbiB0KXUodGhpc1tlXSk/dGhpc1tlXSh0W2VdKTp0aGlzLmF0dHIoZSx0W2VdKTtyZXR1cm4gdGhpc31yZXR1cm4obz1mLmdldEVsZW1lbnRCeUlkKGVbMl0pKSYmKHRoaXNbMF09byx0aGlzLmxlbmd0aD0xKSx0aGlzfXJldHVybiBuLm5vZGVUeXBlPyh0aGlzWzBdPW4sdGhpcy5sZW5ndGg9MSx0aGlzKTp1KG4pP3ZvaWQgMCE9PXIucmVhZHk/ci5yZWFkeShuKTpuKGkpOmkubWFrZUFycmF5KG4sdGhpcyl9KS5wcm90b3R5cGU9aS5mbjthcj1pKGYpO3lyPS9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvO3ByPXtjaGlsZHJlbjohMCxjb250ZW50czohMCxuZXh0OiEwLHByZXY6ITB9O2kuZm4uZXh0ZW5kKHtoYXM6ZnVuY3Rpb24obil7dmFyIHQ9aShuLHRoaXMpLHI9dC5sZW5ndGg7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBuPTA7bjxyO24rKylpZihpLmNvbnRhaW5zKHRoaXMsdFtuXSkpcmV0dXJuITB9KX0sY2xvc2VzdDpmdW5jdGlvbihuLHQpe3ZhciByLGY9MCxvPXRoaXMubGVuZ3RoLHU9W10sZT0ic3RyaW5nIiE9dHlwZW9mIG4mJmkobik7aWYoIWxyLnRlc3QobikpZm9yKDtmPG87ZisrKWZvcihyPXRoaXNbZl07ciYmciE9PXQ7cj1yLnBhcmVudE5vZGUpaWYoci5ub2RlVHlwZTwxMSYmKGU/ZS5pbmRleChyKT4tMToxPT09ci5ub2RlVHlwZSYmaS5maW5kLm1hdGNoZXNTZWxlY3RvcihyLG4pKSl7dS5wdXNoKHIpO2JyZWFrfXJldHVybiB0aGlzLnB1c2hTdGFjayh1Lmxlbmd0aD4xP2kudW5pcXVlU29ydCh1KTp1KX0saW5kZXg6ZnVuY3Rpb24obil7cmV0dXJuIG4/InN0cmluZyI9PXR5cGVvZiBuP3d0LmNhbGwoaShuKSx0aGlzWzBdKTp3dC5jYWxsKHRoaXMsbi5qcXVlcnk/blswXTpuKTp0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGU/dGhpcy5maXJzdCgpLnByZXZBbGwoKS5sZW5ndGg6LTF9LGFkZDpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLnB1c2hTdGFjayhpLnVuaXF1ZVNvcnQoaS5tZXJnZSh0aGlzLmdldCgpLGkobix0KSkpKX0sYWRkQmFjazpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5hZGQobnVsbD09bj90aGlzLnByZXZPYmplY3Q6dGhpcy5wcmV2T2JqZWN0LmZpbHRlcihuKSl9fSk7aS5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3JldHVybiB0JiYxMSE9PXQubm9kZVR5cGU/dDpudWxsfSxwYXJlbnRzOmZ1bmN0aW9uKG4pe3JldHVybiBydChuLCJwYXJlbnROb2RlIil9LHBhcmVudHNVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHJ0KG4sInBhcmVudE5vZGUiLGkpfSxuZXh0OmZ1bmN0aW9uKG4pe3JldHVybiB3cihuLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKG4pe3JldHVybiB3cihuLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihuKXtyZXR1cm4gcnQobiwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihuKXtyZXR1cm4gcnQobiwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIHJ0KG4sIm5leHRTaWJsaW5nIixpKX0scHJldlVudGlsOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gcnQobiwicHJldmlvdXNTaWJsaW5nIixpKX0sc2libGluZ3M6ZnVuY3Rpb24obil7cmV0dXJuIGNyKChuLnBhcmVudE5vZGV8fHt9KS5maXJzdENoaWxkLG4pfSxjaGlsZHJlbjpmdW5jdGlvbihuKXtyZXR1cm4gY3Iobi5maXJzdENoaWxkKX0sY29udGVudHM6ZnVuY3Rpb24obil7cmV0dXJuIHYobiwiaWZyYW1lIik/bi5jb250ZW50RG9jdW1lbnQ6KHYobiwidGVtcGxhdGUiKSYmKG49bi5jb250ZW50fHxuKSxpLm1lcmdlKFtdLG4uY2hpbGROb2RlcykpfX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKHIsdSl7dmFyIGY9aS5tYXAodGhpcyx0LHIpO3JldHVybiJVbnRpbCIhPT1uLnNsaWNlKC01KSYmKHU9ciksdSYmInN0cmluZyI9PXR5cGVvZiB1JiYoZj1pLmZpbHRlcih1LGYpKSx0aGlzLmxlbmd0aD4xJiYocHJbbl18fGkudW5pcXVlU29ydChmKSx5ci50ZXN0KG4pJiZmLnJldmVyc2UoKSksdGhpcy5wdXNoU3RhY2soZil9fSk7bD0vW15ceDIwXHRcclxuXGZdKy9nO2kuQ2FsbGJhY2tzPWZ1bmN0aW9uKG4pe249InN0cmluZyI9PXR5cGVvZiBuP25lKG4pOmkuZXh0ZW5kKHt9LG4pO3ZhciBmLHIsYyxlLHQ9W10scz1bXSxvPS0xLGw9ZnVuY3Rpb24oKXtmb3IoZT1lfHxuLm9uY2UsYz1mPSEwO3MubGVuZ3RoO289LTEpZm9yKHI9cy5zaGlmdCgpOysrbzx0Lmxlbmd0aDspITE9PT10W29dLmFwcGx5KHJbMF0sclsxXSkmJm4uc3RvcE9uRmFsc2UmJihvPXQubGVuZ3RoLHI9ITEpO24ubWVtb3J5fHwocj0hMSk7Zj0hMTtlJiYodD1yP1tdOiIiKX0saD17YWRkOmZ1bmN0aW9uKCl7cmV0dXJuIHQmJihyJiYhZiYmKG89dC5sZW5ndGgtMSxzLnB1c2gocikpLGZ1bmN0aW9uIGYocil7aS5lYWNoKHIsZnVuY3Rpb24oaSxyKXt1KHIpP24udW5pcXVlJiZoLmhhcyhyKXx8dC5wdXNoKHIpOnImJnIubGVuZ3RoJiYic3RyaW5nIiE9PWl0KHIpJiZmKHIpfSl9KGFyZ3VtZW50cyksciYmIWYmJmwoKSksdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7cmV0dXJuIGkuZWFjaChhcmd1bWVudHMsZnVuY3Rpb24obixyKXtmb3IodmFyIHU7KHU9aS5pbkFycmF5KHIsdCx1KSk+LTE7KXQuc3BsaWNlKHUsMSksdTw9byYmby0tfSksdGhpc30saGFzOmZ1bmN0aW9uKG4pe3JldHVybiBuP2kuaW5BcnJheShuLHQpPi0xOnQubGVuZ3RoPjB9LGVtcHR5OmZ1bmN0aW9uKCl7cmV0dXJuIHQmJih0PVtdKSx0aGlzfSxkaXNhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIGU9cz1bXSx0PXI9IiIsdGhpc30sZGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hdH0sbG9jazpmdW5jdGlvbigpe3JldHVybiBlPXM9W10scnx8Znx8KHQ9cj0iIiksdGhpc30sbG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuISFlfSxmaXJlV2l0aDpmdW5jdGlvbihuLHQpe3JldHVybiBlfHwodD1bbiwodD10fHxbXSkuc2xpY2U/dC5zbGljZSgpOnRdLHMucHVzaCh0KSxmfHxsKCkpLHRoaXN9LGZpcmU6ZnVuY3Rpb24oKXtyZXR1cm4gaC5maXJlV2l0aCh0aGlzLGFyZ3VtZW50cyksdGhpc30sZmlyZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN9fTtyZXR1cm4gaH07aS5leHRlbmQoe0RlZmVycmVkOmZ1bmN0aW9uKHQpe3ZhciBmPVtbIm5vdGlmeSIsInByb2dyZXNzIixpLkNhbGxiYWNrcygibWVtb3J5IiksaS5DYWxsYmFja3MoIm1lbW9yeSIpLDJdLFsicmVzb2x2ZSIsImRvbmUiLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLGkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLDAsInJlc29sdmVkIl0sWyJyZWplY3QiLCJmYWlsIixpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSxpLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKSwxLCJyZWplY3RlZCJdXSxvPSJwZW5kaW5nIixlPXtzdGF0ZTpmdW5jdGlvbigpe3JldHVybiBvfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gci5kb25lKGFyZ3VtZW50cykuZmFpbChhcmd1bWVudHMpLHRoaXN9LCJjYXRjaCI6ZnVuY3Rpb24obil7cmV0dXJuIGUudGhlbihudWxsLG4pfSxwaXBlOmZ1bmN0aW9uKCl7dmFyIG49YXJndW1lbnRzO3JldHVybiBpLkRlZmVycmVkKGZ1bmN0aW9uKHQpe2kuZWFjaChmLGZ1bmN0aW9uKGksZil7dmFyIGU9dShuW2ZbNF1dKSYmbltmWzRdXTtyW2ZbMV1dKGZ1bmN0aW9uKCl7dmFyIG49ZSYmZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7biYmdShuLnByb21pc2UpP24ucHJvbWlzZSgpLnByb2dyZXNzKHQubm90aWZ5KS5kb25lKHQucmVzb2x2ZSkuZmFpbCh0LnJlamVjdCk6dFtmWzBdKyJXaXRoIl0odGhpcyxlP1tuXTphcmd1bWVudHMpfSl9KTtuPW51bGx9KS5wcm9taXNlKCl9LHRoZW46ZnVuY3Rpb24odCxyLGUpe2Z1bmN0aW9uIHModCxyLGYsZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxjPWFyZ3VtZW50cyxhPWZ1bmN0aW9uKCl7dmFyIG4saTtpZighKHQ8bykpe2lmKChuPWYuYXBwbHkoaCxjKSk9PT1yLnByb21pc2UoKSl0aHJvdyBuZXcgVHlwZUVycm9yKCJUaGVuYWJsZSBzZWxmLXJlc29sdXRpb24iKTtpPW4mJigib2JqZWN0Ij09dHlwZW9mIG58fCJmdW5jdGlvbiI9PXR5cGVvZiBuKSYmbi50aGVuO3UoaSk/ZT9pLmNhbGwobixzKG8scix1dCxlKSxzKG8scixkdCxlKSk6KG8rKyxpLmNhbGwobixzKG8scix1dCxlKSxzKG8scixkdCxlKSxzKG8scix1dCxyLm5vdGlmeVdpdGgpKSk6KGYhPT11dCYmKGg9dm9pZCAwLGM9W25dKSwoZXx8ci5yZXNvbHZlV2l0aCkoaCxjKSl9fSxsPWU/YTpmdW5jdGlvbigpe3RyeXthKCl9Y2F0Y2gobil7aS5EZWZlcnJlZC5leGNlcHRpb25Ib29rJiZpLkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sobixsLnN0YWNrVHJhY2UpO3QrMT49byYmKGYhPT1kdCYmKGg9dm9pZCAwLGM9W25dKSxyLnJlamVjdFdpdGgoaCxjKSl9fTt0P2woKTooaS5EZWZlcnJlZC5nZXRTdGFja0hvb2smJihsLnN0YWNrVHJhY2U9aS5EZWZlcnJlZC5nZXRTdGFja0hvb2soKSksbi5zZXRUaW1lb3V0KGwpKX19dmFyIG89MDtyZXR1cm4gaS5EZWZlcnJlZChmdW5jdGlvbihuKXtmWzBdWzNdLmFkZChzKDAsbix1KGUpP2U6dXQsbi5ub3RpZnlXaXRoKSk7ZlsxXVszXS5hZGQocygwLG4sdSh0KT90OnV0KSk7ZlsyXVszXS5hZGQocygwLG4sdShyKT9yOmR0KSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4/aS5leHRlbmQobixlKTplfX0scj17fTtyZXR1cm4gaS5lYWNoKGYsZnVuY3Rpb24obix0KXt2YXIgaT10WzJdLHU9dFs1XTtlW3RbMV1dPWkuYWRkO3UmJmkuYWRkKGZ1bmN0aW9uKCl7bz11fSxmWzMtbl1bMl0uZGlzYWJsZSxmWzMtbl1bM10uZGlzYWJsZSxmWzBdWzJdLmxvY2ssZlswXVszXS5sb2NrKTtpLmFkZCh0WzNdLmZpcmUpO3JbdFswXV09ZnVuY3Rpb24oKXtyZXR1cm4gclt0WzBdKyJXaXRoIl0odGhpcz09PXI/dm9pZCAwOnRoaXMsYXJndW1lbnRzKSx0aGlzfTtyW3RbMF0rIldpdGgiXT1pLmZpcmVXaXRofSksZS5wcm9taXNlKHIpLHQmJnQuY2FsbChyLHIpLHJ9LHdoZW46ZnVuY3Rpb24obil7dmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PWUsbz1BcnJheSh0KSxmPWQuY2FsbChhcmd1bWVudHMpLHI9aS5EZWZlcnJlZCgpLHM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe29bbl09dGhpcztmW25dPWFyZ3VtZW50cy5sZW5ndGg+MT9kLmNhbGwoYXJndW1lbnRzKTp0Oy0tZXx8ci5yZXNvbHZlV2l0aChvLGYpfX07aWYoZTw9MSYmKGJyKG4sci5kb25lKHModCkpLnJlc29sdmUsci5yZWplY3QsIWUpLCJwZW5kaW5nIj09PXIuc3RhdGUoKXx8dShmW3RdJiZmW3RdLnRoZW4pKSlyZXR1cm4gci50aGVuKCk7d2hpbGUodC0tKWJyKGZbdF0scyh0KSxyLnJlamVjdCk7cmV0dXJuIHIucHJvbWlzZSgpfX0pO2tyPS9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO2kuRGVmZXJyZWQuZXhjZXB0aW9uSG9vaz1mdW5jdGlvbih0LGkpe24uY29uc29sZSYmbi5jb25zb2xlLndhcm4mJnQmJmtyLnRlc3QodC5uYW1lKSYmbi5jb25zb2xlLndhcm4oImpRdWVyeS5EZWZlcnJlZCBleGNlcHRpb246ICIrdC5tZXNzYWdlLHQuc3RhY2ssaSl9O2kucmVhZHlFeGNlcHRpb249ZnVuY3Rpb24odCl7bi5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhyb3cgdDt9KX07Z3Q9aS5EZWZlcnJlZCgpO2kuZm4ucmVhZHk9ZnVuY3Rpb24obil7cmV0dXJuIGd0LnRoZW4obilbImNhdGNoIl0oZnVuY3Rpb24obil7aS5yZWFkeUV4Y2VwdGlvbihuKX0pLHRoaXN9O2kuZXh0ZW5kKHtpc1JlYWR5OiExLHJlYWR5V2FpdDoxLHJlYWR5OmZ1bmN0aW9uKG4peyghMD09PW4/LS1pLnJlYWR5V2FpdDppLmlzUmVhZHkpfHwoaS5pc1JlYWR5PSEwLCEwIT09biYmLS1pLnJlYWR5V2FpdD4wfHxndC5yZXNvbHZlV2l0aChmLFtpXSkpfX0pO2kucmVhZHkudGhlbj1ndC50aGVuOyJjb21wbGV0ZSI9PT1mLnJlYWR5U3RhdGV8fCJsb2FkaW5nIiE9PWYucmVhZHlTdGF0ZSYmIWYuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsP24uc2V0VGltZW91dChpLnJlYWR5KTooZi5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixuaSksbi5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixuaSkpO3ZhciBwPWZ1bmN0aW9uKG4sdCxyLGYsZSxvLHMpe3ZhciBoPTAsbD1uLmxlbmd0aCxjPW51bGw9PXI7aWYoIm9iamVjdCI9PT1pdChyKSl7ZT0hMDtmb3IoaCBpbiByKXAobix0LGgscltoXSwhMCxvLHMpfWVsc2UgaWYodm9pZCAwIT09ZiYmKGU9ITAsdShmKXx8KHM9ITApLGMmJihzPyh0LmNhbGwobixmKSx0PW51bGwpOihjPXQsdD1mdW5jdGlvbihuLHQscil7cmV0dXJuIGMuY2FsbChpKG4pLHIpfSkpLHQpKWZvcig7aDxsO2grKyl0KG5baF0scixzP2Y6Zi5jYWxsKG5baF0saCx0KG5baF0scikpKTtyZXR1cm4gZT9uOmM/dC5jYWxsKG4pOmw/dChuWzBdLHIpOm99LHRlPS9eLW1zLS8saWU9Ly0oW2Etel0pL2c7bHQ9ZnVuY3Rpb24obil7cmV0dXJuIDE9PT1uLm5vZGVUeXBlfHw5PT09bi5ub2RlVHlwZXx8IStuLm5vZGVUeXBlfTthdC51aWQ9MTthdC5wcm90b3R5cGU9e2NhY2hlOmZ1bmN0aW9uKG4pe3ZhciB0PW5bdGhpcy5leHBhbmRvXTtyZXR1cm4gdHx8KHQ9e30sbHQobikmJihuLm5vZGVUeXBlP25bdGhpcy5leHBhbmRvXT10Ok9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHRoaXMuZXhwYW5kbyx7dmFsdWU6dCxjb25maWd1cmFibGU6ITB9KSkpLHR9LHNldDpmdW5jdGlvbihuLHQsaSl7dmFyIHIsdT10aGlzLmNhY2hlKG4pO2lmKCJzdHJpbmciPT10eXBlb2YgdCl1W3kodCldPWk7ZWxzZSBmb3IociBpbiB0KXVbeShyKV09dFtyXTtyZXR1cm4gdX0sZ2V0OmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHZvaWQgMD09PXQ/dGhpcy5jYWNoZShuKTpuW3RoaXMuZXhwYW5kb10mJm5bdGhpcy5leHBhbmRvXVt5KHQpXX0sYWNjZXNzOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gdm9pZCAwPT09dHx8dCYmInN0cmluZyI9PXR5cGVvZiB0JiZ2b2lkIDA9PT1pP3RoaXMuZ2V0KG4sdCk6KHRoaXMuc2V0KG4sdCxpKSx2b2lkIDAhPT1pP2k6dCl9LHJlbW92ZTpmdW5jdGlvbihuLHQpe3ZhciB1LHI9blt0aGlzLmV4cGFuZG9dO2lmKHZvaWQgMCE9PXIpe2lmKHZvaWQgMCE9PXQpZm9yKHU9KHQ9QXJyYXkuaXNBcnJheSh0KT90Lm1hcCh5KToodD15KHQpKWluIHI/W3RdOnQubWF0Y2gobCl8fFtdKS5sZW5ndGg7dS0tOylkZWxldGUgclt0W3VdXTsodm9pZCAwPT09dHx8aS5pc0VtcHR5T2JqZWN0KHIpKSYmKG4ubm9kZVR5cGU/blt0aGlzLmV4cGFuZG9dPXZvaWQgMDpkZWxldGUgblt0aGlzLmV4cGFuZG9dKX19LGhhc0RhdGE6ZnVuY3Rpb24obil7dmFyIHQ9blt0aGlzLmV4cGFuZG9dO3JldHVybiB2b2lkIDAhPT10JiYhaS5pc0VtcHR5T2JqZWN0KHQpfX07dmFyIHI9bmV3IGF0LG89bmV3IGF0LHVlPS9eKD86XHtbXHdcV10qXH18XFtbXHdcV10qXF0pJC8sZmU9L1tBLVpdL2c7aS5leHRlbmQoe2hhc0RhdGE6ZnVuY3Rpb24obil7cmV0dXJuIG8uaGFzRGF0YShuKXx8ci5oYXNEYXRhKG4pfSxkYXRhOmZ1bmN0aW9uKG4sdCxpKXtyZXR1cm4gby5hY2Nlc3Mobix0LGkpfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKG4sdCl7by5yZW1vdmUobix0KX0sX2RhdGE6ZnVuY3Rpb24obix0LGkpe3JldHVybiByLmFjY2VzcyhuLHQsaSl9LF9yZW1vdmVEYXRhOmZ1bmN0aW9uKG4sdCl7ci5yZW1vdmUobix0KX19KTtpLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihuLHQpe3ZhciBmLHUsZSxpPXRoaXNbMF0scz1pJiZpLmF0dHJpYnV0ZXM7aWYodm9pZCAwPT09bil7aWYodGhpcy5sZW5ndGgmJihlPW8uZ2V0KGkpLDE9PT1pLm5vZGVUeXBlJiYhci5nZXQoaSwiaGFzRGF0YUF0dHJzIikpKXtmb3IoZj1zLmxlbmd0aDtmLS07KXNbZl0mJjA9PT0odT1zW2ZdLm5hbWUpLmluZGV4T2YoImRhdGEtIikmJih1PXkodS5zbGljZSg1KSksZHIoaSx1LGVbdV0pKTtyLnNldChpLCJoYXNEYXRhQXR0cnMiLCEwKX1yZXR1cm4gZX1yZXR1cm4ib2JqZWN0Ij09dHlwZW9mIG4/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5zZXQodGhpcyxuKX0pOnAodGhpcyxmdW5jdGlvbih0KXt2YXIgcjtpZihpJiZ2b2lkIDA9PT10KXtpZih2b2lkIDAhPT0ocj1vLmdldChpLG4pKXx8dm9pZCAwIT09KHI9ZHIoaSxuKSkpcmV0dXJuIHJ9ZWxzZSB0aGlzLmVhY2goZnVuY3Rpb24oKXtvLnNldCh0aGlzLG4sdCl9KX0sbnVsbCx0LGFyZ3VtZW50cy5sZW5ndGg+MSxudWxsLCEwKX0scmVtb3ZlRGF0YTpmdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7by5yZW1vdmUodGhpcyxuKX0pfX0pO2kuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihuLHQsdSl7dmFyIGY7aWYobilyZXR1cm4gdD0odHx8ImZ4IikrInF1ZXVlIixmPXIuZ2V0KG4sdCksdSYmKCFmfHxBcnJheS5pc0FycmF5KHUpP2Y9ci5hY2Nlc3Mobix0LGkubWFrZUFycmF5KHUpKTpmLnB1c2godSkpLGZ8fFtdfSxkZXF1ZXVlOmZ1bmN0aW9uKG4sdCl7dD10fHwiZngiO3ZhciByPWkucXVldWUobix0KSxlPXIubGVuZ3RoLHU9ci5zaGlmdCgpLGY9aS5fcXVldWVIb29rcyhuLHQpLG89ZnVuY3Rpb24oKXtpLmRlcXVldWUobix0KX07ImlucHJvZ3Jlc3MiPT09dSYmKHU9ci5zaGlmdCgpLGUtLSk7dSYmKCJmeCI9PT10JiZyLnVuc2hpZnQoImlucHJvZ3Jlc3MiKSxkZWxldGUgZi5zdG9wLHUuY2FsbChuLG8sZikpOyFlJiZmJiZmLmVtcHR5LmZpcmUoKX0sX3F1ZXVlSG9va3M6ZnVuY3Rpb24obix0KXt2YXIgdT10KyJxdWV1ZUhvb2tzIjtyZXR1cm4gci5nZXQobix1KXx8ci5hY2Nlc3Mobix1LHtlbXB0eTppLkNhbGxiYWNrcygib25jZSBtZW1vcnkiKS5hZGQoZnVuY3Rpb24oKXtyLnJlbW92ZShuLFt0KyJxdWV1ZSIsdV0pfSl9KX19KTtpLmZuLmV4dGVuZCh7cXVldWU6ZnVuY3Rpb24obix0KXt2YXIgcj0yO3JldHVybiJzdHJpbmciIT10eXBlb2YgbiYmKHQ9bixuPSJmeCIsci0tKSxhcmd1bWVudHMubGVuZ3RoPHI/aS5xdWV1ZSh0aGlzWzBdLG4pOnZvaWQgMD09PXQ/dGhpczp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1pLnF1ZXVlKHRoaXMsbix0KTtpLl9xdWV1ZUhvb2tzKHRoaXMsbik7ImZ4Ij09PW4mJiJpbnByb2dyZXNzIiE9PXJbMF0mJmkuZGVxdWV1ZSh0aGlzLG4pfSl9LGRlcXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2kuZGVxdWV1ZSh0aGlzLG4pfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucXVldWUobnx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24obix0KXt2YXIgdSxlPTEsbz1pLkRlZmVycmVkKCksZj10aGlzLHM9dGhpcy5sZW5ndGgsaD1mdW5jdGlvbigpey0tZXx8by5yZXNvbHZlV2l0aChmLFtmXSl9O2Zvcigic3RyaW5nIiE9dHlwZW9mIG4mJih0PW4sbj12b2lkIDApLG49bnx8ImZ4IjtzLS07KSh1PXIuZ2V0KGZbc10sbisicXVldWVIb29rcyIpKSYmdS5lbXB0eSYmKGUrKyx1LmVtcHR5LmFkZChoKSk7cmV0dXJuIGgoKSxvLnByb21pc2UodCl9fSk7dmFyIGdyPS9bKy1dPyg/OlxkKlwufClcZCsoPzpbZUVdWystXT9cZCt8KS8uc291cmNlLHZ0PW5ldyBSZWdFeHAoIl4oPzooWystXSk9fCkoIitncisiKShbYS16JV0qKSQiLCJpIiksdz1bIlRvcCIsIlJpZ2h0IiwiQm90dG9tIiwiTGVmdCJdLHRpPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIm5vbmUiPT09KG49dHx8bikuc3R5bGUuZGlzcGxheXx8IiI9PT1uLnN0eWxlLmRpc3BsYXkmJmkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pJiYibm9uZSI9PT1pLmNzcyhuLCJkaXNwbGF5Iil9LG51PWZ1bmN0aW9uKG4sdCxpLHIpe3ZhciBmLHUsZT17fTtmb3IodSBpbiB0KWVbdV09bi5zdHlsZVt1XSxuLnN0eWxlW3VdPXRbdV07Zj1pLmFwcGx5KG4scnx8W10pO2Zvcih1IGluIHQpbi5zdHlsZVt1XT1lW3VdO3JldHVybiBmfTthaT17fTtpLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbigpe3JldHVybiBmdCh0aGlzLCEwKX0saGlkZTpmdW5jdGlvbigpe3JldHVybiBmdCh0aGlzKX0sdG9nZ2xlOmZ1bmN0aW9uKG4pe3JldHVybiJib29sZWFuIj09dHlwZW9mIG4/bj90aGlzLnNob3coKTp0aGlzLmhpZGUoKTp0aGlzLmVhY2goZnVuY3Rpb24oKXt0aSh0aGlzKT9pKHRoaXMpLnNob3coKTppKHRoaXMpLmhpZGUoKX0pfX0pO3ZhciBpdT0vXig/OmNoZWNrYm94fHJhZGlvKSQvaSxydT0vPChbYS16XVteXC9cMD5ceDIwXHRcclxuXGZdKykvaSx1dT0vXiR8Xm1vZHVsZSR8XC8oPzpqYXZhfGVjbWEpc2NyaXB0L2ksYz17b3B0aW9uOlsxLCI8c2VsZWN0IG11bHRpcGxlPSdtdWx0aXBsZSc+IiwiPFwvc2VsZWN0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPFwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PGNvbGdyb3VwPiIsIjxcL2NvbGdyb3VwPjxcL3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjxcL3Rib2R5PjxcL3RhYmxlPiJdLHRkOlszLCI8dGFibGU+PHRib2R5Pjx0cj4iLCI8XC90cj48XC90Ym9keT48XC90YWJsZT4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2Mub3B0Z3JvdXA9Yy5vcHRpb247Yy50Ym9keT1jLnRmb290PWMuY29sZ3JvdXA9Yy5jYXB0aW9uPWMudGhlYWQ7Yy50aD1jLnRkO2Z1PS88fCYjP1x3KzsvOyFmdW5jdGlvbigpe3ZhciBuPWYuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLmFwcGVuZENoaWxkKGYuY3JlYXRlRWxlbWVudCgiZGl2IikpLHQ9Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpO3Quc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKTt0LnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKTt0LnNldEF0dHJpYnV0ZSgibmFtZSIsInQiKTtuLmFwcGVuZENoaWxkKHQpO2UuY2hlY2tDbG9uZT1uLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZDtuLmlubmVySFRNTD0iPHRleHRhcmVhPng8XC90ZXh0YXJlYT4iO2Uubm9DbG9uZUNoZWNrZWQ9ISFuLmNsb25lTm9kZSghMCkubGFzdENoaWxkLmRlZmF1bHRWYWx1ZX0oKTt2YXIgaWk9Zi5kb2N1bWVudEVsZW1lbnQsc2U9L15rZXkvLGhlPS9eKD86bW91c2V8cG9pbnRlcnxjb250ZXh0bWVudXxkcmFnfGRyb3ApfGNsaWNrLyxvdT0vXihbXi5dKikoPzpcLiguKyl8KS87aS5ldmVudD17Z2xvYmFsOnt9LGFkZDpmdW5jdGlvbihuLHQsdSxmLGUpe3ZhciBwLHYsayx5LHcsaCxzLGMsbyxiLGQsYT1yLmdldChuKTtpZihhKWZvcih1LmhhbmRsZXImJih1PShwPXUpLmhhbmRsZXIsZT1wLnNlbGVjdG9yKSxlJiZpLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGlpLGUpLHUuZ3VpZHx8KHUuZ3VpZD1pLmd1aWQrKyksKHk9YS5ldmVudHMpfHwoeT1hLmV2ZW50cz17fSksKHY9YS5oYW5kbGUpfHwodj1hLmhhbmRsZT1mdW5jdGlvbih0KXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIGkmJmkuZXZlbnQudHJpZ2dlcmVkIT09dC50eXBlKXJldHVybiBpLmV2ZW50LmRpc3BhdGNoLmFwcGx5KG4sYXJndW1lbnRzKX0pLHc9KHQ9KHR8fCIiKS5tYXRjaChsKXx8WyIiXSkubGVuZ3RoO3ctLTspbz1kPShrPW91LmV4ZWModFt3XSl8fFtdKVsxXSxiPShrWzJdfHwiIikuc3BsaXQoIi4iKS5zb3J0KCksbyYmKHM9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxvPShlP3MuZGVsZWdhdGVUeXBlOnMuYmluZFR5cGUpfHxvLHM9aS5ldmVudC5zcGVjaWFsW29dfHx7fSxoPWkuZXh0ZW5kKHt0eXBlOm8sb3JpZ1R5cGU6ZCxkYXRhOmYsaGFuZGxlcjp1LGd1aWQ6dS5ndWlkLHNlbGVjdG9yOmUsbmVlZHNDb250ZXh0OmUmJmkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQudGVzdChlKSxuYW1lc3BhY2U6Yi5qb2luKCIuIil9LHApLChjPXlbb10pfHwoKGM9eVtvXT1bXSkuZGVsZWdhdGVDb3VudD0wLHMuc2V0dXAmJiExIT09cy5zZXR1cC5jYWxsKG4sZixiLHYpfHxuLmFkZEV2ZW50TGlzdGVuZXImJm4uYWRkRXZlbnRMaXN0ZW5lcihvLHYpKSxzLmFkZCYmKHMuYWRkLmNhbGwobixoKSxoLmhhbmRsZXIuZ3VpZHx8KGguaGFuZGxlci5ndWlkPXUuZ3VpZCkpLGU/Yy5zcGxpY2UoYy5kZWxlZ2F0ZUNvdW50KyssMCxoKTpjLnB1c2goaCksaS5ldmVudC5nbG9iYWxbb109ITApfSxyZW1vdmU6ZnVuY3Rpb24obix0LHUsZixlKXt2YXIgeSxrLGgsdixwLHMsYyxhLG8sYixkLHc9ci5oYXNEYXRhKG4pJiZyLmdldChuKTtpZih3JiYodj13LmV2ZW50cykpe2ZvcihwPSh0PSh0fHwiIikubWF0Y2gobCl8fFsiIl0pLmxlbmd0aDtwLS07KWlmKGg9b3UuZXhlYyh0W3BdKXx8W10sbz1kPWhbMV0sYj0oaFsyXXx8IiIpLnNwbGl0KCIuIikuc29ydCgpLG8pe2ZvcihjPWkuZXZlbnQuc3BlY2lhbFtvXXx8e30sYT12W289KGY/Yy5kZWxlZ2F0ZVR5cGU6Yy5iaW5kVHlwZSl8fG9dfHxbXSxoPWhbMl0mJm5ldyBSZWdFeHAoIihefFxcLikiK2Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIiksaz15PWEubGVuZ3RoO3ktLTspcz1hW3ldLCFlJiZkIT09cy5vcmlnVHlwZXx8dSYmdS5ndWlkIT09cy5ndWlkfHxoJiYhaC50ZXN0KHMubmFtZXNwYWNlKXx8ZiYmZiE9PXMuc2VsZWN0b3ImJigiKioiIT09Znx8IXMuc2VsZWN0b3IpfHwoYS5zcGxpY2UoeSwxKSxzLnNlbGVjdG9yJiZhLmRlbGVnYXRlQ291bnQtLSxjLnJlbW92ZSYmYy5yZW1vdmUuY2FsbChuLHMpKTtrJiYhYS5sZW5ndGgmJihjLnRlYXJkb3duJiYhMSE9PWMudGVhcmRvd24uY2FsbChuLGIsdy5oYW5kbGUpfHxpLnJlbW92ZUV2ZW50KG4sbyx3LmhhbmRsZSksZGVsZXRlIHZbb10pfWVsc2UgZm9yKG8gaW4gdilpLmV2ZW50LnJlbW92ZShuLG8rdFtwXSx1LGYsITApO2kuaXNFbXB0eU9iamVjdCh2KSYmci5yZW1vdmUobiwiaGFuZGxlIGV2ZW50cyIpfX0sZGlzcGF0Y2g6ZnVuY3Rpb24obil7dmFyIHQ9aS5ldmVudC5maXgobiksdSxoLGMsZSxmLGwscz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCksYT0oci5nZXQodGhpcywiZXZlbnRzIil8fHt9KVt0LnR5cGVdfHxbXSxvPWkuZXZlbnQuc3BlY2lhbFt0LnR5cGVdfHx7fTtmb3Ioc1swXT10LHU9MTt1PGFyZ3VtZW50cy5sZW5ndGg7dSsrKXNbdV09YXJndW1lbnRzW3VdO2lmKHQuZGVsZWdhdGVUYXJnZXQ9dGhpcywhby5wcmVEaXNwYXRjaHx8ITEhPT1vLnByZURpc3BhdGNoLmNhbGwodGhpcyx0KSl7Zm9yKGw9aS5ldmVudC5oYW5kbGVycy5jYWxsKHRoaXMsdCxhKSx1PTA7KGU9bFt1KytdKSYmIXQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTspZm9yKHQuY3VycmVudFRhcmdldD1lLmVsZW0saD0wOyhmPWUuaGFuZGxlcnNbaCsrXSkmJiF0LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCk7KXQucm5hbWVzcGFjZSYmIXQucm5hbWVzcGFjZS50ZXN0KGYubmFtZXNwYWNlKXx8KHQuaGFuZGxlT2JqPWYsdC5kYXRhPWYuZGF0YSx2b2lkIDAhPT0oYz0oKGkuZXZlbnQuc3BlY2lhbFtmLm9yaWdUeXBlXXx8e30pLmhhbmRsZXx8Zi5oYW5kbGVyKS5hcHBseShlLmVsZW0scykpJiYhMT09PSh0LnJlc3VsdD1jKSYmKHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpKSk7cmV0dXJuIG8ucG9zdERpc3BhdGNoJiZvLnBvc3REaXNwYXRjaC5jYWxsKHRoaXMsdCksdC5yZXN1bHR9fSxoYW5kbGVyczpmdW5jdGlvbihuLHQpe3ZhciBmLGgsdSxlLG8sYz1bXSxzPXQuZGVsZWdhdGVDb3VudCxyPW4udGFyZ2V0O2lmKHMmJnIubm9kZVR5cGUmJiEoImNsaWNrIj09PW4udHlwZSYmbi5idXR0b24+PTEpKWZvcig7ciE9PXRoaXM7cj1yLnBhcmVudE5vZGV8fHRoaXMpaWYoMT09PXIubm9kZVR5cGUmJigiY2xpY2siIT09bi50eXBlfHwhMCE9PXIuZGlzYWJsZWQpKXtmb3IoZT1bXSxvPXt9LGY9MDtmPHM7ZisrKXZvaWQgMD09PW9bdT0oaD10W2ZdKS5zZWxlY3RvcisiICJdJiYob1t1XT1oLm5lZWRzQ29udGV4dD9pKHUsdGhpcykuaW5kZXgocik+LTE6aS5maW5kKHUsdGhpcyxudWxsLFtyXSkubGVuZ3RoKSxvW3VdJiZlLnB1c2goaCk7ZS5sZW5ndGgmJmMucHVzaCh7ZWxlbTpyLGhhbmRsZXJzOmV9KX1yZXR1cm4gcj10aGlzLHM8dC5sZW5ndGgmJmMucHVzaCh7ZWxlbTpyLGhhbmRsZXJzOnQuc2xpY2Uocyl9KSxjfSxhZGRQcm9wOmZ1bmN0aW9uKG4sdCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGkuRXZlbnQucHJvdG90eXBlLG4se2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDp1KHQpP2Z1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0KHRoaXMub3JpZ2luYWxFdmVudCl9OmZ1bmN0aW9uKCl7aWYodGhpcy5vcmlnaW5hbEV2ZW50KXJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnRbbl19LHNldDpmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxuLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTp0fSl9fSl9LGZpeDpmdW5jdGlvbihuKXtyZXR1cm4gbltpLmV4cGFuZG9dP246bmV3IGkuRXZlbnQobil9LHNwZWNpYWw6e2xvYWQ6e25vQnViYmxlOiEwfSxmb2N1czp7dHJpZ2dlcjpmdW5jdGlvbigpe2lmKHRoaXMhPT1zdSgpJiZ0aGlzLmZvY3VzKXJldHVybiB0aGlzLmZvY3VzKCksITF9LGRlbGVnYXRlVHlwZToiZm9jdXNpbiJ9LGJsdXI6e3RyaWdnZXI6ZnVuY3Rpb24oKXtpZih0aGlzPT09c3UoKSYmdGhpcy5ibHVyKXJldHVybiB0aGlzLmJsdXIoKSwhMX0sZGVsZWdhdGVUeXBlOiJmb2N1c291dCJ9LGNsaWNrOnt0cmlnZ2VyOmZ1bmN0aW9uKCl7aWYoImNoZWNrYm94Ij09PXRoaXMudHlwZSYmdGhpcy5jbGljayYmdih0aGlzLCJpbnB1dCIpKXJldHVybiB0aGlzLmNsaWNrKCksITF9LF9kZWZhdWx0OmZ1bmN0aW9uKG4pe3JldHVybiB2KG4udGFyZ2V0LCJhIil9fSxiZWZvcmV1bmxvYWQ6e3Bvc3REaXNwYXRjaDpmdW5jdGlvbihuKXt2b2lkIDAhPT1uLnJlc3VsdCYmbi5vcmlnaW5hbEV2ZW50JiYobi5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlPW4ucmVzdWx0KX19fX07aS5yZW1vdmVFdmVudD1mdW5jdGlvbihuLHQsaSl7bi5yZW1vdmVFdmVudExpc3RlbmVyJiZuLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxpKX07aS5FdmVudD1mdW5jdGlvbihuLHQpe2lmKCEodGhpcyBpbnN0YW5jZW9mIGkuRXZlbnQpKXJldHVybiBuZXcgaS5FdmVudChuLHQpO24mJm4udHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PW4sdGhpcy50eXBlPW4udHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1uLmRlZmF1bHRQcmV2ZW50ZWR8fHZvaWQgMD09PW4uZGVmYXVsdFByZXZlbnRlZCYmITE9PT1uLnJldHVyblZhbHVlP3JpOmV0LHRoaXMudGFyZ2V0PW4udGFyZ2V0JiYzPT09bi50YXJnZXQubm9kZVR5cGU/bi50YXJnZXQucGFyZW50Tm9kZTpuLnRhcmdldCx0aGlzLmN1cnJlbnRUYXJnZXQ9bi5jdXJyZW50VGFyZ2V0LHRoaXMucmVsYXRlZFRhcmdldD1uLnJlbGF0ZWRUYXJnZXQpOnRoaXMudHlwZT1uO3QmJmkuZXh0ZW5kKHRoaXMsdCk7dGhpcy50aW1lU3RhbXA9biYmbi50aW1lU3RhbXB8fERhdGUubm93KCk7dGhpc1tpLmV4cGFuZG9dPSEwfTtpLkV2ZW50LnByb3RvdHlwZT17Y29uc3RydWN0b3I6aS5FdmVudCxpc0RlZmF1bHRQcmV2ZW50ZWQ6ZXQsaXNQcm9wYWdhdGlvblN0b3BwZWQ6ZXQsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6ZXQsaXNTaW11bGF0ZWQ6ITEscHJldmVudERlZmF1bHQ6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLm9yaWdpbmFsRXZlbnQ7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9cmk7biYmIXRoaXMuaXNTaW11bGF0ZWQmJm4ucHJldmVudERlZmF1bHQoKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dmFyIG49dGhpcy5vcmlnaW5hbEV2ZW50O3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9cmk7biYmIXRoaXMuaXNTaW11bGF0ZWQmJm4uc3RvcFByb3BhZ2F0aW9uKCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBuPXRoaXMub3JpZ2luYWxFdmVudDt0aGlzLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkPXJpO24mJiF0aGlzLmlzU2ltdWxhdGVkJiZuLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO3RoaXMuc3RvcFByb3BhZ2F0aW9uKCl9fTtpLmVhY2goe2FsdEtleTohMCxidWJibGVzOiEwLGNhbmNlbGFibGU6ITAsY2hhbmdlZFRvdWNoZXM6ITAsY3RybEtleTohMCxkZXRhaWw6ITAsZXZlbnRQaGFzZTohMCxtZXRhS2V5OiEwLHBhZ2VYOiEwLHBhZ2VZOiEwLHNoaWZ0S2V5OiEwLHZpZXc6ITAsY2hhcjohMCxjaGFyQ29kZTohMCxrZXk6ITAsa2V5Q29kZTohMCxidXR0b246ITAsYnV0dG9uczohMCxjbGllbnRYOiEwLGNsaWVudFk6ITAsb2Zmc2V0WDohMCxvZmZzZXRZOiEwLHBvaW50ZXJJZDohMCxwb2ludGVyVHlwZTohMCxzY3JlZW5YOiEwLHNjcmVlblk6ITAsdGFyZ2V0VG91Y2hlczohMCx0b0VsZW1lbnQ6ITAsdG91Y2hlczohMCx3aGljaDpmdW5jdGlvbihuKXt2YXIgdD1uLmJ1dHRvbjtyZXR1cm4gbnVsbD09bi53aGljaCYmc2UudGVzdChuLnR5cGUpP251bGwhPW4uY2hhckNvZGU/bi5jaGFyQ29kZTpuLmtleUNvZGU6IW4ud2hpY2gmJnZvaWQgMCE9PXQmJmhlLnRlc3Qobi50eXBlKT8xJnQ/MToyJnQ/Mzo0JnQ/MjowOm4ud2hpY2h9fSxpLmV2ZW50LmFkZFByb3ApO2kuZWFjaCh7bW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCIscG9pbnRlcmVudGVyOiJwb2ludGVyb3ZlciIscG9pbnRlcmxlYXZlOiJwb2ludGVyb3V0In0sZnVuY3Rpb24obix0KXtpLmV2ZW50LnNwZWNpYWxbbl09e2RlbGVnYXRlVHlwZTp0LGJpbmRUeXBlOnQsaGFuZGxlOmZ1bmN0aW9uKG4pe3ZhciB1LGY9dGhpcyxyPW4ucmVsYXRlZFRhcmdldCxlPW4uaGFuZGxlT2JqO3JldHVybiByJiYocj09PWZ8fGkuY29udGFpbnMoZixyKSl8fChuLnR5cGU9ZS5vcmlnVHlwZSx1PWUuaGFuZGxlci5hcHBseSh0aGlzLGFyZ3VtZW50cyksbi50eXBlPXQpLHV9fX0pO2kuZm4uZXh0ZW5kKHtvbjpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4geWkodGhpcyxuLHQsaSxyKX0sb25lOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB5aSh0aGlzLG4sdCxpLHIsMSl9LG9mZjpmdW5jdGlvbihuLHQscil7dmFyIHUsZjtpZihuJiZuLnByZXZlbnREZWZhdWx0JiZuLmhhbmRsZU9iailyZXR1cm4gdT1uLmhhbmRsZU9iaixpKG4uZGVsZWdhdGVUYXJnZXQpLm9mZih1Lm5hbWVzcGFjZT91Lm9yaWdUeXBlKyIuIit1Lm5hbWVzcGFjZTp1Lm9yaWdUeXBlLHUuc2VsZWN0b3IsdS5oYW5kbGVyKSx0aGlzO2lmKCJvYmplY3QiPT10eXBlb2Ygbil7Zm9yKGYgaW4gbil0aGlzLm9mZihmLHQsbltmXSk7cmV0dXJuIHRoaXN9cmV0dXJuITEhPT10JiYiZnVuY3Rpb24iIT10eXBlb2YgdHx8KHI9dCx0PXZvaWQgMCksITE9PT1yJiYocj1ldCksdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aS5ldmVudC5yZW1vdmUodGhpcyxuLHIsdCl9KX19KTt2YXIgY2U9LzwoPyFhcmVhfGJyfGNvbHxlbWJlZHxocnxpbWd8aW5wdXR8bGlua3xtZXRhfHBhcmFtKSgoW2Etel1bXlwvXDA+XHgyMFx0XHJcblxmXSopW14+XSopXC8+L2dpLGxlPS88c2NyaXB0fDxzdHlsZXw8bGluay9pLGFlPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLHZlPS9eXHMqPCEoPzpcW0NEQVRBXFt8LS0pfCg/OlxdXF18LS0pPlxzKiQvZztpLmV4dGVuZCh7aHRtbFByZWZpbHRlcjpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKGNlLCI8JDE+PFwvJDI+Iil9LGNsb25lOmZ1bmN0aW9uKG4sdCxyKXt2YXIgdSxjLG8sZixoPW4uY2xvbmVOb2RlKCEwKSxsPWkuY29udGFpbnMobi5vd25lckRvY3VtZW50LG4pO2lmKCEoZS5ub0Nsb25lQ2hlY2tlZHx8MSE9PW4ubm9kZVR5cGUmJjExIT09bi5ub2RlVHlwZXx8aS5pc1hNTERvYyhuKSkpZm9yKGY9cyhoKSx1PTAsYz0obz1zKG4pKS5sZW5ndGg7dTxjO3UrKyl3ZShvW3VdLGZbdV0pO2lmKHQpaWYocilmb3Iobz1vfHxzKG4pLGY9Znx8cyhoKSx1PTAsYz1vLmxlbmd0aDt1PGM7dSsrKWN1KG9bdV0sZlt1XSk7ZWxzZSBjdShuLGgpO3JldHVybihmPXMoaCwic2NyaXB0IikpLmxlbmd0aD4wJiZ2aShmLCFsJiZzKG4sInNjcmlwdCIpKSxofSxjbGVhbkRhdGE6ZnVuY3Rpb24obil7Zm9yKHZhciB1LHQsZixzPWkuZXZlbnQuc3BlY2lhbCxlPTA7dm9pZCAwIT09KHQ9bltlXSk7ZSsrKWlmKGx0KHQpKXtpZih1PXRbci5leHBhbmRvXSl7aWYodS5ldmVudHMpZm9yKGYgaW4gdS5ldmVudHMpc1tmXT9pLmV2ZW50LnJlbW92ZSh0LGYpOmkucmVtb3ZlRXZlbnQodCxmLHUuaGFuZGxlKTt0W3IuZXhwYW5kb109dm9pZCAwfXRbby5leHBhbmRvXSYmKHRbby5leHBhbmRvXT12b2lkIDApfX19KTtpLmZuLmV4dGVuZCh7ZGV0YWNoOmZ1bmN0aW9uKG4pe3JldHVybiBsdSh0aGlzLG4sITApfSxyZW1vdmU6ZnVuY3Rpb24obil7cmV0dXJuIGx1KHRoaXMsbil9LHRleHQ6ZnVuY3Rpb24obil7cmV0dXJuIHAodGhpcyxmdW5jdGlvbihuKXtyZXR1cm4gdm9pZCAwPT09bj9pLnRleHQodGhpcyk6dGhpcy5lbXB0eSgpLmVhY2goZnVuY3Rpb24oKXsxIT09dGhpcy5ub2RlVHlwZSYmMTEhPT10aGlzLm5vZGVUeXBlJiY5IT09dGhpcy5ub2RlVHlwZXx8KHRoaXMudGV4dENvbnRlbnQ9bil9KX0sbnVsbCxuLGFyZ3VtZW50cy5sZW5ndGgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gb3QodGhpcyxhcmd1bWVudHMsZnVuY3Rpb24obil7MSE9PXRoaXMubm9kZVR5cGUmJjExIT09dGhpcy5ub2RlVHlwZSYmOSE9PXRoaXMubm9kZVR5cGV8fGh1KHRoaXMsbikuYXBwZW5kQ2hpbGQobil9KX0scHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXtpZigxPT09dGhpcy5ub2RlVHlwZXx8MTE9PT10aGlzLm5vZGVUeXBlfHw5PT09dGhpcy5ub2RlVHlwZSl7dmFyIHQ9aHUodGhpcyxuKTt0Lmluc2VydEJlZm9yZShuLHQuZmlyc3RDaGlsZCl9fSl9LGJlZm9yZTpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzKX0pfSxhZnRlcjpmdW5jdGlvbigpe3JldHVybiBvdCh0aGlzLGFyZ3VtZW50cyxmdW5jdGlvbihuKXt0aGlzLnBhcmVudE5vZGUmJnRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0aGlzLm5leHRTaWJsaW5nKX0pfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgbix0PTA7bnVsbCE9KG49dGhpc1t0XSk7dCsrKTE9PT1uLm5vZGVUeXBlJiYoaS5jbGVhbkRhdGEocyhuLCExKSksbi50ZXh0Q29udGVudD0iIik7cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49bnVsbCE9biYmbix0PW51bGw9PXQ/bjp0LHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGkuY2xvbmUodGhpcyxuLHQpfSl9LGh0bWw6ZnVuY3Rpb24obil7cmV0dXJuIHAodGhpcyxmdW5jdGlvbihuKXt2YXIgdD10aGlzWzBdfHx7fSxyPTAsdT10aGlzLmxlbmd0aDtpZih2b2lkIDA9PT1uJiYxPT09dC5ub2RlVHlwZSlyZXR1cm4gdC5pbm5lckhUTUw7aWYoInN0cmluZyI9PXR5cGVvZiBuJiYhbGUudGVzdChuKSYmIWNbKHJ1LmV4ZWMobil8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXtuPWkuaHRtbFByZWZpbHRlcihuKTt0cnl7Zm9yKDtyPHU7cisrKTE9PT0odD10aGlzW3JdfHx7fSkubm9kZVR5cGUmJihpLmNsZWFuRGF0YShzKHQsITEpKSx0LmlubmVySFRNTD1uKTt0PTB9Y2F0Y2gobil7fX10JiZ0aGlzLmVtcHR5KCkuYXBwZW5kKG4pfSxudWxsLG4sYXJndW1lbnRzLmxlbmd0aCl9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKCl7dmFyIG49W107cmV0dXJuIG90KHRoaXMsYXJndW1lbnRzLGZ1bmN0aW9uKHQpe3ZhciByPXRoaXMucGFyZW50Tm9kZTtpLmluQXJyYXkodGhpcyxuKTwwJiYoaS5jbGVhbkRhdGEocyh0aGlzKSksciYmci5yZXBsYWNlQ2hpbGQodCx0aGlzKSl9LG4pfX0pO2kuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKG4sdCl7aS5mbltuXT1mdW5jdGlvbihuKXtmb3IodmFyIHUsZj1bXSxlPWkobiksbz1lLmxlbmd0aC0xLHI9MDtyPD1vO3IrKyl1PXI9PT1vP3RoaXM6dGhpcy5jbG9uZSghMCksaShlW3JdKVt0XSh1KSxzaS5hcHBseShmLHUuZ2V0KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmKX19KTt2YXIgcGk9bmV3IFJlZ0V4cCgiXigiK2dyKyIpKD8hcHgpW2EteiVdKyQiLCJpIiksdWk9ZnVuY3Rpb24odCl7dmFyIGk9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3O3JldHVybiBpJiZpLm9wZW5lcnx8KGk9biksaS5nZXRDb21wdXRlZFN0eWxlKHQpfSxiZT1uZXcgUmVnRXhwKHcuam9pbigifCIpLCJpIik7IWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcigpe2lmKHQpe28uc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7bGVmdDotMTExMTFweDt3aWR0aDo2MHB4O21hcmdpbi10b3A6MXB4O3BhZGRpbmc6MDtib3JkZXI6MCI7dC5zdHlsZS5jc3NUZXh0PSJwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2JveC1zaXppbmc6Ym9yZGVyLWJveDtvdmVyZmxvdzpzY3JvbGw7bWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDt3aWR0aDo2MCU7dG9wOjElIjtpaS5hcHBlbmRDaGlsZChvKS5hcHBlbmRDaGlsZCh0KTt2YXIgaT1uLmdldENvbXB1dGVkU3R5bGUodCk7cz0iMSUiIT09aS50b3A7YT0xMj09PXUoaS5tYXJnaW5MZWZ0KTt0LnN0eWxlLnJpZ2h0PSI2MCUiO2w9MzY9PT11KGkucmlnaHQpO2g9MzY9PT11KGkud2lkdGgpO3Quc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtjPTM2PT09dC5vZmZzZXRXaWR0aHx8ImFic29sdXRlIjtpaS5yZW1vdmVDaGlsZChvKTt0PW51bGx9fWZ1bmN0aW9uIHUobil7cmV0dXJuIE1hdGgucm91bmQocGFyc2VGbG9hdChuKSl9dmFyIHMsaCxjLGwsYSxvPWYuY3JlYXRlRWxlbWVudCgiZGl2IiksdD1mLmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Quc3R5bGUmJih0LnN0eWxlLmJhY2tncm91bmRDbGlwPSJjb250ZW50LWJveCIsdC5jbG9uZU5vZGUoITApLnN0eWxlLmJhY2tncm91bmRDbGlwPSIiLGUuY2xlYXJDbG9uZVN0eWxlPSJjb250ZW50LWJveCI9PT10LnN0eWxlLmJhY2tncm91bmRDbGlwLGkuZXh0ZW5kKGUse2JveFNpemluZ1JlbGlhYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxofSxwaXhlbEJveFN0eWxlczpmdW5jdGlvbigpe3JldHVybiByKCksbH0scGl4ZWxQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiByKCksc30scmVsaWFibGVNYXJnaW5MZWZ0OmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxhfSxzY3JvbGxib3hTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHIoKSxjfX0pKX0oKTt2YXIga2U9L14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLHZ1PS9eLS0vLGRlPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSx5dT17bGV0dGVyU3BhY2luZzoiMCIsZm9udFdlaWdodDoiNDAwIn0scHU9WyJXZWJraXQiLCJNb3oiLCJtcyJdLHd1PWYuY3JlYXRlRWxlbWVudCgiZGl2Iikuc3R5bGU7aS5leHRlbmQoe2Nzc0hvb2tzOntvcGFjaXR5OntnZXQ6ZnVuY3Rpb24obix0KXtpZih0KXt2YXIgaT15dChuLCJvcGFjaXR5Iik7cmV0dXJuIiI9PT1pPyIxIjppfX19fSxjc3NOdW1iZXI6e2FuaW1hdGlvbkl0ZXJhdGlvbkNvdW50OiEwLGNvbHVtbkNvdW50OiEwLGZpbGxPcGFjaXR5OiEwLGZsZXhHcm93OiEwLGZsZXhTaHJpbms6ITAsZm9udFdlaWdodDohMCxsaW5lSGVpZ2h0OiEwLG9wYWNpdHk6ITAsb3JkZXI6ITAsb3JwaGFuczohMCx3aWRvd3M6ITAsekluZGV4OiEwLHpvb206ITB9LGNzc1Byb3BzOnt9LHN0eWxlOmZ1bmN0aW9uKG4sdCxyLHUpe2lmKG4mJjMhPT1uLm5vZGVUeXBlJiY4IT09bi5ub2RlVHlwZSYmbi5zdHlsZSl7dmFyIGYsaCxvLGM9eSh0KSxsPXZ1LnRlc3QodCkscz1uLnN0eWxlO2lmKGx8fCh0PWJ1KGMpKSxvPWkuY3NzSG9va3NbdF18fGkuY3NzSG9va3NbY10sdm9pZCAwPT09cilyZXR1cm4gbyYmImdldCJpbiBvJiZ2b2lkIDAhPT0oZj1vLmdldChuLCExLHUpKT9mOnNbdF07InN0cmluZyI9PShoPXR5cGVvZiByKSYmKGY9dnQuZXhlYyhyKSkmJmZbMV0mJihyPXR1KG4sdCxmKSxoPSJudW1iZXIiKTtudWxsIT1yJiZyPT09ciYmKCJudW1iZXIiPT09aCYmKHIrPWYmJmZbM118fChpLmNzc051bWJlcltjXT8iIjoicHgiKSksZS5jbGVhckNsb25lU3R5bGV8fCIiIT09cnx8MCE9PXQuaW5kZXhPZigiYmFja2dyb3VuZCIpfHwoc1t0XT0iaW5oZXJpdCIpLG8mJiJzZXQiaW4gbyYmdm9pZCAwPT09KHI9by5zZXQobixyLHUpKXx8KGw/cy5zZXRQcm9wZXJ0eSh0LHIpOnNbdF09cikpfX0sY3NzOmZ1bmN0aW9uKG4sdCxyLHUpe3ZhciBmLGUsbyxzPXkodCk7cmV0dXJuIHZ1LnRlc3QodCl8fCh0PWJ1KHMpKSwobz1pLmNzc0hvb2tzW3RdfHxpLmNzc0hvb2tzW3NdKSYmImdldCJpbiBvJiYoZj1vLmdldChuLCEwLHIpKSx2b2lkIDA9PT1mJiYoZj15dChuLHQsdSkpLCJub3JtYWwiPT09ZiYmdCBpbiB5dSYmKGY9eXVbdF0pLCIiPT09cnx8cj8oZT1wYXJzZUZsb2F0KGYpLCEwPT09cnx8aXNGaW5pdGUoZSk/ZXx8MDpmKTpmfX0pO2kuZWFjaChbImhlaWdodCIsIndpZHRoIl0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW3RdPXtnZXQ6ZnVuY3Rpb24obixyLHUpe2lmKHIpcmV0dXJuIWtlLnRlc3QoaS5jc3MobiwiZGlzcGxheSIpKXx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aD9kdShuLHQsdSk6bnUobixkZSxmdW5jdGlvbigpe3JldHVybiBkdShuLHQsdSl9KX0sc2V0OmZ1bmN0aW9uKG4scix1KXt2YXIgcyxmPXVpKG4pLGg9ImJvcmRlci1ib3giPT09aS5jc3MobiwiYm94U2l6aW5nIiwhMSxmKSxvPXUmJndpKG4sdCx1LGgsZik7cmV0dXJuIGgmJmUuc2Nyb2xsYm94U2l6ZSgpPT09Zi5wb3NpdGlvbiYmKG8tPU1hdGguY2VpbChuWyJvZmZzZXQiK3RbMF0udG9VcHBlckNhc2UoKSt0LnNsaWNlKDEpXS1wYXJzZUZsb2F0KGZbdF0pLXdpKG4sdCwiYm9yZGVyIiwhMSxmKS0uNSkpLG8mJihzPXZ0LmV4ZWMocikpJiYicHgiIT09KHNbM118fCJweCIpJiYobi5zdHlsZVt0XT1yLHI9aS5jc3Mobix0KSksa3UobixyLG8pfX19KTtpLmNzc0hvb2tzLm1hcmdpbkxlZnQ9YXUoZS5yZWxpYWJsZU1hcmdpbkxlZnQsZnVuY3Rpb24obix0KXtpZih0KXJldHVybihwYXJzZUZsb2F0KHl0KG4sIm1hcmdpbkxlZnQiKSl8fG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1udShuLHttYXJnaW5MZWZ0OjB9LGZ1bmN0aW9uKCl7cmV0dXJuIG4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdH0pKSsicHgifSk7aS5lYWNoKHttYXJnaW46IiIscGFkZGluZzoiIixib3JkZXI6IldpZHRoIn0sZnVuY3Rpb24obix0KXtpLmNzc0hvb2tzW24rdF09e2V4cGFuZDpmdW5jdGlvbihpKXtmb3IodmFyIHI9MCxmPXt9LHU9InN0cmluZyI9PXR5cGVvZiBpP2kuc3BsaXQoIiAiKTpbaV07cjw0O3IrKylmW24rd1tyXSt0XT11W3JdfHx1W3ItMl18fHVbMF07cmV0dXJuIGZ9fTsibWFyZ2luIiE9PW4mJihpLmNzc0hvb2tzW24rdF0uc2V0PWt1KX0pO2kuZm4uZXh0ZW5kKHtjc3M6ZnVuY3Rpb24obix0KXtyZXR1cm4gcCh0aGlzLGZ1bmN0aW9uKG4sdCxyKXt2YXIgZixlLG89e30sdT0wO2lmKEFycmF5LmlzQXJyYXkodCkpe2ZvcihmPXVpKG4pLGU9dC5sZW5ndGg7dTxlO3UrKylvW3RbdV1dPWkuY3NzKG4sdFt1XSwhMSxmKTtyZXR1cm4gb31yZXR1cm4gdm9pZCAwIT09cj9pLnN0eWxlKG4sdCxyKTppLmNzcyhuLHQpfSxuLHQsYXJndW1lbnRzLmxlbmd0aD4xKX19KTtpLlR3ZWVuPWg7aC5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmgsaW5pdDpmdW5jdGlvbihuLHQscix1LGYsZSl7dGhpcy5lbGVtPW47dGhpcy5wcm9wPXI7dGhpcy5lYXNpbmc9Znx8aS5lYXNpbmcuX2RlZmF1bHQ7dGhpcy5vcHRpb25zPXQ7dGhpcy5zdGFydD10aGlzLm5vdz10aGlzLmN1cigpO3RoaXMuZW5kPXU7dGhpcy51bml0PWV8fChpLmNzc051bWJlcltyXT8iIjoicHgiKX0sY3VyOmZ1bmN0aW9uKCl7dmFyIG49aC5wcm9wSG9va3NbdGhpcy5wcm9wXTtyZXR1cm4gbiYmbi5nZXQ/bi5nZXQodGhpcyk6aC5wcm9wSG9va3MuX2RlZmF1bHQuZ2V0KHRoaXMpfSxydW46ZnVuY3Rpb24obil7dmFyIHQscj1oLnByb3BIb29rc1t0aGlzLnByb3BdO3JldHVybiB0aGlzLnBvcz10aGlzLm9wdGlvbnMuZHVyYXRpb24/dD1pLmVhc2luZ1t0aGlzLmVhc2luZ10obix0aGlzLm9wdGlvbnMuZHVyYXRpb24qbiwwLDEsdGhpcy5vcHRpb25zLmR1cmF0aW9uKTp0PW4sdGhpcy5ub3c9KHRoaXMuZW5kLXRoaXMuc3RhcnQpKnQrdGhpcy5zdGFydCx0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksciYmci5zZXQ/ci5zZXQodGhpcyk6aC5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KHRoaXMpLHRoaXN9fTtoLnByb3RvdHlwZS5pbml0LnByb3RvdHlwZT1oLnByb3RvdHlwZTtoLnByb3BIb29rcz17X2RlZmF1bHQ6e2dldDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gMSE9PW4uZWxlbS5ub2RlVHlwZXx8bnVsbCE9bi5lbGVtW24ucHJvcF0mJm51bGw9PW4uZWxlbS5zdHlsZVtuLnByb3BdP24uZWxlbVtuLnByb3BdOih0PWkuY3NzKG4uZWxlbSxuLnByb3AsIiIpKSYmImF1dG8iIT09dD90OjB9LHNldDpmdW5jdGlvbihuKXtpLmZ4LnN0ZXBbbi5wcm9wXT9pLmZ4LnN0ZXBbbi5wcm9wXShuKToxIT09bi5lbGVtLm5vZGVUeXBlfHxudWxsPT1uLmVsZW0uc3R5bGVbaS5jc3NQcm9wc1tuLnByb3BdXSYmIWkuY3NzSG9va3Nbbi5wcm9wXT9uLmVsZW1bbi5wcm9wXT1uLm5vdzppLnN0eWxlKG4uZWxlbSxuLnByb3Asbi5ub3crbi51bml0KX19fTtoLnByb3BIb29rcy5zY3JvbGxUb3A9aC5wcm9wSG9va3Muc2Nyb2xsTGVmdD17c2V0OmZ1bmN0aW9uKG4pe24uZWxlbS5ub2RlVHlwZSYmbi5lbGVtLnBhcmVudE5vZGUmJihuLmVsZW1bbi5wcm9wXT1uLm5vdyl9fTtpLmVhc2luZz17bGluZWFyOmZ1bmN0aW9uKG4pe3JldHVybiBufSxzd2luZzpmdW5jdGlvbihuKXtyZXR1cm4uNS1NYXRoLmNvcyhuKk1hdGguUEkpLzJ9LF9kZWZhdWx0OiJzd2luZyJ9O2kuZng9aC5wcm90b3R5cGUuaW5pdDtpLmZ4LnN0ZXA9e307Z3U9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvO25mPS9xdWV1ZUhvb2tzJC87aS5BbmltYXRpb249aS5leHRlbmQoYSx7dHdlZW5lcnM6eyIqIjpbZnVuY3Rpb24obix0KXt2YXIgaT10aGlzLmNyZWF0ZVR3ZWVuKG4sdCk7cmV0dXJuIHR1KGkuZWxlbSxuLHZ0LmV4ZWModCksaSksaX1dfSx0d2VlbmVyOmZ1bmN0aW9uKG4sdCl7dShuKT8odD1uLG49WyIqIl0pOm49bi5tYXRjaChsKTtmb3IodmFyIGkscj0wLGY9bi5sZW5ndGg7cjxmO3IrKylpPW5bcl0sYS50d2VlbmVyc1tpXT1hLnR3ZWVuZXJzW2ldfHxbXSxhLnR3ZWVuZXJzW2ldLnVuc2hpZnQodCl9LHByZWZpbHRlcnM6W25vXSxwcmVmaWx0ZXI6ZnVuY3Rpb24obix0KXt0P2EucHJlZmlsdGVycy51bnNoaWZ0KG4pOmEucHJlZmlsdGVycy5wdXNoKG4pfX0pO2kuc3BlZWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmPW4mJiJvYmplY3QiPT10eXBlb2Ygbj9pLmV4dGVuZCh7fSxuKTp7Y29tcGxldGU6cnx8IXImJnR8fHUobikmJm4sZHVyYXRpb246bixlYXNpbmc6ciYmdHx8dCYmIXUodCkmJnR9O3JldHVybiBpLmZ4Lm9mZj9mLmR1cmF0aW9uPTA6Im51bWJlciIhPXR5cGVvZiBmLmR1cmF0aW9uJiYoZi5kdXJhdGlvbj1mLmR1cmF0aW9uIGluIGkuZnguc3BlZWRzP2kuZnguc3BlZWRzW2YuZHVyYXRpb25dOmkuZnguc3BlZWRzLl9kZWZhdWx0KSxudWxsIT1mLnF1ZXVlJiYhMCE9PWYucXVldWV8fChmLnF1ZXVlPSJmeCIpLGYub2xkPWYuY29tcGxldGUsZi5jb21wbGV0ZT1mdW5jdGlvbigpe3UoZi5vbGQpJiZmLm9sZC5jYWxsKHRoaXMpO2YucXVldWUmJmkuZGVxdWV1ZSh0aGlzLGYucXVldWUpfSxmfTtpLmZuLmV4dGVuZCh7ZmFkZVRvOmZ1bmN0aW9uKG4sdCxpLHIpe3JldHVybiB0aGlzLmZpbHRlcih0aSkuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTp0fSxuLGkscil9LGFuaW1hdGU6ZnVuY3Rpb24obix0LHUsZil7dmFyIHM9aS5pc0VtcHR5T2JqZWN0KG4pLG89aS5zcGVlZCh0LHUsZiksZT1mdW5jdGlvbigpe3ZhciB0PWEodGhpcyxpLmV4dGVuZCh7fSxuKSxvKTsoc3x8ci5nZXQodGhpcywiZmluaXNoIikpJiZ0LnN0b3AoITApfTtyZXR1cm4gZS5maW5pc2g9ZSxzfHwhMT09PW8ucXVldWU/dGhpcy5lYWNoKGUpOnRoaXMucXVldWUoby5xdWV1ZSxlKX0sc3RvcDpmdW5jdGlvbihuLHQsdSl7dmFyIGY9ZnVuY3Rpb24obil7dmFyIHQ9bi5zdG9wO2RlbGV0ZSBuLnN0b3A7dCh1KX07cmV0dXJuInN0cmluZyIhPXR5cGVvZiBuJiYodT10LHQ9bixuPXZvaWQgMCksdCYmITEhPT1uJiZ0aGlzLnF1ZXVlKG58fCJmeCIsW10pLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBzPSEwLHQ9bnVsbCE9biYmbisicXVldWVIb29rcyIsbz1pLnRpbWVycyxlPXIuZ2V0KHRoaXMpO2lmKHQpZVt0XSYmZVt0XS5zdG9wJiZmKGVbdF0pO2Vsc2UgZm9yKHQgaW4gZSllW3RdJiZlW3RdLnN0b3AmJm5mLnRlc3QodCkmJmYoZVt0XSk7Zm9yKHQ9by5sZW5ndGg7dC0tOylvW3RdLmVsZW0hPT10aGlzfHxudWxsIT1uJiZvW3RdLnF1ZXVlIT09bnx8KG9bdF0uYW5pbS5zdG9wKHUpLHM9ITEsby5zcGxpY2UodCwxKSk7IXMmJnV8fGkuZGVxdWV1ZSh0aGlzLG4pfSl9LGZpbmlzaDpmdW5jdGlvbihuKXtyZXR1cm4hMSE9PW4mJihuPW58fCJmeCIpLHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0LGU9ci5nZXQodGhpcyksdT1lW24rInF1ZXVlIl0sbz1lW24rInF1ZXVlSG9va3MiXSxmPWkudGltZXJzLHM9dT91Lmxlbmd0aDowO2ZvcihlLmZpbmlzaD0hMCxpLnF1ZXVlKHRoaXMsbixbXSksbyYmby5zdG9wJiZvLnN0b3AuY2FsbCh0aGlzLCEwKSx0PWYubGVuZ3RoO3QtLTspZlt0XS5lbGVtPT09dGhpcyYmZlt0XS5xdWV1ZT09PW4mJihmW3RdLmFuaW0uc3RvcCghMCksZi5zcGxpY2UodCwxKSk7Zm9yKHQ9MDt0PHM7dCsrKXVbdF0mJnVbdF0uZmluaXNoJiZ1W3RdLmZpbmlzaC5jYWxsKHRoaXMpO2RlbGV0ZSBlLmZpbmlzaH0pfX0pO2kuZWFjaChbInRvZ2dsZSIsInNob3ciLCJoaWRlIl0sZnVuY3Rpb24obix0KXt2YXIgcj1pLmZuW3RdO2kuZm5bdF09ZnVuY3Rpb24obixpLHUpe3JldHVybiBudWxsPT1ufHwiYm9vbGVhbiI9PXR5cGVvZiBuP3IuYXBwbHkodGhpcyxhcmd1bWVudHMpOnRoaXMuYW5pbWF0ZShlaSh0LCEwKSxuLGksdSl9fSk7aS5lYWNoKHtzbGlkZURvd246ZWkoInNob3ciKSxzbGlkZVVwOmVpKCJoaWRlIiksc2xpZGVUb2dnbGU6ZWkoInRvZ2dsZSIpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24obix0KXtpLmZuW25dPWZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gdGhpcy5hbmltYXRlKHQsbixpLHIpfX0pO2kudGltZXJzPVtdO2kuZngudGljaz1mdW5jdGlvbigpe3ZhciByLG49MCx0PWkudGltZXJzO2ZvcihzdD1EYXRlLm5vdygpO248dC5sZW5ndGg7bisrKShyPXRbbl0pKCl8fHRbbl0hPT1yfHx0LnNwbGljZShuLS0sMSk7dC5sZW5ndGh8fGkuZnguc3RvcCgpO3N0PXZvaWQgMH07aS5meC50aW1lcj1mdW5jdGlvbihuKXtpLnRpbWVycy5wdXNoKG4pO2kuZnguc3RhcnQoKX07aS5meC5pbnRlcnZhbD0xMztpLmZ4LnN0YXJ0PWZ1bmN0aW9uKCl7Zml8fChmaT0hMCxiaSgpKX07aS5meC5zdG9wPWZ1bmN0aW9uKCl7Zmk9bnVsbH07aS5meC5zcGVlZHM9e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH07aS5mbi5kZWxheT1mdW5jdGlvbih0LHIpe3JldHVybiB0PWkuZng/aS5meC5zcGVlZHNbdF18fHQ6dCxyPXJ8fCJmeCIsdGhpcy5xdWV1ZShyLGZ1bmN0aW9uKGkscil7dmFyIHU9bi5zZXRUaW1lb3V0KGksdCk7ci5zdG9wPWZ1bmN0aW9uKCl7bi5jbGVhclRpbWVvdXQodSl9fSl9LGZ1bmN0aW9uKCl7dmFyIG49Zi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLHQ9Zi5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKS5hcHBlbmRDaGlsZChmLmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpKTtuLnR5cGU9ImNoZWNrYm94IjtlLmNoZWNrT249IiIhPT1uLnZhbHVlO2Uub3B0U2VsZWN0ZWQ9dC5zZWxlY3RlZDsobj1mLmNyZWF0ZUVsZW1lbnQoImlucHV0IikpLnZhbHVlPSJ0IjtuLnR5cGU9InJhZGlvIjtlLnJhZGlvVmFsdWU9InQiPT09bi52YWx1ZX0oKTtodD1pLmV4cHIuYXR0ckhhbmRsZTtpLmZuLmV4dGVuZCh7YXR0cjpmdW5jdGlvbihuLHQpe3JldHVybiBwKHRoaXMsaS5hdHRyLG4sdCxhcmd1bWVudHMubGVuZ3RoPjEpfSxyZW1vdmVBdHRyOmZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLnJlbW92ZUF0dHIodGhpcyxuKX0pfX0pO2kuZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKG4sdCxyKXt2YXIgZix1LGU9bi5ub2RlVHlwZTtpZigzIT09ZSYmOCE9PWUmJjIhPT1lKXJldHVybiJ1bmRlZmluZWQiPT10eXBlb2Ygbi5nZXRBdHRyaWJ1dGU/aS5wcm9wKG4sdCxyKTooMT09PWUmJmkuaXNYTUxEb2Mobil8fCh1PWkuYXR0ckhvb2tzW3QudG9Mb3dlckNhc2UoKV18fChpLmV4cHIubWF0Y2guYm9vbC50ZXN0KHQpP3VmOnZvaWQgMCkpLHZvaWQgMCE9PXI/bnVsbD09PXI/dm9pZCBpLnJlbW92ZUF0dHIobix0KTp1JiYic2V0ImluIHUmJnZvaWQgMCE9PShmPXUuc2V0KG4scix0KSk/Zjoobi5zZXRBdHRyaWJ1dGUodCxyKyIiKSxyKTp1JiYiZ2V0ImluIHUmJm51bGwhPT0oZj11LmdldChuLHQpKT9mOm51bGw9PShmPWkuZmluZC5hdHRyKG4sdCkpP3ZvaWQgMDpmKX0sYXR0ckhvb2tzOnt0eXBlOntzZXQ6ZnVuY3Rpb24obix0KXtpZighZS5yYWRpb1ZhbHVlJiYicmFkaW8iPT09dCYmdihuLCJpbnB1dCIpKXt2YXIgaT1uLnZhbHVlO3JldHVybiBuLnNldEF0dHJpYnV0ZSgidHlwZSIsdCksaSYmKG4udmFsdWU9aSksdH19fX0scmVtb3ZlQXR0cjpmdW5jdGlvbihuLHQpe3ZhciBpLHU9MCxyPXQmJnQubWF0Y2gobCk7aWYociYmMT09PW4ubm9kZVR5cGUpd2hpbGUoaT1yW3UrK10pbi5yZW1vdmVBdHRyaWJ1dGUoaSl9fSk7dWY9e3NldDpmdW5jdGlvbihuLHQscil7cmV0dXJuITE9PT10P2kucmVtb3ZlQXR0cihuLHIpOm4uc2V0QXR0cmlidXRlKHIscikscn19O2kuZWFjaChpLmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goL1x3Ky9nKSxmdW5jdGlvbihuLHQpe3ZhciByPWh0W3RdfHxpLmZpbmQuYXR0cjtodFt0XT1mdW5jdGlvbihuLHQsaSl7dmFyIGYsZSx1PXQudG9Mb3dlckNhc2UoKTtyZXR1cm4gaXx8KGU9aHRbdV0saHRbdV09ZixmPW51bGwhPXIobix0LGkpP3U6bnVsbCxodFt1XT1lKSxmfX0pO2ZmPS9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2k7ZWY9L14oPzphfGFyZWEpJC9pO2kuZm4uZXh0ZW5kKHtwcm9wOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIHAodGhpcyxpLnByb3Asbix0LGFyZ3VtZW50cy5sZW5ndGg+MSl9LHJlbW92ZVByb3A6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2RlbGV0ZSB0aGlzW2kucHJvcEZpeFtuXXx8bl19KX19KTtpLmV4dGVuZCh7cHJvcDpmdW5jdGlvbihuLHQscil7dmFyIGYsdSxlPW4ubm9kZVR5cGU7aWYoMyE9PWUmJjghPT1lJiYyIT09ZSlyZXR1cm4gMT09PWUmJmkuaXNYTUxEb2Mobil8fCh0PWkucHJvcEZpeFt0XXx8dCx1PWkucHJvcEhvb2tzW3RdKSx2b2lkIDAhPT1yP3UmJiJzZXQiaW4gdSYmdm9pZCAwIT09KGY9dS5zZXQobixyLHQpKT9mOm5bdF09cjp1JiYiZ2V0ImluIHUmJm51bGwhPT0oZj11LmdldChuLHQpKT9mOm5bdF19LHByb3BIb29rczp7dGFiSW5kZXg6e2dldDpmdW5jdGlvbihuKXt2YXIgdD1pLmZpbmQuYXR0cihuLCJ0YWJpbmRleCIpO3JldHVybiB0P3BhcnNlSW50KHQsMTApOmZmLnRlc3Qobi5ub2RlTmFtZSl8fGVmLnRlc3Qobi5ub2RlTmFtZSkmJm4uaHJlZj8wOi0xfX19LHByb3BGaXg6eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUifX0pO2Uub3B0U2VsZWN0ZWR8fChpLnByb3BIb29rcy5zZWxlY3RlZD17Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PW4ucGFyZW50Tm9kZTtyZXR1cm4gdCYmdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCxudWxsfSxzZXQ6ZnVuY3Rpb24obil7dmFyIHQ9bi5wYXJlbnROb2RlO3QmJih0LnNlbGVjdGVkSW5kZXgsdC5wYXJlbnROb2RlJiZ0LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSk7aS5lYWNoKFsidGFiSW5kZXgiLCJyZWFkT25seSIsIm1heExlbmd0aCIsImNlbGxTcGFjaW5nIiwiY2VsbFBhZGRpbmciLCJyb3dTcGFuIiwiY29sU3BhbiIsInVzZU1hcCIsImZyYW1lQm9yZGVyIiwiY29udGVudEVkaXRhYmxlIl0sZnVuY3Rpb24oKXtpLnByb3BGaXhbdGhpcy50b0xvd2VyQ2FzZSgpXT10aGlzfSk7aS5mbi5leHRlbmQoe2FkZENsYXNzOmZ1bmN0aW9uKG4pe3ZhciBvLHQscixmLGUscyxoLGM9MDtpZih1KG4pKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24odCl7aSh0aGlzKS5hZGRDbGFzcyhuLmNhbGwodGhpcyx0LG50KHRoaXMpKSl9KTtpZigobz1raShuKSkubGVuZ3RoKXdoaWxlKHQ9dGhpc1tjKytdKWlmKGY9bnQodCkscj0xPT09dC5ub2RlVHlwZSYmIiAiK2coZikrIiAiKXtmb3Iocz0wO2U9b1tzKytdOylyLmluZGV4T2YoIiAiK2UrIiAiKTwwJiYocis9ZSsiICIpO2YhPT0oaD1nKHIpKSYmdC5zZXRBdHRyaWJ1dGUoImNsYXNzIixoKX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24obil7dmFyIG8scix0LGYsZSxzLGgsYz0wO2lmKHUobikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLnJlbW92ZUNsYXNzKG4uY2FsbCh0aGlzLHQsbnQodGhpcykpKX0pO2lmKCFhcmd1bWVudHMubGVuZ3RoKXJldHVybiB0aGlzLmF0dHIoImNsYXNzIiwiIik7aWYoKG89a2kobikpLmxlbmd0aCl3aGlsZShyPXRoaXNbYysrXSlpZihmPW50KHIpLHQ9MT09PXIubm9kZVR5cGUmJiIgIitnKGYpKyIgIil7Zm9yKHM9MDtlPW9bcysrXTspd2hpbGUodC5pbmRleE9mKCIgIitlKyIgIik+LTEpdD10LnJlcGxhY2UoIiAiK2UrIiAiLCIgIik7ZiE9PShoPWcodCkpJiZyLnNldEF0dHJpYnV0ZSgiY2xhc3MiLGgpfXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihuLHQpe3ZhciBmPXR5cGVvZiBuLGU9InN0cmluZyI9PT1mfHxBcnJheS5pc0FycmF5KG4pO3JldHVybiJib29sZWFuIj09dHlwZW9mIHQmJmU/dD90aGlzLmFkZENsYXNzKG4pOnRoaXMucmVtb3ZlQ2xhc3Mobik6dShuKT90aGlzLmVhY2goZnVuY3Rpb24ocil7aSh0aGlzKS50b2dnbGVDbGFzcyhuLmNhbGwodGhpcyxyLG50KHRoaXMpLHQpLHQpfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQsbyx1LHM7aWYoZSlmb3Iobz0wLHU9aSh0aGlzKSxzPWtpKG4pO3Q9c1tvKytdOyl1Lmhhc0NsYXNzKHQpP3UucmVtb3ZlQ2xhc3ModCk6dS5hZGRDbGFzcyh0KTtlbHNlIHZvaWQgMCE9PW4mJiJib29sZWFuIiE9PWZ8fCgodD1udCh0aGlzKSkmJnIuc2V0KHRoaXMsIl9fY2xhc3NOYW1lX18iLHQpLHRoaXMuc2V0QXR0cmlidXRlJiZ0aGlzLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHR8fCExPT09bj8iIjpyLmdldCh0aGlzLCJfX2NsYXNzTmFtZV9fIil8fCIiKSl9KX0saGFzQ2xhc3M6ZnVuY3Rpb24obil7Zm9yKHZhciB0LHI9MCxpPSIgIituKyIgIjt0PXRoaXNbcisrXTspaWYoMT09PXQubm9kZVR5cGUmJigiICIrZyhudCh0KSkrIiAiKS5pbmRleE9mKGkpPi0xKXJldHVybiEwO3JldHVybiExfX0pO29mPS9cci9nO2kuZm4uZXh0ZW5kKHt2YWw6ZnVuY3Rpb24obil7dmFyIHQscixlLGY9dGhpc1swXTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD8oZT11KG4pLHRoaXMuZWFjaChmdW5jdGlvbihyKXt2YXIgdTsxPT09dGhpcy5ub2RlVHlwZSYmKG51bGw9PSh1PWU/bi5jYWxsKHRoaXMscixpKHRoaXMpLnZhbCgpKTpuKT91PSIiOiJudW1iZXIiPT10eXBlb2YgdT91Kz0iIjpBcnJheS5pc0FycmF5KHUpJiYodT1pLm1hcCh1LGZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1uPyIiOm4rIiJ9KSksKHQ9aS52YWxIb29rc1t0aGlzLnR5cGVdfHxpLnZhbEhvb2tzW3RoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYic2V0ImluIHQmJnZvaWQgMCE9PXQuc2V0KHRoaXMsdSwidmFsdWUiKXx8KHRoaXMudmFsdWU9dSkpfSkpOmY/KHQ9aS52YWxIb29rc1tmLnR5cGVdfHxpLnZhbEhvb2tzW2Yubm9kZU5hbWUudG9Mb3dlckNhc2UoKV0pJiYiZ2V0ImluIHQmJnZvaWQgMCE9PShyPXQuZ2V0KGYsInZhbHVlIikpP3I6InN0cmluZyI9PXR5cGVvZihyPWYudmFsdWUpP3IucmVwbGFjZShvZiwiIik6bnVsbD09cj8iIjpyOnZvaWQgMH19KTtpLmV4dGVuZCh7dmFsSG9va3M6e29wdGlvbjp7Z2V0OmZ1bmN0aW9uKG4pe3ZhciB0PWkuZmluZC5hdHRyKG4sInZhbHVlIik7cmV0dXJuIG51bGwhPXQ/dDpnKGkudGV4dChuKSl9fSxzZWxlY3Q6e2dldDpmdW5jdGlvbihuKXtmb3IodmFyIGUsdCxvPW4ub3B0aW9ucyx1PW4uc2VsZWN0ZWRJbmRleCxmPSJzZWxlY3Qtb25lIj09PW4udHlwZSxzPWY/bnVsbDpbXSxoPWY/dSsxOm8ubGVuZ3RoLHI9dTwwP2g6Zj91OjA7cjxoO3IrKylpZigoKHQ9b1tyXSkuc2VsZWN0ZWR8fHI9PT11KSYmIXQuZGlzYWJsZWQmJighdC5wYXJlbnROb2RlLmRpc2FibGVkfHwhdih0LnBhcmVudE5vZGUsIm9wdGdyb3VwIikpKXtpZihlPWkodCkudmFsKCksZilyZXR1cm4gZTtzLnB1c2goZSl9cmV0dXJuIHN9LHNldDpmdW5jdGlvbihuLHQpe2Zvcih2YXIgcix1LGY9bi5vcHRpb25zLGU9aS5tYWtlQXJyYXkodCksbz1mLmxlbmd0aDtvLS07KSgodT1mW29dKS5zZWxlY3RlZD1pLmluQXJyYXkoaS52YWxIb29rcy5vcHRpb24uZ2V0KHUpLGUpPi0xKSYmKHI9ITApO3JldHVybiByfHwobi5zZWxlY3RlZEluZGV4PS0xKSxlfX19fSk7aS5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7aS52YWxIb29rc1t0aGlzXT17c2V0OmZ1bmN0aW9uKG4sdCl7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gbi5jaGVja2VkPWkuaW5BcnJheShpKG4pLnZhbCgpLHQpPi0xfX07ZS5jaGVja09ufHwoaS52YWxIb29rc1t0aGlzXS5nZXQ9ZnVuY3Rpb24obil7cmV0dXJuIG51bGw9PT1uLmdldEF0dHJpYnV0ZSgidmFsdWUiKT8ib24iOm4udmFsdWV9KX0pO2UuZm9jdXNpbj0ib25mb2N1c2luImluIG47ZGk9L14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO2dpPWZ1bmN0aW9uKG4pe24uc3RvcFByb3BhZ2F0aW9uKCl9O2kuZXh0ZW5kKGkuZXZlbnQse3RyaWdnZXI6ZnVuY3Rpb24odCxlLG8scyl7dmFyIGssYyxsLGQsdix5LGEscCx3PVtvfHxmXSxoPWt0LmNhbGwodCwidHlwZSIpP3QudHlwZTp0LGI9a3QuY2FsbCh0LCJuYW1lc3BhY2UiKT90Lm5hbWVzcGFjZS5zcGxpdCgiLiIpOltdO2lmKGM9cD1sPW89b3x8ZiwzIT09by5ub2RlVHlwZSYmOCE9PW8ubm9kZVR5cGUmJiFkaS50ZXN0KGgraS5ldmVudC50cmlnZ2VyZWQpJiYoaC5pbmRleE9mKCIuIik+LTEmJihoPShiPWguc3BsaXQoIi4iKSkuc2hpZnQoKSxiLnNvcnQoKSksdj1oLmluZGV4T2YoIjoiKTwwJiYib24iK2gsdD10W2kuZXhwYW5kb10/dDpuZXcgaS5FdmVudChoLCJvYmplY3QiPT10eXBlb2YgdCYmdCksdC5pc1RyaWdnZXI9cz8yOjMsdC5uYW1lc3BhY2U9Yi5qb2luKCIuIiksdC5ybmFtZXNwYWNlPXQubmFtZXNwYWNlP25ldyBSZWdFeHAoIihefFxcLikiK2Iuam9pbigiXFwuKD86LipcXC58KSIpKyIoXFwufCQpIik6bnVsbCx0LnJlc3VsdD12b2lkIDAsdC50YXJnZXR8fCh0LnRhcmdldD1vKSxlPW51bGw9PWU/W3RdOmkubWFrZUFycmF5KGUsW3RdKSxhPWkuZXZlbnQuc3BlY2lhbFtoXXx8e30sc3x8IWEudHJpZ2dlcnx8ITEhPT1hLnRyaWdnZXIuYXBwbHkobyxlKSkpe2lmKCFzJiYhYS5ub0J1YmJsZSYmIXR0KG8pKXtmb3IoZD1hLmRlbGVnYXRlVHlwZXx8aCxkaS50ZXN0KGQraCl8fChjPWMucGFyZW50Tm9kZSk7YztjPWMucGFyZW50Tm9kZSl3LnB1c2goYyksbD1jO2w9PT0oby5vd25lckRvY3VtZW50fHxmKSYmdy5wdXNoKGwuZGVmYXVsdFZpZXd8fGwucGFyZW50V2luZG93fHxuKX1mb3Ioaz0wOyhjPXdbaysrXSkmJiF0LmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KXA9Yyx0LnR5cGU9az4xP2Q6YS5iaW5kVHlwZXx8aCwoeT0oci5nZXQoYywiZXZlbnRzIil8fHt9KVt0LnR5cGVdJiZyLmdldChjLCJoYW5kbGUiKSkmJnkuYXBwbHkoYyxlKSwoeT12JiZjW3ZdKSYmeS5hcHBseSYmbHQoYykmJih0LnJlc3VsdD15LmFwcGx5KGMsZSksITE9PT10LnJlc3VsdCYmdC5wcmV2ZW50RGVmYXVsdCgpKTtyZXR1cm4gdC50eXBlPWgsc3x8dC5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8YS5fZGVmYXVsdCYmITEhPT1hLl9kZWZhdWx0LmFwcGx5KHcucG9wKCksZSl8fCFsdChvKXx8diYmdShvW2hdKSYmIXR0KG8pJiYoKGw9b1t2XSkmJihvW3ZdPW51bGwpLGkuZXZlbnQudHJpZ2dlcmVkPWgsdC5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZwLmFkZEV2ZW50TGlzdGVuZXIoaCxnaSksb1toXSgpLHQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSYmcC5yZW1vdmVFdmVudExpc3RlbmVyKGgsZ2kpLGkuZXZlbnQudHJpZ2dlcmVkPXZvaWQgMCxsJiYob1t2XT1sKSksdC5yZXN1bHR9fSxzaW11bGF0ZTpmdW5jdGlvbihuLHQscil7dmFyIHU9aS5leHRlbmQobmV3IGkuRXZlbnQscix7dHlwZTpuLGlzU2ltdWxhdGVkOiEwfSk7aS5ldmVudC50cmlnZ2VyKHUsbnVsbCx0KX19KTtpLmZuLmV4dGVuZCh7dHJpZ2dlcjpmdW5jdGlvbihuLHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpLmV2ZW50LnRyaWdnZXIobix0LHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKG4sdCl7dmFyIHI9dGhpc1swXTtpZihyKXJldHVybiBpLmV2ZW50LnRyaWdnZXIobix0LHIsITApfX0pO2UuZm9jdXNpbnx8aS5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihuLHQpe3ZhciB1PWZ1bmN0aW9uKG4pe2kuZXZlbnQuc2ltdWxhdGUodCxuLnRhcmdldCxpLmV2ZW50LmZpeChuKSl9O2kuZXZlbnQuc3BlY2lhbFt0XT17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm93bmVyRG9jdW1lbnR8fHRoaXMsZj1yLmFjY2VzcyhpLHQpO2Z8fGkuYWRkRXZlbnRMaXN0ZW5lcihuLHUsITApO3IuYWNjZXNzKGksdCwoZnx8MCkrMSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcy5vd25lckRvY3VtZW50fHx0aGlzLGY9ci5hY2Nlc3MoaSx0KS0xO2Y/ci5hY2Nlc3MoaSx0LGYpOihpLnJlbW92ZUV2ZW50TGlzdGVuZXIobix1LCEwKSxyLnJlbW92ZShpLHQpKX19fSk7dmFyIHB0PW4ubG9jYXRpb24sc2Y9RGF0ZS5ub3coKSxucj0vXD8vO2kucGFyc2VYTUw9ZnVuY3Rpb24odCl7dmFyIHI7aWYoIXR8fCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm4gbnVsbDt0cnl7cj0obmV3IG4uRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodCwidGV4dC94bWwiKX1jYXRjaChuKXtyPXZvaWQgMH1yZXR1cm4gciYmIXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcnNlcmVycm9yIikubGVuZ3RofHxpLmVycm9yKCJJbnZhbGlkIFhNTDogIit0KSxyfTt2YXIgaW89L1xbXF0kLyxoZj0vXHI/XG4vZyxybz0vXig/OnN1Ym1pdHxidXR0b258aW1hZ2V8cmVzZXR8ZmlsZSkkL2ksdW89L14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8a2V5Z2VuKS9pO2kucGFyYW09ZnVuY3Rpb24obix0KXt2YXIgcixmPVtdLGU9ZnVuY3Rpb24obix0KXt2YXIgaT11KHQpP3QoKTp0O2ZbZi5sZW5ndGhdPWVuY29kZVVSSUNvbXBvbmVudChuKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG51bGw9PWk/IiI6aSl9O2lmKEFycmF5LmlzQXJyYXkobil8fG4uanF1ZXJ5JiYhaS5pc1BsYWluT2JqZWN0KG4pKWkuZWFjaChuLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcihyIGluIG4pdHIocixuW3JdLHQsZSk7cmV0dXJuIGYuam9pbigiJiIpfTtpLmZuLmV4dGVuZCh7c2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGkucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgbj1pLnByb3AodGhpcywiZWxlbWVudHMiKTtyZXR1cm4gbj9pLm1ha2VBcnJheShuKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7dmFyIG49dGhpcy50eXBlO3JldHVybiB0aGlzLm5hbWUmJiFpKHRoaXMpLmlzKCI6ZGlzYWJsZWQiKSYmdW8udGVzdCh0aGlzLm5vZGVOYW1lKSYmIXJvLnRlc3QobikmJih0aGlzLmNoZWNrZWR8fCFpdS50ZXN0KG4pKX0pLm1hcChmdW5jdGlvbihuLHQpe3ZhciByPWkodGhpcykudmFsKCk7cmV0dXJuIG51bGw9PXI/bnVsbDpBcnJheS5pc0FycmF5KHIpP2kubWFwKHIsZnVuY3Rpb24obil7cmV0dXJue25hbWU6dC5uYW1lLHZhbHVlOm4ucmVwbGFjZShoZiwiXHJcbiIpfX0pOntuYW1lOnQubmFtZSx2YWx1ZTpyLnJlcGxhY2UoaGYsIlxyXG4iKX19KS5nZXQoKX19KTt2YXIgZm89LyUyMC9nLGVvPS8jLiokLyxvbz0vKFs/Jl0pXz1bXiZdKi8sc289L14oLio/KTpbIFx0XSooW15cclxuXSopJC9nbSxobz0vXig/OkdFVHxIRUFEKSQvLGNvPS9eXC9cLy8sY2Y9e30saXI9e30sbGY9IiovIi5jb25jYXQoIioiKSxycj1mLmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gcnIuaHJlZj1wdC5ocmVmLGkuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxhamF4U2V0dGluZ3M6e3VybDpwdC5ocmVmLHR5cGU6IkdFVCIsaXNMb2NhbDovXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLy50ZXN0KHB0LnByb3RvY29sKSxnbG9iYWw6ITAscHJvY2Vzc0RhdGE6ITAsYXN5bmM6ITAsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsYWNjZXB0czp7IioiOmxmLHRleHQ6InRleHQvcGxhaW4iLGh0bWw6InRleHQvaHRtbCIseG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQifSxjb250ZW50czp7eG1sOi9cYnhtbFxiLyxodG1sOi9cYmh0bWwvLGpzb246L1xianNvblxiL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCIsanNvbjoicmVzcG9uc2VKU09OIn0sY29udmVydGVyczp7IiogdGV4dCI6U3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOkpTT04ucGFyc2UsInRleHQgeG1sIjppLnBhcnNlWE1MfSxmbGF0T3B0aW9uczp7dXJsOiEwLGNvbnRleHQ6ITB9fSxhamF4U2V0dXA6ZnVuY3Rpb24obix0KXtyZXR1cm4gdD91cih1cihuLGkuYWpheFNldHRpbmdzKSx0KTp1cihpLmFqYXhTZXR0aW5ncyxuKX0sYWpheFByZWZpbHRlcjphZihjZiksYWpheFRyYW5zcG9ydDphZihpciksYWpheDpmdW5jdGlvbih0LHIpe2Z1bmN0aW9uIGIodCxyLGYsYyl7dmFyIHYscnQsYixwLGcsbD1yO3N8fChzPSEwLGQmJm4uY2xlYXJUaW1lb3V0KGQpLGE9dm9pZCAwLGs9Y3x8IiIsZS5yZWFkeVN0YXRlPXQ+MD80OjAsdj10Pj0yMDAmJnQ8MzAwfHwzMDQ9PT10LGYmJihwPWxvKHUsZSxmKSkscD1hbyh1LHAsZSx2KSx2Pyh1LmlmTW9kaWZpZWQmJigoZz1lLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIikpJiYoaS5sYXN0TW9kaWZpZWRbb109ZyksKGc9ZS5nZXRSZXNwb25zZUhlYWRlcigiZXRhZyIpKSYmKGkuZXRhZ1tvXT1nKSksMjA0PT09dHx8IkhFQUQiPT09dS50eXBlP2w9Im5vY29udGVudCI6MzA0PT09dD9sPSJub3Rtb2RpZmllZCI6KGw9cC5zdGF0ZSxydD1wLmRhdGEsdj0hKGI9cC5lcnJvcikpKTooYj1sLCF0JiZsfHwobD0iZXJyb3IiLHQ8MCYmKHQ9MCkpKSxlLnN0YXR1cz10LGUuc3RhdHVzVGV4dD0ocnx8bCkrIiIsdj90dC5yZXNvbHZlV2l0aChoLFtydCxsLGVdKTp0dC5yZWplY3RXaXRoKGgsW2UsbCxiXSksZS5zdGF0dXNDb2RlKHcpLHc9dm9pZCAwLHkmJm50LnRyaWdnZXIodj8iYWpheFN1Y2Nlc3MiOiJhamF4RXJyb3IiLFtlLHUsdj9ydDpiXSksaXQuZmlyZVdpdGgoaCxbZSxsXSkseSYmKG50LnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW2UsdV0pLC0taS5hY3RpdmV8fGkuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSkpfSJvYmplY3QiPT10eXBlb2YgdCYmKHI9dCx0PXZvaWQgMCk7cj1yfHx7fTt2YXIgYSxvLGssdixkLGMscyx5LGcscCx1PWkuYWpheFNldHVwKHt9LHIpLGg9dS5jb250ZXh0fHx1LG50PXUuY29udGV4dCYmKGgubm9kZVR5cGV8fGguanF1ZXJ5KT9pKGgpOmkuZXZlbnQsdHQ9aS5EZWZlcnJlZCgpLGl0PWkuQ2FsbGJhY2tzKCJvbmNlIG1lbW9yeSIpLHc9dS5zdGF0dXNDb2RlfHx7fSxydD17fSx1dD17fSxmdD0iY2FuY2VsZWQiLGU9e3JlYWR5U3RhdGU6MCxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihuKXt2YXIgdDtpZihzKXtpZighdilmb3Iodj17fTt0PXNvLmV4ZWMoayk7KXZbdFsxXS50b0xvd2VyQ2FzZSgpXT10WzJdO3Q9dltuLnRvTG93ZXJDYXNlKCldfXJldHVybiBudWxsPT10P251bGw6dH0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIHM/azpudWxsfSxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKG4sdCl7cmV0dXJuIG51bGw9PXMmJihuPXV0W24udG9Mb3dlckNhc2UoKV09dXRbbi50b0xvd2VyQ2FzZSgpXXx8bixydFtuXT10KSx0aGlzfSxvdmVycmlkZU1pbWVUeXBlOmZ1bmN0aW9uKG4pe3JldHVybiBudWxsPT1zJiYodS5taW1lVHlwZT1uKSx0aGlzfSxzdGF0dXNDb2RlOmZ1bmN0aW9uKG4pe3ZhciB0O2lmKG4paWYocyllLmFsd2F5cyhuW2Uuc3RhdHVzXSk7ZWxzZSBmb3IodCBpbiBuKXdbdF09W3dbdF0sblt0XV07cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKG4pe3ZhciB0PW58fGZ0O3JldHVybiBhJiZhLmFib3J0KHQpLGIoMCx0KSx0aGlzfX07aWYodHQucHJvbWlzZShlKSx1LnVybD0oKHR8fHUudXJsfHxwdC5ocmVmKSsiIikucmVwbGFjZShjbyxwdC5wcm90b2NvbCsiLy8iKSx1LnR5cGU9ci5tZXRob2R8fHIudHlwZXx8dS5tZXRob2R8fHUudHlwZSx1LmRhdGFUeXBlcz0odS5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLm1hdGNoKGwpfHxbIiJdLG51bGw9PXUuY3Jvc3NEb21haW4pe2M9Zi5jcmVhdGVFbGVtZW50KCJhIik7dHJ5e2MuaHJlZj11LnVybDtjLmhyZWY9Yy5ocmVmO3UuY3Jvc3NEb21haW49cnIucHJvdG9jb2wrIi8vIityci5ob3N0IT1jLnByb3RvY29sKyIvLyIrYy5ob3N0fWNhdGNoKG4pe3UuY3Jvc3NEb21haW49ITB9fWlmKHUuZGF0YSYmdS5wcm9jZXNzRGF0YSYmInN0cmluZyIhPXR5cGVvZiB1LmRhdGEmJih1LmRhdGE9aS5wYXJhbSh1LmRhdGEsdS50cmFkaXRpb25hbCkpLHZmKGNmLHUscixlKSxzKXJldHVybiBlOyh5PWkuZXZlbnQmJnUuZ2xvYmFsKSYmMD09aS5hY3RpdmUrKyYmaS5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTt1LnR5cGU9dS50eXBlLnRvVXBwZXJDYXNlKCk7dS5oYXNDb250ZW50PSFoby50ZXN0KHUudHlwZSk7bz11LnVybC5yZXBsYWNlKGVvLCIiKTt1Lmhhc0NvbnRlbnQ/dS5kYXRhJiZ1LnByb2Nlc3NEYXRhJiYwPT09KHUuY29udGVudFR5cGV8fCIiKS5pbmRleE9mKCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiKSYmKHUuZGF0YT11LmRhdGEucmVwbGFjZShmbywiKyIpKToocD11LnVybC5zbGljZShvLmxlbmd0aCksdS5kYXRhJiYodS5wcm9jZXNzRGF0YXx8InN0cmluZyI9PXR5cGVvZiB1LmRhdGEpJiYobys9KG5yLnRlc3Qobyk/IiYiOiI/IikrdS5kYXRhLGRlbGV0ZSB1LmRhdGEpLCExPT09dS5jYWNoZSYmKG89by5yZXBsYWNlKG9vLCIkMSIpLHA9KG5yLnRlc3Qobyk/IiYiOiI/IikrIl89IitzZisrK3ApLHUudXJsPW8rcCk7dS5pZk1vZGlmaWVkJiYoaS5sYXN0TW9kaWZpZWRbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGkubGFzdE1vZGlmaWVkW29dKSxpLmV0YWdbb10mJmUuc2V0UmVxdWVzdEhlYWRlcigiSWYtTm9uZS1NYXRjaCIsaS5ldGFnW29dKSk7KHUuZGF0YSYmdS5oYXNDb250ZW50JiYhMSE9PXUuY29udGVudFR5cGV8fHIuY29udGVudFR5cGUpJiZlLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsdS5jb250ZW50VHlwZSk7ZS5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQiLHUuZGF0YVR5cGVzWzBdJiZ1LmFjY2VwdHNbdS5kYXRhVHlwZXNbMF1dP3UuYWNjZXB0c1t1LmRhdGFUeXBlc1swXV0rKCIqIiE9PXUuZGF0YVR5cGVzWzBdPyIsICIrbGYrIjsgcT0wLjAxIjoiIik6dS5hY2NlcHRzWyIqIl0pO2ZvcihnIGluIHUuaGVhZGVycyllLnNldFJlcXVlc3RIZWFkZXIoZyx1LmhlYWRlcnNbZ10pO2lmKHUuYmVmb3JlU2VuZCYmKCExPT09dS5iZWZvcmVTZW5kLmNhbGwoaCxlLHUpfHxzKSlyZXR1cm4gZS5hYm9ydCgpO2lmKGZ0PSJhYm9ydCIsaXQuYWRkKHUuY29tcGxldGUpLGUuZG9uZSh1LnN1Y2Nlc3MpLGUuZmFpbCh1LmVycm9yKSxhPXZmKGlyLHUscixlKSl7aWYoZS5yZWFkeVN0YXRlPTEseSYmbnQudHJpZ2dlcigiYWpheFNlbmQiLFtlLHVdKSxzKXJldHVybiBlO3UuYXN5bmMmJnUudGltZW91dD4wJiYoZD1uLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlLmFib3J0KCJ0aW1lb3V0Iil9LHUudGltZW91dCkpO3RyeXtzPSExO2Euc2VuZChydCxiKX1jYXRjaChuKXtpZihzKXRocm93IG47YigtMSxuKX19ZWxzZSBiKC0xLCJObyBUcmFuc3BvcnQiKTtyZXR1cm4gZX0sZ2V0SlNPTjpmdW5jdGlvbihuLHQscil7cmV0dXJuIGkuZ2V0KG4sdCxyLCJqc29uIil9LGdldFNjcmlwdDpmdW5jdGlvbihuLHQpe3JldHVybiBpLmdldChuLHZvaWQgMCx0LCJzY3JpcHQiKX19KSxpLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24obix0KXtpW3RdPWZ1bmN0aW9uKG4scixmLGUpe3JldHVybiB1KHIpJiYoZT1lfHxmLGY9cixyPXZvaWQgMCksaS5hamF4KGkuZXh0ZW5kKHt1cmw6bix0eXBlOnQsZGF0YVR5cGU6ZSxkYXRhOnIsc3VjY2VzczpmfSxpLmlzUGxhaW5PYmplY3QobikmJm4pKX19KSxpLl9ldmFsVXJsPWZ1bmN0aW9uKG4pe3JldHVybiBpLmFqYXgoe3VybDpuLHR5cGU6IkdFVCIsZGF0YVR5cGU6InNjcmlwdCIsY2FjaGU6ITAsYXN5bmM6ITEsZ2xvYmFsOiExLHRocm93czohMH0pfSxpLmZuLmV4dGVuZCh7d3JhcEFsbDpmdW5jdGlvbihuKXt2YXIgdDtyZXR1cm4gdGhpc1swXSYmKHUobikmJihuPW4uY2FsbCh0aGlzWzBdKSksdD1pKG4sdGhpc1swXS5vd25lckRvY3VtZW50KS5lcSgwKS5jbG9uZSghMCksdGhpc1swXS5wYXJlbnROb2RlJiZ0Lmluc2VydEJlZm9yZSh0aGlzWzBdKSx0Lm1hcChmdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzO24uZmlyc3RFbGVtZW50Q2hpbGQ7KW49bi5maXJzdEVsZW1lbnRDaGlsZDtyZXR1cm4gbn0pLmFwcGVuZCh0aGlzKSksdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKG4pe3JldHVybiB1KG4pP3RoaXMuZWFjaChmdW5jdGlvbih0KXtpKHRoaXMpLndyYXBJbm5lcihuLmNhbGwodGhpcyx0KSl9KTp0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1pKHRoaXMpLHI9dC5jb250ZW50cygpO3IubGVuZ3RoP3Iud3JhcEFsbChuKTp0LmFwcGVuZChuKX0pfSx3cmFwOmZ1bmN0aW9uKG4pe3ZhciB0PXUobik7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihyKXtpKHRoaXMpLndyYXBBbGwodD9uLmNhbGwodGhpcyxyKTpuKX0pfSx1bndyYXA6ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMucGFyZW50KG4pLm5vdCgiYm9keSIpLmVhY2goZnVuY3Rpb24oKXtpKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KSx0aGlzfX0pLGkuZXhwci5wc2V1ZG9zLmhpZGRlbj1mdW5jdGlvbihuKXtyZXR1cm4haS5leHByLnBzZXVkb3MudmlzaWJsZShuKX0saS5leHByLnBzZXVkb3MudmlzaWJsZT1mdW5jdGlvbihuKXtyZXR1cm4hIShuLm9mZnNldFdpZHRofHxuLm9mZnNldEhlaWdodHx8bi5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCl9LGkuYWpheFNldHRpbmdzLnhocj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gbmV3IG4uWE1MSHR0cFJlcXVlc3R9Y2F0Y2gobil7fX0seWY9ezA6MjAwLDEyMjM6MjA0fSxjdD1pLmFqYXhTZXR0aW5ncy54aHIoKSxlLmNvcnM9ISFjdCYmIndpdGhDcmVkZW50aWFscyJpbiBjdCxlLmFqYXg9Y3Q9ISFjdCxpLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24odCl7dmFyIGkscjtpZihlLmNvcnN8fGN0JiYhdC5jcm9zc0RvbWFpbilyZXR1cm57c2VuZDpmdW5jdGlvbih1LGYpe3ZhciBvLGU9dC54aHIoKTtpZihlLm9wZW4odC50eXBlLHQudXJsLHQuYXN5bmMsdC51c2VybmFtZSx0LnBhc3N3b3JkKSx0LnhockZpZWxkcylmb3IobyBpbiB0LnhockZpZWxkcyllW29dPXQueGhyRmllbGRzW29dO3QubWltZVR5cGUmJmUub3ZlcnJpZGVNaW1lVHlwZSYmZS5vdmVycmlkZU1pbWVUeXBlKHQubWltZVR5cGUpO3QuY3Jvc3NEb21haW58fHVbIlgtUmVxdWVzdGVkLVdpdGgiXXx8KHVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTtmb3IobyBpbiB1KWUuc2V0UmVxdWVzdEhlYWRlcihvLHVbb10pO2k9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKCl7aSYmKGk9cj1lLm9ubG9hZD1lLm9uZXJyb3I9ZS5vbmFib3J0PWUub250aW1lb3V0PWUub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsImFib3J0Ij09PW4/ZS5hYm9ydCgpOiJlcnJvciI9PT1uPyJudW1iZXIiIT10eXBlb2YgZS5zdGF0dXM/ZigwLCJlcnJvciIpOmYoZS5zdGF0dXMsZS5zdGF0dXNUZXh0KTpmKHlmW2Uuc3RhdHVzXXx8ZS5zdGF0dXMsZS5zdGF0dXNUZXh0LCJ0ZXh0IiE9PShlLnJlc3BvbnNlVHlwZXx8InRleHQiKXx8InN0cmluZyIhPXR5cGVvZiBlLnJlc3BvbnNlVGV4dD97YmluYXJ5OmUucmVzcG9uc2V9Ont0ZXh0OmUucmVzcG9uc2VUZXh0fSxlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKSl9fTtlLm9ubG9hZD1pKCk7cj1lLm9uZXJyb3I9ZS5vbnRpbWVvdXQ9aSgiZXJyb3IiKTt2b2lkIDAhPT1lLm9uYWJvcnQ/ZS5vbmFib3J0PXI6ZS5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09ZS5yZWFkeVN0YXRlJiZuLnNldFRpbWVvdXQoZnVuY3Rpb24oKXtpJiZyKCl9KX07aT1pKCJhYm9ydCIpO3RyeXtlLnNlbmQodC5oYXNDb250ZW50JiZ0LmRhdGF8fG51bGwpfWNhdGNoKG4pe2lmKGkpdGhyb3cgbjt9fSxhYm9ydDpmdW5jdGlvbigpe2kmJmkoKX19fSksaS5hamF4UHJlZmlsdGVyKGZ1bmN0aW9uKG4pe24uY3Jvc3NEb21haW4mJihuLmNvbnRlbnRzLnNjcmlwdD0hMSl9KSxpLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L1xiKD86amF2YXxlY21hKXNjcmlwdFxiL30sY29udmVydGVyczp7InRleHQgc2NyaXB0IjpmdW5jdGlvbihuKXtyZXR1cm4gaS5nbG9iYWxFdmFsKG4pLG59fX0pLGkuYWpheFByZWZpbHRlcigic2NyaXB0IixmdW5jdGlvbihuKXt2b2lkIDA9PT1uLmNhY2hlJiYobi5jYWNoZT0hMSk7bi5jcm9zc0RvbWFpbiYmKG4udHlwZT0iR0VUIil9KSxpLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24obil7aWYobi5jcm9zc0RvbWFpbil7dmFyIHIsdDtyZXR1cm57c2VuZDpmdW5jdGlvbih1LGUpe3I9aSgiPHNjcmlwdD4iKS5wcm9wKHtjaGFyc2V0Om4uc2NyaXB0Q2hhcnNldCxzcmM6bi51cmx9KS5vbigibG9hZCBlcnJvciIsdD1mdW5jdGlvbihuKXtyLnJlbW92ZSgpO3Q9bnVsbDtuJiZlKCJlcnJvciI9PT1uLnR5cGU/NDA0OjIwMCxuLnR5cGUpfSk7Zi5oZWFkLmFwcGVuZENoaWxkKHJbMF0pfSxhYm9ydDpmdW5jdGlvbigpe3QmJnQoKX19fX0pLGZyPVtdLG9pPS8oPSlcPyg/PSZ8JCl8XD9cPy8saS5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3ZhciBuPWZyLnBvcCgpfHxpLmV4cGFuZG8rIl8iK3NmKys7cmV0dXJuIHRoaXNbbl09ITAsbn19KSxpLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKHQscixmKXt2YXIgZSxvLHMsaD0hMSE9PXQuanNvbnAmJihvaS50ZXN0KHQudXJsKT8idXJsIjoic3RyaW5nIj09dHlwZW9mIHQuZGF0YSYmMD09PSh0LmNvbnRlbnRUeXBlfHwiIikuaW5kZXhPZigiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIikmJm9pLnRlc3QodC5kYXRhKSYmImRhdGEiKTtpZihofHwianNvbnAiPT09dC5kYXRhVHlwZXNbMF0pcmV0dXJuIGU9dC5qc29ucENhbGxiYWNrPXUodC5qc29ucENhbGxiYWNrKT90Lmpzb25wQ2FsbGJhY2soKTp0Lmpzb25wQ2FsbGJhY2ssaD90W2hdPXRbaF0ucmVwbGFjZShvaSwiJDEiK2UpOiExIT09dC5qc29ucCYmKHQudXJsKz0obnIudGVzdCh0LnVybCk/IiYiOiI/IikrdC5qc29ucCsiPSIrZSksdC5jb252ZXJ0ZXJzWyJzY3JpcHQganNvbiJdPWZ1bmN0aW9uKCl7cmV0dXJuIHN8fGkuZXJyb3IoZSsiIHdhcyBub3QgY2FsbGVkIiksc1swXX0sdC5kYXRhVHlwZXNbMF09Impzb24iLG89bltlXSxuW2VdPWZ1bmN0aW9uKCl7cz1hcmd1bWVudHN9LGYuYWx3YXlzKGZ1bmN0aW9uKCl7dm9pZCAwPT09bz9pKG4pLnJlbW92ZVByb3AoZSk6bltlXT1vO3RbZV0mJih0Lmpzb25wQ2FsbGJhY2s9ci5qc29ucENhbGxiYWNrLGZyLnB1c2goZSkpO3MmJnUobykmJm8oc1swXSk7cz1vPXZvaWQgMH0pLCJzY3JpcHQifSksZS5jcmVhdGVIVE1MRG9jdW1lbnQ9ZnVuY3Rpb24oKXt2YXIgbj1mLmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCgiIikuYm9keTtyZXR1cm4gbi5pbm5lckhUTUw9Ijxmb3JtPjxcL2Zvcm0+PGZvcm0+PFwvZm9ybT4iLDI9PT1uLmNoaWxkTm9kZXMubGVuZ3RofSgpLGkucGFyc2VIVE1MPWZ1bmN0aW9uKG4sdCxyKXtpZigic3RyaW5nIiE9dHlwZW9mIG4pcmV0dXJuW107ImJvb2xlYW4iPT10eXBlb2YgdCYmKHI9dCx0PSExKTt2YXIgcyx1LG87cmV0dXJuIHR8fChlLmNyZWF0ZUhUTUxEb2N1bWVudD8oKHM9KHQ9Zi5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoIiIpKS5jcmVhdGVFbGVtZW50KCJiYXNlIikpLmhyZWY9Zi5sb2NhdGlvbi5ocmVmLHQuaGVhZC5hcHBlbmRDaGlsZChzKSk6dD1mKSx1PWNpLmV4ZWMobiksbz0hciYmW10sdT9bdC5jcmVhdGVFbGVtZW50KHVbMV0pXToodT1ldShbbl0sdCxvKSxvJiZvLmxlbmd0aCYmaShvKS5yZW1vdmUoKSxpLm1lcmdlKFtdLHUuY2hpbGROb2RlcykpfSxpLmZuLmxvYWQ9ZnVuY3Rpb24obix0LHIpe3ZhciBmLHMsaCxlPXRoaXMsbz1uLmluZGV4T2YoIiAiKTtyZXR1cm4gbz4tMSYmKGY9ZyhuLnNsaWNlKG8pKSxuPW4uc2xpY2UoMCxvKSksdSh0KT8ocj10LHQ9dm9pZCAwKTp0JiYib2JqZWN0Ij09dHlwZW9mIHQmJihzPSJQT1NUIiksZS5sZW5ndGg+MCYmaS5hamF4KHt1cmw6bix0eXBlOnN8fCJHRVQiLGRhdGFUeXBlOiJodG1sIixkYXRhOnR9KS5kb25lKGZ1bmN0aW9uKG4pe2g9YXJndW1lbnRzO2UuaHRtbChmP2koIjxkaXY+IikuYXBwZW5kKGkucGFyc2VIVE1MKG4pKS5maW5kKGYpOm4pfSkuYWx3YXlzKHImJmZ1bmN0aW9uKG4sdCl7ZS5lYWNoKGZ1bmN0aW9uKCl7ci5hcHBseSh0aGlzLGh8fFtuLnJlc3BvbnNlVGV4dCx0LG5dKX0pfSksdGhpc30saS5lYWNoKFsiYWpheFN0YXJ0IiwiYWpheFN0b3AiLCJhamF4Q29tcGxldGUiLCJhamF4RXJyb3IiLCJhamF4U3VjY2VzcyIsImFqYXhTZW5kIl0sZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLm9uKHQsbil9fSksaS5leHByLnBzZXVkb3MuYW5pbWF0ZWQ9ZnVuY3Rpb24obil7cmV0dXJuIGkuZ3JlcChpLnRpbWVycyxmdW5jdGlvbih0KXtyZXR1cm4gbj09PXQuZWxlbX0pLmxlbmd0aH0saS5vZmZzZXQ9e3NldE9mZnNldDpmdW5jdGlvbihuLHQscil7dmFyIHYsbyxzLGgsZixjLHksbD1pLmNzcyhuLCJwb3NpdGlvbiIpLGE9aShuKSxlPXt9OyJzdGF0aWMiPT09bCYmKG4uc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7Zj1hLm9mZnNldCgpO3M9aS5jc3MobiwidG9wIik7Yz1pLmNzcyhuLCJsZWZ0Iik7KHk9KCJhYnNvbHV0ZSI9PT1sfHwiZml4ZWQiPT09bCkmJihzK2MpLmluZGV4T2YoImF1dG8iKT4tMSk/KGg9KHY9YS5wb3NpdGlvbigpKS50b3Asbz12LmxlZnQpOihoPXBhcnNlRmxvYXQocyl8fDAsbz1wYXJzZUZsb2F0KGMpfHwwKTt1KHQpJiYodD10LmNhbGwobixyLGkuZXh0ZW5kKHt9LGYpKSk7bnVsbCE9dC50b3AmJihlLnRvcD10LnRvcC1mLnRvcCtoKTtudWxsIT10LmxlZnQmJihlLmxlZnQ9dC5sZWZ0LWYubGVmdCtvKTsidXNpbmciaW4gdD90LnVzaW5nLmNhbGwobixlKTphLmNzcyhlKX19LGkuZm4uZXh0ZW5kKHtvZmZzZXQ6ZnVuY3Rpb24obil7aWYoYXJndW1lbnRzLmxlbmd0aClyZXR1cm4gdm9pZCAwPT09bj90aGlzOnRoaXMuZWFjaChmdW5jdGlvbih0KXtpLm9mZnNldC5zZXRPZmZzZXQodGhpcyxuLHQpfSk7dmFyIHIsdSx0PXRoaXNbMF07aWYodClyZXR1cm4gdC5nZXRDbGllbnRSZWN0cygpLmxlbmd0aD8ocj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHU9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LHt0b3A6ci50b3ArdS5wYWdlWU9mZnNldCxsZWZ0OnIubGVmdCt1LnBhZ2VYT2Zmc2V0fSk6e3RvcDowLGxlZnQ6MH19LHBvc2l0aW9uOmZ1bmN0aW9uKCl7aWYodGhpc1swXSl7dmFyIG4scix1LHQ9dGhpc1swXSxmPXt0b3A6MCxsZWZ0OjB9O2lmKCJmaXhlZCI9PT1pLmNzcyh0LCJwb3NpdGlvbiIpKXI9dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtlbHNle2ZvcihyPXRoaXMub2Zmc2V0KCksdT10Lm93bmVyRG9jdW1lbnQsbj10Lm9mZnNldFBhcmVudHx8dS5kb2N1bWVudEVsZW1lbnQ7biYmKG49PT11LmJvZHl8fG49PT11LmRvY3VtZW50RWxlbWVudCkmJiJzdGF0aWMiPT09aS5jc3MobiwicG9zaXRpb24iKTspbj1uLnBhcmVudE5vZGU7biYmbiE9PXQmJjE9PT1uLm5vZGVUeXBlJiYoKGY9aShuKS5vZmZzZXQoKSkudG9wKz1pLmNzcyhuLCJib3JkZXJUb3BXaWR0aCIsITApLGYubGVmdCs9aS5jc3MobiwiYm9yZGVyTGVmdFdpZHRoIiwhMCkpfXJldHVybnt0b3A6ci50b3AtZi50b3AtaS5jc3ModCwibWFyZ2luVG9wIiwhMCksbGVmdDpyLmxlZnQtZi5sZWZ0LWkuY3NzKHQsIm1hcmdpbkxlZnQiLCEwKX19fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtmb3IodmFyIG49dGhpcy5vZmZzZXRQYXJlbnQ7biYmInN0YXRpYyI9PT1pLmNzcyhuLCJwb3NpdGlvbiIpOyluPW4ub2Zmc2V0UGFyZW50O3JldHVybiBufHxpaX0pfX0pLGkuZWFjaCh7c2Nyb2xsTGVmdDoicGFnZVhPZmZzZXQiLHNjcm9sbFRvcDoicGFnZVlPZmZzZXQifSxmdW5jdGlvbihuLHQpe3ZhciByPSJwYWdlWU9mZnNldCI9PT10O2kuZm5bbl09ZnVuY3Rpb24oaSl7cmV0dXJuIHAodGhpcyxmdW5jdGlvbihuLGksdSl7dmFyIGY7aWYodHQobik/Zj1uOjk9PT1uLm5vZGVUeXBlJiYoZj1uLmRlZmF1bHRWaWV3KSx2b2lkIDA9PT11KXJldHVybiBmP2ZbdF06bltpXTtmP2Yuc2Nyb2xsVG8ocj9mLnBhZ2VYT2Zmc2V0OnUscj91OmYucGFnZVlPZmZzZXQpOm5baV09dX0sbixpLGFyZ3VtZW50cy5sZW5ndGgpfX0pLGkuZWFjaChbInRvcCIsImxlZnQiXSxmdW5jdGlvbihuLHQpe2kuY3NzSG9va3NbdF09YXUoZS5waXhlbFBvc2l0aW9uLGZ1bmN0aW9uKG4scil7aWYocilyZXR1cm4gcj15dChuLHQpLHBpLnRlc3Qocik/aShuKS5wb3NpdGlvbigpW3RdKyJweCI6cn0pfSksaS5lYWNoKHtIZWlnaHQ6ImhlaWdodCIsV2lkdGg6IndpZHRoIn0sZnVuY3Rpb24obix0KXtpLmVhY2goe3BhZGRpbmc6ImlubmVyIituLGNvbnRlbnQ6dCwiIjoib3V0ZXIiK259LGZ1bmN0aW9uKHIsdSl7aS5mblt1XT1mdW5jdGlvbihmLGUpe3ZhciBvPWFyZ3VtZW50cy5sZW5ndGgmJihyfHwiYm9vbGVhbiIhPXR5cGVvZiBmKSxzPXJ8fCghMD09PWZ8fCEwPT09ZT8ibWFyZ2luIjoiYm9yZGVyIik7cmV0dXJuIHAodGhpcyxmdW5jdGlvbih0LHIsZil7dmFyIGU7cmV0dXJuIHR0KHQpPzA9PT11LmluZGV4T2YoIm91dGVyIik/dFsiaW5uZXIiK25dOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK25dOjk9PT10Lm5vZGVUeXBlPyhlPXQuZG9jdW1lbnRFbGVtZW50LE1hdGgubWF4KHQuYm9keVsic2Nyb2xsIituXSxlWyJzY3JvbGwiK25dLHQuYm9keVsib2Zmc2V0IituXSxlWyJvZmZzZXQiK25dLGVbImNsaWVudCIrbl0pKTp2b2lkIDA9PT1mP2kuY3NzKHQscixzKTppLnN0eWxlKHQscixmLHMpfSx0LG8/Zjp2b2lkIDAsbyl9fSl9KSxpLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnUiLnNwbGl0KCIgIiksZnVuY3Rpb24obix0KXtpLmZuW3RdPWZ1bmN0aW9uKG4saSl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg+MD90aGlzLm9uKHQsbnVsbCxuLGkpOnRoaXMudHJpZ2dlcih0KX19KSxpLmZuLmV4dGVuZCh7aG92ZXI6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKG4pLm1vdXNlbGVhdmUodHx8bil9fSksaS5mbi5leHRlbmQoe2JpbmQ6ZnVuY3Rpb24obix0LGkpe3JldHVybiB0aGlzLm9uKG4sbnVsbCx0LGkpfSx1bmJpbmQ6ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5vZmYobixudWxsLHQpfSxkZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gdGhpcy5vbih0LG4saSxyKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihuLHQsaSl7cmV0dXJuIDE9PT1hcmd1bWVudHMubGVuZ3RoP3RoaXMub2ZmKG4sIioqIik6dGhpcy5vZmYodCxufHwiKioiLGkpfX0pLGkucHJveHk9ZnVuY3Rpb24obix0KXt2YXIgZixlLHI7aWYoInN0cmluZyI9PXR5cGVvZiB0JiYoZj1uW3RdLHQ9bixuPWYpLHUobikpcmV0dXJuIGU9ZC5jYWxsKGFyZ3VtZW50cywyKSxyPWZ1bmN0aW9uKCl7cmV0dXJuIG4uYXBwbHkodHx8dGhpcyxlLmNvbmNhdChkLmNhbGwoYXJndW1lbnRzKSkpfSxyLmd1aWQ9bi5ndWlkPW4uZ3VpZHx8aS5ndWlkKysscn0saS5ob2xkUmVhZHk9ZnVuY3Rpb24obil7bj9pLnJlYWR5V2FpdCsrOmkucmVhZHkoITApfSxpLmlzQXJyYXk9QXJyYXkuaXNBcnJheSxpLnBhcnNlSlNPTj1KU09OLnBhcnNlLGkubm9kZU5hbWU9dixpLmlzRnVuY3Rpb249dSxpLmlzV2luZG93PXR0LGkuY2FtZWxDYXNlPXksaS50eXBlPWl0LGkubm93PURhdGUubm93LGkuaXNOdW1lcmljPWZ1bmN0aW9uKG4pe3ZhciB0PWkudHlwZShuKTtyZXR1cm4oIm51bWJlciI9PT10fHwic3RyaW5nIj09PXQpJiYhaXNOYU4obi1wYXJzZUZsb2F0KG4pKX0sImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZCYmZGVmaW5lKCJqcXVlcnkiLFtdLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KSxwZj1uLmpRdWVyeSx3Zj1uLiQsaS5ub0NvbmZsaWN0PWZ1bmN0aW9uKHQpe3JldHVybiBuLiQ9PT1pJiYobi4kPXdmKSx0JiZuLmpRdWVyeT09PWkmJihuLmpRdWVyeT1wZiksaX0sdHx8KG4ualF1ZXJ5PW4uJD1pKSxpfSk7Ci8qIQogKiBqUXVlcnkgYmxvY2tVSSBwbHVnaW4KICogVmVyc2lvbiAyLjcwLjAtMjAxNC4xMS4yMwogKiBSZXF1aXJlcyBqUXVlcnkgdjEuNyBvciBsYXRlcgogKgogKiBFeGFtcGxlcyBhdDogaHR0cDovL21hbHN1cC5jb20vanF1ZXJ5L2Jsb2NrLwogKiBDb3B5cmlnaHQgKGMpIDIwMDctMjAxMyBNLiBBbHN1cAogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlczoKICogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHAKICogaHR0cDovL3d3dy5nbnUub3JnL2xpY2Vuc2VzL2dwbC5odG1sCiAqCiAqIFRoYW5rcyB0byBBbWlyLUhvc3NlaW4gU29iaGkgZm9yIHNvbWUgZXhjZWxsZW50IGNvbnRyaWJ1dGlvbnMhCiAqLwooZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gbihuKXtmdW5jdGlvbiBzKHMsaCl7dmFyIHJ0LHV0LHA9cz09d2luZG93LGw9aCYmaC5tZXNzYWdlIT09dW5kZWZpbmVkP2gubWVzc2FnZTp1bmRlZmluZWQsZyxrLGQsdHQsbnQsdyxiLGl0LGZ0LGV0LGF0O2lmKGg9bi5leHRlbmQoe30sbi5ibG9ja1VJLmRlZmF1bHRzLGh8fHt9KSwhaC5pZ25vcmVJZkJsb2NrZWR8fCFuKHMpLmRhdGEoImJsb2NrVUkuaXNCbG9ja2VkIikpe2lmKGgub3ZlcmxheUNTUz1uLmV4dGVuZCh7fSxuLmJsb2NrVUkuZGVmYXVsdHMub3ZlcmxheUNTUyxoLm92ZXJsYXlDU1N8fHt9KSxydD1uLmV4dGVuZCh7fSxuLmJsb2NrVUkuZGVmYXVsdHMuY3NzLGguY3NzfHx7fSksaC5vbk92ZXJsYXlDbGljayYmKGgub3ZlcmxheUNTUy5jdXJzb3I9InBvaW50ZXIiKSx1dD1uLmV4dGVuZCh7fSxuLmJsb2NrVUkuZGVmYXVsdHMudGhlbWVkQ1NTLGgudGhlbWVkQ1NTfHx7fSksbD1sPT09dW5kZWZpbmVkP2gubWVzc2FnZTpsLHAmJnQmJmUod2luZG93LHtmYWRlT3V0OjB9KSxsJiZ0eXBlb2YgbCE9InN0cmluZyImJihsLnBhcmVudE5vZGV8fGwuanF1ZXJ5KSYmKGc9bC5qcXVlcnk/bFswXTpsLGs9e30sbihzKS5kYXRhKCJibG9ja1VJLmhpc3RvcnkiLGspLGsuZWw9ZyxrLnBhcmVudD1nLnBhcmVudE5vZGUsay5kaXNwbGF5PWcuc3R5bGUuZGlzcGxheSxrLnBvc2l0aW9uPWcuc3R5bGUucG9zaXRpb24say5wYXJlbnQmJmsucGFyZW50LnJlbW92ZUNoaWxkKGcpKSxuKHMpLmRhdGEoImJsb2NrVUkub25VbmJsb2NrIixoLm9uVW5ibG9jayksZD1oLmJhc2VaLHR0PWZ8fGguZm9yY2VJZnJhbWU/bignPGlmcmFtZSBjbGFzcz0iYmxvY2tVSSIgc3R5bGU9InotaW5kZXg6JytkKysrJztkaXNwbGF5Om5vbmU7Ym9yZGVyOm5vbmU7bWFyZ2luOjA7cGFkZGluZzowO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCU7dG9wOjA7bGVmdDowIiBzcmM9IicraC5pZnJhbWVTcmMrJyI+PFwvaWZyYW1lPicpOm4oJzxkaXYgY2xhc3M9ImJsb2NrVUkiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjxcL2Rpdj4nKSxudD1oLnRoZW1lP24oJzxkaXYgY2xhc3M9ImJsb2NrVUkgYmxvY2tPdmVybGF5IHVpLXdpZGdldC1vdmVybGF5IiBzdHlsZT0iei1pbmRleDonK2QrKysnO2Rpc3BsYXk6bm9uZSI+PFwvZGl2PicpOm4oJzxkaXYgY2xhc3M9ImJsb2NrVUkgYmxvY2tPdmVybGF5IiBzdHlsZT0iei1pbmRleDonK2QrKysnO2Rpc3BsYXk6bm9uZTtib3JkZXI6bm9uZTttYXJnaW46MDtwYWRkaW5nOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtsZWZ0OjAiPjxcL2Rpdj4nKSxoLnRoZW1lJiZwPyhiPSc8ZGl2IGNsYXNzPSJibG9ja1VJICcraC5ibG9ja01zZ0NsYXNzKycgYmxvY2tQYWdlIHVpLWRpYWxvZyB1aS13aWRnZXQgdWktY29ybmVyLWFsbCIgc3R5bGU9InotaW5kZXg6JysoZCsxMCkrJztkaXNwbGF5Om5vbmU7cG9zaXRpb246Zml4ZWQiPicsaC50aXRsZSYmKGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtaGVhZGVyIHVpLWRpYWxvZy10aXRsZWJhciB1aS1jb3JuZXItYWxsIGJsb2NrVGl0bGUiPicrKGgudGl0bGV8fCImbmJzcDsiKSsiPFwvZGl2PiIpLGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtY29udGVudCB1aS1kaWFsb2ctY29udGVudCI+PFwvZGl2PicsYis9IjxcL2Rpdj4iKTpoLnRoZW1lPyhiPSc8ZGl2IGNsYXNzPSJibG9ja1VJICcraC5ibG9ja01zZ0NsYXNzKycgYmxvY2tFbGVtZW50IHVpLWRpYWxvZyB1aS13aWRnZXQgdWktY29ybmVyLWFsbCIgc3R5bGU9InotaW5kZXg6JysoZCsxMCkrJztkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGUiPicsaC50aXRsZSYmKGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtaGVhZGVyIHVpLWRpYWxvZy10aXRsZWJhciB1aS1jb3JuZXItYWxsIGJsb2NrVGl0bGUiPicrKGgudGl0bGV8fCImbmJzcDsiKSsiPFwvZGl2PiIpLGIrPSc8ZGl2IGNsYXNzPSJ1aS13aWRnZXQtY29udGVudCB1aS1kaWFsb2ctY29udGVudCI+PFwvZGl2PicsYis9IjxcL2Rpdj4iKTpiPXA/JzxkaXYgY2xhc3M9ImJsb2NrVUkgJytoLmJsb2NrTXNnQ2xhc3MrJyBibG9ja1BhZ2UiIHN0eWxlPSJ6LWluZGV4OicrKGQrMTApKyc7ZGlzcGxheTpub25lO3Bvc2l0aW9uOmZpeGVkIj48XC9kaXY+JzonPGRpdiBjbGFzcz0iYmxvY2tVSSAnK2guYmxvY2tNc2dDbGFzcysnIGJsb2NrRWxlbWVudCIgc3R5bGU9InotaW5kZXg6JysoZCsxMCkrJztkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGUiPjxcL2Rpdj4nLHc9bihiKSxsJiYoaC50aGVtZT8ody5jc3ModXQpLHcuYWRkQ2xhc3MoInVpLXdpZGdldC1jb250ZW50IikpOncuY3NzKHJ0KSksaC50aGVtZXx8bnQuY3NzKGgub3ZlcmxheUNTUyksbnQuY3NzKCJwb3NpdGlvbiIscD8iZml4ZWQiOiJhYnNvbHV0ZSIpLChmfHxoLmZvcmNlSWZyYW1lKSYmdHQuY3NzKCJvcGFjaXR5IiwwKSxpdD1bdHQsbnQsd10sZnQ9cD9uKCJib2R5Iik6bihzKSxuLmVhY2goaXQsZnVuY3Rpb24oKXt0aGlzLmFwcGVuZFRvKGZ0KX0pLGgudGhlbWUmJmguZHJhZ2dhYmxlJiZuLmZuLmRyYWdnYWJsZSYmdy5kcmFnZ2FibGUoe2hhbmRsZToiLnVpLWRpYWxvZy10aXRsZWJhciIsY2FuY2VsOiJsaSJ9KSxldD12JiYoIW4uc3VwcG9ydC5ib3hNb2RlbHx8bigib2JqZWN0LGVtYmVkIixwP251bGw6cykubGVuZ3RoPjApLG98fGV0KXtpZihwJiZoLmFsbG93Qm9keVN0cmV0Y2gmJm4uc3VwcG9ydC5ib3hNb2RlbCYmbigiaHRtbCxib2R5IikuY3NzKCJoZWlnaHQiLCIxMDAlIiksKG98fCFuLnN1cHBvcnQuYm94TW9kZWwpJiYhcCl2YXIgb3Q9cihzLCJib3JkZXJUb3BXaWR0aCIpLHN0PXIocywiYm9yZGVyTGVmdFdpZHRoIiksaHQ9b3Q/IigwIC0gIitvdCsiKSI6MCxjdD1zdD8iKDAgLSAiK3N0KyIpIjowO24uZWFjaChpdCxmdW5jdGlvbihuLHQpe3ZhciBpPXRbMF0uc3R5bGUscix1O2kucG9zaXRpb249ImFic29sdXRlIjtuPDI/KHA/aS5zZXRFeHByZXNzaW9uKCJoZWlnaHQiLCJNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbEhlaWdodCwgZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQpIC0gKGpRdWVyeS5zdXBwb3J0LmJveE1vZGVsPzA6IitoLnF1aXJrc21vZGVPZmZzZXRIYWNrKycpICsgInB4IicpOmkuc2V0RXhwcmVzc2lvbigiaGVpZ2h0IiwndGhpcy5wYXJlbnROb2RlLm9mZnNldEhlaWdodCArICJweCInKSxwP2kuc2V0RXhwcmVzc2lvbigid2lkdGgiLCdqUXVlcnkuc3VwcG9ydC5ib3hNb2RlbCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCArICJweCInKTppLnNldEV4cHJlc3Npb24oIndpZHRoIiwndGhpcy5wYXJlbnROb2RlLm9mZnNldFdpZHRoICsgInB4IicpLGN0JiZpLnNldEV4cHJlc3Npb24oImxlZnQiLGN0KSxodCYmaS5zZXRFeHByZXNzaW9uKCJ0b3AiLGh0KSk6aC5jZW50ZXJZPyhwJiZpLnNldEV4cHJlc3Npb24oInRvcCIsJyhkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IHx8IGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSAvIDIgLSAodGhpcy5vZmZzZXRIZWlnaHQgLyAyKSArIChibGFoID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgKyAicHgiJyksaS5tYXJnaW5Ub3A9MCk6IWguY2VudGVyWSYmcCYmKHI9aC5jc3MmJmguY3NzLnRvcD9wYXJzZUludChoLmNzcy50b3AsMTApOjAsdT0iKChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wID8gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wKSArICIrcisnKSArICJweCInLGkuc2V0RXhwcmVzc2lvbigidG9wIix1KSl9KX1pZihsJiYoaC50aGVtZT93LmZpbmQoIi51aS13aWRnZXQtY29udGVudCIpLmFwcGVuZChsKTp3LmFwcGVuZChsKSwobC5qcXVlcnl8fGwubm9kZVR5cGUpJiZuKGwpLnNob3coKSksKGZ8fGguZm9yY2VJZnJhbWUpJiZoLnNob3dPdmVybGF5JiZ0dC5zaG93KCksaC5mYWRlSW4pe3ZhciBsdD1oLm9uQmxvY2s/aC5vbkJsb2NrOnUsdnQ9aC5zaG93T3ZlcmxheSYmIWw/bHQ6dSx5dD1sP2x0OnU7aC5zaG93T3ZlcmxheSYmbnQuX2ZhZGVJbihoLmZhZGVJbix2dCk7bCYmdy5fZmFkZUluKGguZmFkZUluLHl0KX1lbHNlIGguc2hvd092ZXJsYXkmJm50LnNob3coKSxsJiZ3LnNob3coKSxoLm9uQmxvY2smJmgub25CbG9jay5iaW5kKHcpKCk7YygxLHMsaCk7cD8odD13WzBdLGk9bihoLmZvY3VzYWJsZUVsZW1lbnRzLHQpLGguZm9jdXNJbnB1dCYmc2V0VGltZW91dChhLDIwKSk6eSh3WzBdLGguY2VudGVyWCxoLmNlbnRlclkpO2gudGltZW91dCYmKGF0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtwP24udW5ibG9ja1VJKGgpOm4ocykudW5ibG9jayhoKX0saC50aW1lb3V0KSxuKHMpLmRhdGEoImJsb2NrVUkudGltZW91dCIsYXQpKX19ZnVuY3Rpb24gZShyLHUpe3ZhciBvLHM9cj09d2luZG93LGU9bihyKSxsPWUuZGF0YSgiYmxvY2tVSS5oaXN0b3J5IiksYT1lLmRhdGEoImJsb2NrVUkudGltZW91dCIpLGY7YSYmKGNsZWFyVGltZW91dChhKSxlLnJlbW92ZURhdGEoImJsb2NrVUkudGltZW91dCIpKTt1PW4uZXh0ZW5kKHt9LG4uYmxvY2tVSS5kZWZhdWx0cyx1fHx7fSk7YygwLHIsdSk7dS5vblVuYmxvY2s9PT1udWxsJiYodS5vblVuYmxvY2s9ZS5kYXRhKCJibG9ja1VJLm9uVW5ibG9jayIpLGUucmVtb3ZlRGF0YSgiYmxvY2tVSS5vblVuYmxvY2siKSk7Zj1zP24oImJvZHkiKS5jaGlsZHJlbigpLmZpbHRlcigiLmJsb2NrVUkiKS5hZGQoImJvZHkgPiAuYmxvY2tVSSIpOmUuZmluZCgiPi5ibG9ja1VJIik7dS5jdXJzb3JSZXNldCYmKGYubGVuZ3RoPjEmJihmWzFdLnN0eWxlLmN1cnNvcj11LmN1cnNvclJlc2V0KSxmLmxlbmd0aD4yJiYoZlsyXS5zdHlsZS5jdXJzb3I9dS5jdXJzb3JSZXNldCkpO3MmJih0PWk9bnVsbCk7dS5mYWRlT3V0PyhvPWYubGVuZ3RoLGYuc3RvcCgpLmZhZGVPdXQodS5mYWRlT3V0LGZ1bmN0aW9uKCl7LS1vPT0wJiZoKGYsbCx1LHIpfSkpOmgoZixsLHUscil9ZnVuY3Rpb24gaCh0LGkscix1KXt2YXIgZj1uKHUpO2lmKCFmLmRhdGEoImJsb2NrVUkuaXNCbG9ja2VkIikpe2lmKHQuZWFjaChmdW5jdGlvbigpe3RoaXMucGFyZW50Tm9kZSYmdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpfSksaSYmaS5lbCYmKGkuZWwuc3R5bGUuZGlzcGxheT1pLmRpc3BsYXksaS5lbC5zdHlsZS5wb3NpdGlvbj1pLnBvc2l0aW9uLGkuZWwuc3R5bGUuY3Vyc29yPSJkZWZhdWx0IixpLnBhcmVudCYmaS5wYXJlbnQuYXBwZW5kQ2hpbGQoaS5lbCksZi5yZW1vdmVEYXRhKCJibG9ja1VJLmhpc3RvcnkiKSksZi5kYXRhKCJibG9ja1VJLnN0YXRpYyIpJiZmLmNzcygicG9zaXRpb24iLCJzdGF0aWMiKSx0eXBlb2Ygci5vblVuYmxvY2s9PSJmdW5jdGlvbiIpci5vblVuYmxvY2sodSxyKTt2YXIgZT1uKGRvY3VtZW50LmJvZHkpLG89ZS53aWR0aCgpLHM9ZVswXS5zdHlsZS53aWR0aDtlLndpZHRoKG8tMSkud2lkdGgobyk7ZVswXS5zdHlsZS53aWR0aD1zfX1mdW5jdGlvbiBjKGkscix1KXt2YXIgZj1yPT13aW5kb3csbz1uKHIpLGU7KGl8fCghZnx8dCkmJihmfHxvLmRhdGEoImJsb2NrVUkuaXNCbG9ja2VkIikpKSYmKG8uZGF0YSgiYmxvY2tVSS5pc0Jsb2NrZWQiLGkpLGYmJnUuYmluZEV2ZW50cyYmKCFpfHx1LnNob3dPdmVybGF5KSkmJihlPSJtb3VzZWRvd24gbW91c2V1cCBrZXlkb3duIGtleXByZXNzIGtleXVwIHRvdWNoc3RhcnQgdG91Y2hlbmQgdG91Y2htb3ZlIixpP24oZG9jdW1lbnQpLmJpbmQoZSx1LGwpOm4oZG9jdW1lbnQpLnVuYmluZChlLGwpKX1mdW5jdGlvbiBsKHIpe3ZhciB1LGY7aWYoci50eXBlPT09ImtleWRvd24iJiZyLmtleUNvZGUmJnIua2V5Q29kZT09OSYmdCYmci5kYXRhLmNvbnN0cmFpblRhYktleSl7dmFyIGU9aSxzPSFyLnNoaWZ0S2V5JiZyLnRhcmdldD09PWVbZS5sZW5ndGgtMV0sbz1yLnNoaWZ0S2V5JiZyLnRhcmdldD09PWVbMF07aWYoc3x8bylyZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpe2Eobyl9LDEwKSwhMX1pZih1PXIuZGF0YSxmPW4oci50YXJnZXQpLGYuaGFzQ2xhc3MoImJsb2NrT3ZlcmxheSIpJiZ1Lm9uT3ZlcmxheUNsaWNrKXUub25PdmVybGF5Q2xpY2socik7cmV0dXJuIGYucGFyZW50cygiZGl2LiIrdS5ibG9ja01zZ0NsYXNzKS5sZW5ndGg+MD8hMDpmLnBhcmVudHMoKS5jaGlsZHJlbigpLmZpbHRlcigiZGl2LmJsb2NrVUkiKS5sZW5ndGg9PT0wfWZ1bmN0aW9uIGEobil7aWYoaSl7dmFyIHQ9aVtuPT09ITA/aS5sZW5ndGgtMTowXTt0JiZ0LmZvY3VzKCl9fWZ1bmN0aW9uIHkobix0LGkpe3ZhciB1PW4ucGFyZW50Tm9kZSxmPW4uc3R5bGUsZT0odS5vZmZzZXRXaWR0aC1uLm9mZnNldFdpZHRoKS8yLXIodSwiYm9yZGVyTGVmdFdpZHRoIiksbz0odS5vZmZzZXRIZWlnaHQtbi5vZmZzZXRIZWlnaHQpLzItcih1LCJib3JkZXJUb3BXaWR0aCIpO3QmJihmLmxlZnQ9ZT4wP2UrInB4IjoiMCIpO2kmJihmLnRvcD1vPjA/bysicHgiOiIwIil9ZnVuY3Rpb24gcih0LGkpe3JldHVybiBwYXJzZUludChuLmNzcyh0LGkpLDEwKXx8MH12YXIgdCxpO24uZm4uX2ZhZGVJbj1uLmZuLmZhZGVJbjt2YXIgdT1uLm5vb3B8fGZ1bmN0aW9uKCl7fSxmPS9NU0lFLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLG89L01TSUUgNi4wLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpJiYhL01TSUUgOC4wLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpLHA9ZG9jdW1lbnQuZG9jdW1lbnRNb2RlfHwwLHY9bi5pc0Z1bmN0aW9uKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLnNldEV4cHJlc3Npb24pO24uYmxvY2tVST1mdW5jdGlvbihuKXtzKHdpbmRvdyxuKX07bi51bmJsb2NrVUk9ZnVuY3Rpb24obil7ZSh3aW5kb3csbil9O24uZ3Jvd2xVST1mdW5jdGlvbih0LGkscix1KXt2YXIgZj1uKCc8ZGl2IGNsYXNzPSJncm93bFVJIj48XC9kaXY+JyksZSxvO3QmJmYuYXBwZW5kKCI8aDE+Iit0KyI8XC9oMT4iKTtpJiZmLmFwcGVuZCgiPGgyPiIraSsiPFwvaDI+Iik7cj09PXVuZGVmaW5lZCYmKHI9M2UzKTtlPWZ1bmN0aW9uKHQpe3Q9dHx8e307bi5ibG9ja1VJKHttZXNzYWdlOmYsZmFkZUluOnR5cGVvZiB0LmZhZGVJbiE9InVuZGVmaW5lZCI/dC5mYWRlSW46NzAwLGZhZGVPdXQ6dHlwZW9mIHQuZmFkZU91dCE9InVuZGVmaW5lZCI/dC5mYWRlT3V0OjFlMyx0aW1lb3V0OnR5cGVvZiB0LnRpbWVvdXQhPSJ1bmRlZmluZWQiP3QudGltZW91dDpyLGNlbnRlclk6ITEsc2hvd092ZXJsYXk6ITEsb25VbmJsb2NrOnUsY3NzOm4uYmxvY2tVSS5kZWZhdWx0cy5ncm93bENTU30pfTtlKCk7bz1mLmNzcygib3BhY2l0eSIpO2YubW91c2VvdmVyKGZ1bmN0aW9uKCl7ZSh7ZmFkZUluOjAsdGltZW91dDozZTR9KTt2YXIgdD1uKCIuYmxvY2tNc2ciKTt0LnN0b3AoKTt0LmZhZGVUbygzMDAsMSl9KS5tb3VzZW91dChmdW5jdGlvbigpe24oIi5ibG9ja01zZyIpLmZhZGVPdXQoMWUzKX0pfTtuLmZuLmJsb2NrPWZ1bmN0aW9uKHQpe2lmKHRoaXNbMF09PT13aW5kb3cpcmV0dXJuIG4uYmxvY2tVSSh0KSx0aGlzO3ZhciBpPW4uZXh0ZW5kKHt9LG4uYmxvY2tVSS5kZWZhdWx0cyx0fHx7fSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciB0PW4odGhpcyk7aS5pZ25vcmVJZkJsb2NrZWQmJnQuZGF0YSgiYmxvY2tVSS5pc0Jsb2NrZWQiKXx8dC51bmJsb2NrKHtmYWRlT3V0OjB9KX0pLHRoaXMuZWFjaChmdW5jdGlvbigpe24uY3NzKHRoaXMsInBvc2l0aW9uIik9PSJzdGF0aWMiJiYodGhpcy5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLG4odGhpcykuZGF0YSgiYmxvY2tVSS5zdGF0aWMiLCEwKSk7dGhpcy5zdHlsZS56b29tPTE7cyh0aGlzLHQpfSl9O24uZm4udW5ibG9jaz1mdW5jdGlvbih0KXtyZXR1cm4gdGhpc1swXT09PXdpbmRvdz8obi51bmJsb2NrVUkodCksdGhpcyk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZSh0aGlzLHQpfSl9O24uYmxvY2tVSS52ZXJzaW9uPTIuNztuLmJsb2NrVUkuZGVmYXVsdHM9e21lc3NhZ2U6IjxoMT5QbGVhc2Ugd2FpdC4uLjxcL2gxPiIsdGl0bGU6bnVsbCxkcmFnZ2FibGU6ITAsdGhlbWU6ITEsY3NzOntwYWRkaW5nOjAsbWFyZ2luOjAsd2lkdGg6IjMwJSIsdG9wOiI0MCUiLGxlZnQ6IjM1JSIsdGV4dEFsaWduOiJjZW50ZXIiLGNvbG9yOiIjMDAwIixib3JkZXI6IjNweCBzb2xpZCAjYWFhIixiYWNrZ3JvdW5kQ29sb3I6IiNmZmYiLGN1cnNvcjoid2FpdCJ9LHRoZW1lZENTUzp7d2lkdGg6IjMwJSIsdG9wOiI0MCUiLGxlZnQ6IjM1JSJ9LG92ZXJsYXlDU1M6e2JhY2tncm91bmRDb2xvcjoiIzAwMCIsb3BhY2l0eTouNixjdXJzb3I6IndhaXQifSxjdXJzb3JSZXNldDoiZGVmYXVsdCIsZ3Jvd2xDU1M6e3dpZHRoOiIzNTBweCIsdG9wOiIxMHB4IixsZWZ0OiIiLHJpZ2h0OiIxMHB4Iixib3JkZXI6Im5vbmUiLHBhZGRpbmc6IjVweCIsb3BhY2l0eTouNixjdXJzb3I6ImRlZmF1bHQiLGNvbG9yOiIjZmZmIixiYWNrZ3JvdW5kQ29sb3I6IiMwMDAiLCItd2Via2l0LWJvcmRlci1yYWRpdXMiOiIxMHB4IiwiLW1vei1ib3JkZXItcmFkaXVzIjoiMTBweCIsImJvcmRlci1yYWRpdXMiOiIxMHB4In0saWZyYW1lU3JjOi9eaHR0cHMvaS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5ocmVmfHwiIik/ImphdmFzY3JpcHQ6ZmFsc2UiOiJhYm91dDpibGFuayIsZm9yY2VJZnJhbWU6ITEsYmFzZVo6MWUzLGNlbnRlclg6ITAsY2VudGVyWTohMCxhbGxvd0JvZHlTdHJldGNoOiEwLGJpbmRFdmVudHM6ITAsY29uc3RyYWluVGFiS2V5OiEwLGZhZGVJbjoyMDAsZmFkZU91dDo0MDAsdGltZW91dDowLHNob3dPdmVybGF5OiEwLGZvY3VzSW5wdXQ6ITAsZm9jdXNhYmxlRWxlbWVudHM6IjppbnB1dDplbmFibGVkOnZpc2libGUiLG9uQmxvY2s6bnVsbCxvblVuYmxvY2s6bnVsbCxvbk92ZXJsYXlDbGljazpudWxsLHF1aXJrc21vZGVPZmZzZXRIYWNrOjQsYmxvY2tNc2dDbGFzczoiYmxvY2tNc2ciLGlnbm9yZUlmQmxvY2tlZDohMX07dD1udWxsO2k9W119dHlwZW9mIGRlZmluZT09ImZ1bmN0aW9uIiYmZGVmaW5lLmFtZCYmZGVmaW5lLmFtZC5qUXVlcnk/ZGVmaW5lKFsianF1ZXJ5Il0sbik6bihqUXVlcnkpfSkoKTsKLyohCiAgKiBCb290c3RyYXAgdjQuMS4xIChodHRwczovL2dldGJvb3RzdHJhcC5jb20vKQogICogQ29weXJpZ2h0IDIwMTEtMjAxOCBUaGUgQm9vdHN0cmFwIEF1dGhvcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ncmFwaHMvY29udHJpYnV0b3JzKQogICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSkKICAqLwohZnVuY3Rpb24obix0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP3QoZXhwb3J0cyxyZXF1aXJlKCJqcXVlcnkiKSk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoWyJleHBvcnRzIiwianF1ZXJ5Il0sdCk6dChuLmJvb3RzdHJhcD17fSxuLmpRdWVyeSl9KHRoaXMsZnVuY3Rpb24obix0KXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaGUobix0KXtmb3IodmFyIGkscj0wO3I8dC5sZW5ndGg7cisrKWk9dFtyXSxpLmVudW1lcmFibGU9aS5lbnVtZXJhYmxlfHwhMSxpLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGkua2V5LGkpfWZ1bmN0aW9uIG50KG4sdCxpKXtyZXR1cm4gdCYmaGUobi5wcm90b3R5cGUsdCksaSYmaGUobixpKSxufWZ1bmN0aW9uIGEobil7Zm9yKHZhciBpLHIsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0KyspaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9LHI9T2JqZWN0LmtleXMoaSksImZ1bmN0aW9uIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJihyPXIuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoaSkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksbikuZW51bWVyYWJsZX0pKSksci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciByLHUsZjtyPW47Zj1pW3U9dF07dSBpbiByP09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLHUse3ZhbHVlOmYsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTpyW3VdPWZ9KTtyZXR1cm4gbn1mdW5jdGlvbiBwbyhuKXtyZXR1cm4gbiYmIltvYmplY3QgRnVuY3Rpb25dIj09PXt9LnRvU3RyaW5nLmNhbGwobil9ZnVuY3Rpb24gZHQobix0KXtpZigxIT09bi5ub2RlVHlwZSlyZXR1cm5bXTt2YXIgaT1nZXRDb21wdXRlZFN0eWxlKG4sbnVsbCk7cmV0dXJuIHQ/aVt0XTppfWZ1bmN0aW9uIGhmKG4pe3JldHVybiJIVE1MIj09PW4ubm9kZU5hbWU/bjpuLnBhcmVudE5vZGV8fG4uaG9zdH1mdW5jdGlvbiBocihuKXtpZighbilyZXR1cm4gZG9jdW1lbnQuYm9keTtzd2l0Y2gobi5ub2RlTmFtZSl7Y2FzZSJIVE1MIjpjYXNlIkJPRFkiOnJldHVybiBuLm93bmVyRG9jdW1lbnQuYm9keTtjYXNlIiNkb2N1bWVudCI6cmV0dXJuIG4uYm9keX12YXIgdD1kdChuKSxpPXQub3ZlcmZsb3cscj10Lm92ZXJmbG93WCx1PXQub3ZlcmZsb3dZO3JldHVybi8oYXV0b3xzY3JvbGx8b3ZlcmxheSkvLnRlc3QoaSt1K3IpP246aHIoaGYobikpfWZ1bmN0aW9uIGxpKG4pe3JldHVybiAxMT09PW4/Y2Y6MTA9PT1uP2xmOmNmfHxsZn1mdW5jdGlvbiBhaShuKXt2YXIgcix0LGk7aWYoIW4pcmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtmb3Iocj1saSgxMCk/ZG9jdW1lbnQuYm9keTpudWxsLHQ9bi5vZmZzZXRQYXJlbnQ7dD09PXImJm4ubmV4dEVsZW1lbnRTaWJsaW5nOyl0PShuPW4ubmV4dEVsZW1lbnRTaWJsaW5nKS5vZmZzZXRQYXJlbnQ7cmV0dXJuIGk9dCYmdC5ub2RlTmFtZSxpJiYiQk9EWSIhPT1pJiYiSFRNTCIhPT1pPy0xIT09WyJURCIsIlRBQkxFIl0uaW5kZXhPZih0Lm5vZGVOYW1lKSYmInN0YXRpYyI9PT1kdCh0LCJwb3NpdGlvbiIpP2FpKHQpOnQ6bj9uLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiBhZihuKXtyZXR1cm4gbnVsbCE9PW4ucGFyZW50Tm9kZT9hZihuLnBhcmVudE5vZGUpOm59ZnVuY3Rpb24gc3Uobix0KXt2YXIgdSxoLGksZjtpZighKG4mJm4ubm9kZVR5cGUmJnQmJnQubm9kZVR5cGUpKXJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7dmFyIGU9bi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KSZOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX0ZPTExPV0lORyxvPWU/bjp0LHM9ZT90Om4scj1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybihyLnNldFN0YXJ0KG8sMCksci5zZXRFbmQocywwKSxpPXIuY29tbW9uQW5jZXN0b3JDb250YWluZXIsbiE9PWkmJnQhPT1pfHxvLmNvbnRhaW5zKHMpKT8iQk9EWSI9PT0oaD0odT1pKS5ub2RlTmFtZSl8fCJIVE1MIiE9PWgmJmFpKHUuZmlyc3RFbGVtZW50Q2hpbGQpIT09dT9haShpKTppOihmPWFmKG4pLGYuaG9zdD9zdShmLmhvc3QsdCk6c3UobixhZih0KS5ob3N0KSl9ZnVuY3Rpb24gdmkobil7dmFyIHQ9InRvcCI9PT0oMTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOiJ0b3AiKT8ic2Nyb2xsVG9wIjoic2Nyb2xsTGVmdCIsaT1uLm5vZGVOYW1lLHI7cmV0dXJuIkJPRFkiPT09aXx8IkhUTUwiPT09aT8ocj1uLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LChuLm93bmVyRG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudHx8cilbdF0pOm5bdF19ZnVuY3Rpb24gd28obix0KXt2YXIgaT0ieCI9PT10PyJMZWZ0IjoiVG9wIixyPSJMZWZ0Ij09PWk/IlJpZ2h0IjoiQm90dG9tIjtyZXR1cm4gcGFyc2VGbG9hdChuWyJib3JkZXIiK2krIldpZHRoIl0sMTApK3BhcnNlRmxvYXQoblsiYm9yZGVyIityKyJXaWR0aCJdLDEwKX1mdW5jdGlvbiBibyhuLHQsaSxyKXtyZXR1cm4gTWF0aC5tYXgodFsib2Zmc2V0IituXSx0WyJzY3JvbGwiK25dLGlbImNsaWVudCIrbl0saVsib2Zmc2V0IituXSxpWyJzY3JvbGwiK25dLGxpKDEwKT9pWyJvZmZzZXQiK25dK3JbIm1hcmdpbiIrKCJIZWlnaHQiPT09bj8iVG9wIjoiTGVmdCIpXStyWyJtYXJnaW4iKygiSGVpZ2h0Ij09PW4/IkJvdHRvbSI6IlJpZ2h0IildOjApfWZ1bmN0aW9uIGtvKCl7dmFyIHQ9ZG9jdW1lbnQuYm9keSxuPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxpPWxpKDEwKSYmZ2V0Q29tcHV0ZWRTdHlsZShuKTtyZXR1cm57aGVpZ2h0OmJvKCJIZWlnaHQiLHQsbixpKSx3aWR0aDpibygiV2lkdGgiLHQsbixpKX19ZnVuY3Rpb24gaHQobil7cmV0dXJuIHcoe30sbix7cmlnaHQ6bi5sZWZ0K24ud2lkdGgsYm90dG9tOm4udG9wK24uaGVpZ2h0fSl9ZnVuY3Rpb24gdmYobil7dmFyIHQ9e30scix1LG87dHJ5e2xpKDEwKT8odD1uLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHI9dmkobiwidG9wIiksdT12aShuLCJsZWZ0IiksdC50b3ArPXIsdC5sZWZ0Kz11LHQuYm90dG9tKz1yLHQucmlnaHQrPXUpOnQ9bi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChuKXt9dmFyIGk9e2xlZnQ6dC5sZWZ0LHRvcDp0LnRvcCx3aWR0aDp0LnJpZ2h0LXQubGVmdCxoZWlnaHQ6dC5ib3R0b20tdC50b3B9LHM9IkhUTUwiPT09bi5ub2RlTmFtZT9rbygpOnt9LGg9cy53aWR0aHx8bi5jbGllbnRXaWR0aHx8aS5yaWdodC1pLmxlZnQsYz1zLmhlaWdodHx8bi5jbGllbnRIZWlnaHR8fGkuYm90dG9tLWkudG9wLGY9bi5vZmZzZXRXaWR0aC1oLGU9bi5vZmZzZXRIZWlnaHQtYztyZXR1cm4oZnx8ZSkmJihvPWR0KG4pLGYtPXdvKG8sIngiKSxlLT13byhvLCJ5IiksaS53aWR0aC09ZixpLmhlaWdodC09ZSksaHQoaSl9ZnVuY3Rpb24geWYobix0KXt2YXIgbD0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGE9bGkoMTApLHY9IkhUTUwiPT09dC5ub2RlTmFtZSx1PXZmKG4pLHI9dmYodCkscz1ocihuKSxmPWR0KHQpLGg9cGFyc2VGbG9hdChmLmJvcmRlclRvcFdpZHRoLDEwKSxjPXBhcnNlRmxvYXQoZi5ib3JkZXJMZWZ0V2lkdGgsMTApLGksZSxvO3JldHVybiBsJiYiSFRNTCI9PT10Lm5vZGVOYW1lJiYoci50b3A9TWF0aC5tYXgoci50b3AsMCksci5sZWZ0PU1hdGgubWF4KHIubGVmdCwwKSksaT1odCh7dG9wOnUudG9wLXIudG9wLWgsbGVmdDp1LmxlZnQtci5sZWZ0LWMsd2lkdGg6dS53aWR0aCxoZWlnaHQ6dS5oZWlnaHR9KSwoaS5tYXJnaW5Ub3A9MCxpLm1hcmdpbkxlZnQ9MCwhYSYmdikmJihlPXBhcnNlRmxvYXQoZi5tYXJnaW5Ub3AsMTApLG89cGFyc2VGbG9hdChmLm1hcmdpbkxlZnQsMTApLGkudG9wLT1oLWUsaS5ib3R0b20tPWgtZSxpLmxlZnQtPWMtbyxpLnJpZ2h0LT1jLW8saS5tYXJnaW5Ub3A9ZSxpLm1hcmdpbkxlZnQ9byksKGEmJiFsP3QuY29udGFpbnMocyk6dD09PXMmJiJCT0RZIiE9PXMubm9kZU5hbWUpJiYoaT1mdW5jdGlvbihuLHQpe3ZhciBmPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0scj12aSh0LCJ0b3AiKSx1PXZpKHQsImxlZnQiKSxpPWY/LTE6MTtyZXR1cm4gbi50b3ArPXIqaSxuLmJvdHRvbSs9cippLG4ubGVmdCs9dSppLG4ucmlnaHQrPXUqaSxufShpLHQpKSxpfWZ1bmN0aW9uIGdvKG4pe2lmKCFufHwhbi5wYXJlbnRFbGVtZW50fHxsaSgpKXJldHVybiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7Zm9yKHZhciB0PW4ucGFyZW50RWxlbWVudDt0JiYibm9uZSI9PT1kdCh0LCJ0cmFuc2Zvcm0iKTspdD10LnBhcmVudEVsZW1lbnQ7cmV0dXJuIHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1mdW5jdGlvbiBwZihuLHQsaSxyKXt2YXIgbz00PGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLHU9e3RvcDowLGxlZnQ6MH0scz1vP2dvKG4pOnN1KG4sdCksZSxmO2lmKCJ2aWV3cG9ydCI9PT1yKXU9ZnVuY3Rpb24obil7dmFyIHI9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSx0PW4ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsaT15ZihuLHQpLHU9TWF0aC5tYXgodC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksZj1NYXRoLm1heCh0LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLGU9cj8wOnZpKHQpLG89cj8wOnZpKHQsImxlZnQiKTtyZXR1cm4gaHQoe3RvcDplLWkudG9wK2kubWFyZ2luVG9wLGxlZnQ6by1pLmxlZnQraS5tYXJnaW5MZWZ0LHdpZHRoOnUsaGVpZ2h0OmZ9KX0ocyxvKTtlbHNlIGlmKGU9dm9pZCAwLCJzY3JvbGxQYXJlbnQiPT09cj8iQk9EWSI9PT0oZT1ocihoZih0KSkpLm5vZGVOYW1lJiYoZT1uLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTplPSJ3aW5kb3ciPT09cj9uLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OnIsZj15ZihlLHMsbyksIkhUTUwiIT09ZS5ub2RlTmFtZXx8ZnVuY3Rpb24gbih0KXt2YXIgaT10Lm5vZGVOYW1lO3JldHVybiJCT0RZIiE9PWkmJiJIVE1MIiE9PWkmJigiZml4ZWQiPT09ZHQodCwicG9zaXRpb24iKXx8bihoZih0KSkpfShzKSl1PWY7ZWxzZXt2YXIgaD1rbygpLGM9aC5oZWlnaHQsbD1oLndpZHRoO3UudG9wKz1mLnRvcC1mLm1hcmdpblRvcDt1LmJvdHRvbT1jK2YudG9wO3UubGVmdCs9Zi5sZWZ0LWYubWFyZ2luTGVmdDt1LnJpZ2h0PWwrZi5sZWZ0fXJldHVybiB1LmxlZnQrPWksdS50b3ArPWksdS5yaWdodC09aSx1LmJvdHRvbS09aSx1fWZ1bmN0aW9uIG5zKG4sdCxpLHIsdSl7dmFyIGM9NTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0/YXJndW1lbnRzWzVdOjA7aWYoLTE9PT1uLmluZGV4T2YoImF1dG8iKSlyZXR1cm4gbjt2YXIgZj1wZihpLHIsYyx1KSxlPXt0b3A6e3dpZHRoOmYud2lkdGgsaGVpZ2h0OnQudG9wLWYudG9wfSxyaWdodDp7d2lkdGg6Zi5yaWdodC10LnJpZ2h0LGhlaWdodDpmLmhlaWdodH0sYm90dG9tOnt3aWR0aDpmLndpZHRoLGhlaWdodDpmLmJvdHRvbS10LmJvdHRvbX0sbGVmdDp7d2lkdGg6dC5sZWZ0LWYubGVmdCxoZWlnaHQ6Zi5oZWlnaHR9fSxvPU9iamVjdC5rZXlzKGUpLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdyh7a2V5Om59LGVbbl0se2FyZWE6KHQ9ZVtuXSx0LndpZHRoKnQuaGVpZ2h0KX0pO3ZhciB0fSkuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiB0LmFyZWEtbi5hcmVhfSkscz1vLmZpbHRlcihmdW5jdGlvbihuKXt2YXIgdD1uLndpZHRoLHI9bi5oZWlnaHQ7cmV0dXJuIHQ+PWkuY2xpZW50V2lkdGgmJnI+PWkuY2xpZW50SGVpZ2h0fSksbD0wPHMubGVuZ3RoP3NbMF0ua2V5Om9bMF0ua2V5LGg9bi5zcGxpdCgiLSIpWzFdO3JldHVybiBsKyhoPyItIitoOiIiKX1mdW5jdGlvbiB0cyhuLHQsaSl7dmFyIHI9Mzxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOm51bGw7cmV0dXJuIHlmKGkscj9nbyh0KTpzdSh0LGkpLHIpfWZ1bmN0aW9uIGlzKG4pe3ZhciB0PWdldENvbXB1dGVkU3R5bGUobiksaT1wYXJzZUZsb2F0KHQubWFyZ2luVG9wKStwYXJzZUZsb2F0KHQubWFyZ2luQm90dG9tKSxyPXBhcnNlRmxvYXQodC5tYXJnaW5MZWZ0KStwYXJzZUZsb2F0KHQubWFyZ2luUmlnaHQpO3JldHVybnt3aWR0aDpuLm9mZnNldFdpZHRoK3IsaGVpZ2h0Om4ub2Zmc2V0SGVpZ2h0K2l9fWZ1bmN0aW9uIGh1KG4pe3ZhciB0PXtsZWZ0OiJyaWdodCIscmlnaHQ6ImxlZnQiLGJvdHRvbToidG9wIix0b3A6ImJvdHRvbSJ9O3JldHVybiBuLnJlcGxhY2UoL2xlZnR8cmlnaHR8Ym90dG9tfHRvcC9nLGZ1bmN0aW9uKG4pe3JldHVybiB0W25dfSl9ZnVuY3Rpb24gcnMobix0LGkpe2k9aS5zcGxpdCgiLSIpWzBdO3ZhciByPWlzKG4pLGU9e3dpZHRoOnIud2lkdGgsaGVpZ2h0OnIuaGVpZ2h0fSx1PS0xIT09WyJyaWdodCIsImxlZnQiXS5pbmRleE9mKGkpLG89dT8idG9wIjoibGVmdCIsZj11PyJsZWZ0IjoidG9wIixzPXU/ImhlaWdodCI6IndpZHRoIixoPXU/IndpZHRoIjoiaGVpZ2h0IjtyZXR1cm4gZVtvXT10W29dK3Rbc10vMi1yW3NdLzIsZVtmXT1pPT09Zj90W2ZdLXJbaF06dFtodShmKV0sZX1mdW5jdGlvbiBjcihuLHQpe3JldHVybiBBcnJheS5wcm90b3R5cGUuZmluZD9uLmZpbmQodCk6bi5maWx0ZXIodClbMF19ZnVuY3Rpb24gdXMobix0LGkpe3JldHVybih2b2lkIDA9PT1pP246bi5zbGljZSgwLGZ1bmN0aW9uKG4sdCxpKXtpZihBcnJheS5wcm90b3R5cGUuZmluZEluZGV4KXJldHVybiBuLmZpbmRJbmRleChmdW5jdGlvbihuKXtyZXR1cm4gblt0XT09PWl9KTt2YXIgcj1jcihuLGZ1bmN0aW9uKG4pe3JldHVybiBuW3RdPT09aX0pO3JldHVybiBuLmluZGV4T2Yocil9KG4sIm5hbWUiLGkpKSkuZm9yRWFjaChmdW5jdGlvbihuKXtuLmZ1bmN0aW9uJiZjb25zb2xlLndhcm4oImBtb2RpZmllci5mdW5jdGlvbmAgaXMgZGVwcmVjYXRlZCwgdXNlIGBtb2RpZmllci5mbmAhIik7dmFyIGk9bi5mdW5jdGlvbnx8bi5mbjtuLmVuYWJsZWQmJnBvKGkpJiYodC5vZmZzZXRzLnBvcHBlcj1odCh0Lm9mZnNldHMucG9wcGVyKSx0Lm9mZnNldHMucmVmZXJlbmNlPWh0KHQub2Zmc2V0cy5yZWZlcmVuY2UpLHQ9aSh0LG4pKX0pLHR9ZnVuY3Rpb24gZnMobix0KXtyZXR1cm4gbi5zb21lKGZ1bmN0aW9uKG4pe3ZhciBpPW4ubmFtZTtyZXR1cm4gbi5lbmFibGVkJiZpPT09dH0pfWZ1bmN0aW9uIHdmKG4pe2Zvcih2YXIgaSxyLHU9WyExLCJtcyIsIldlYmtpdCIsIk1veiIsIk8iXSxmPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSx0PTA7dDx1Lmxlbmd0aDt0KyspaWYoaT11W3RdLHI9aT8iIitpK2Y6biwidW5kZWZpbmVkIiE9dHlwZW9mIGRvY3VtZW50LmJvZHkuc3R5bGVbcl0pcmV0dXJuIHI7cmV0dXJuIG51bGx9ZnVuY3Rpb24gZXMobil7dmFyIHQ9bi5vd25lckRvY3VtZW50O3JldHVybiB0P3QuZGVmYXVsdFZpZXc6d2luZG93fWZ1bmN0aW9uIGVsKG4sdCxpLHIpe2kudXBkYXRlQm91bmQ9cjtlcyhuKS5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLGkudXBkYXRlQm91bmQse3Bhc3NpdmU6ITB9KTt2YXIgdT1ocihuKTtyZXR1cm4gZnVuY3Rpb24gbih0LGkscix1KXt2YXIgZT0iQk9EWSI9PT10Lm5vZGVOYW1lLGY9ZT90Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc6dDtmLmFkZEV2ZW50TGlzdGVuZXIoaSxyLHtwYXNzaXZlOiEwfSk7ZXx8bihocihmLnBhcmVudE5vZGUpLGkscix1KTt1LnB1c2goZil9KHUsInNjcm9sbCIsaS51cGRhdGVCb3VuZCxpLnNjcm9sbFBhcmVudHMpLGkuc2Nyb2xsRWxlbWVudD11LGkuZXZlbnRzRW5hYmxlZD0hMCxpfWZ1bmN0aW9uIG9sKCl7dmFyIHQsbjt0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQmJihjYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLnNjaGVkdWxlVXBkYXRlKSx0aGlzLnN0YXRlPSh0PXRoaXMucmVmZXJlbmNlLG49dGhpcy5zdGF0ZSxlcyh0KS5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNpemUiLG4udXBkYXRlQm91bmQpLG4uc2Nyb2xsUGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigic2Nyb2xsIixuLnVwZGF0ZUJvdW5kKX0pLG4udXBkYXRlQm91bmQ9bnVsbCxuLnNjcm9sbFBhcmVudHM9W10sbi5zY3JvbGxFbGVtZW50PW51bGwsbi5ldmVudHNFbmFibGVkPSExLG4pKX1mdW5jdGlvbiBiZihuKXtyZXR1cm4iIiE9PW4mJiFpc05hTihwYXJzZUZsb2F0KG4pKSYmaXNGaW5pdGUobil9ZnVuY3Rpb24ga2Yobix0KXtPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3ZhciByPSIiOy0xIT09WyJ3aWR0aCIsImhlaWdodCIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCJdLmluZGV4T2YoaSkmJmJmKHRbaV0pJiYocj0icHgiKTtuLnN0eWxlW2ldPXRbaV0rcn0pfWZ1bmN0aW9uIG9zKG4sdCxpKXt2YXIgdT1jcihuLGZ1bmN0aW9uKG4pe3JldHVybiBuLm5hbWU9PT10fSksZj0hIXUmJm4uc29tZShmdW5jdGlvbihuKXtyZXR1cm4gbi5uYW1lPT09aSYmbi5lbmFibGVkJiZuLm9yZGVyPHUub3JkZXJ9KSxyLGU7cmV0dXJuIGZ8fChyPSJgIit0KyJgIixlPSJgIitpKyJgIixjb25zb2xlLndhcm4oZSsiIG1vZGlmaWVyIGlzIHJlcXVpcmVkIGJ5ICIrcisiIG1vZGlmaWVyIGluIG9yZGVyIHRvIHdvcmssIGJlIHN1cmUgdG8gaW5jbHVkZSBpdCBiZWZvcmUgIityKyIhIikpLGZ9ZnVuY3Rpb24gc3Mobil7dmFyIHI9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSx0PWN1LmluZGV4T2YobiksaT1jdS5zbGljZSh0KzEpLmNvbmNhdChjdS5zbGljZSgwLHQpKTtyZXR1cm4gcj9pLnJldmVyc2UoKTppfWZ1bmN0aW9uIHNsKG4sdCxpLHIpe3ZhciBzPVswLDBdLGg9LTEhPT1bInJpZ2h0IiwibGVmdCJdLmluZGV4T2YociksdT1uLnNwbGl0KC8oXCt8XC0pLykubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBuLnRyaW0oKX0pLGY9dS5pbmRleE9mKGNyKHUsZnVuY3Rpb24obil7cmV0dXJuLTEhPT1uLnNlYXJjaCgvLHxccy8pfSkpLGUsbztyZXR1cm4gdVtmXSYmLTE9PT11W2ZdLmluZGV4T2YoIiwiKSYmY29uc29sZS53YXJuKCJPZmZzZXRzIHNlcGFyYXRlZCBieSB3aGl0ZSBzcGFjZShzKSBhcmUgZGVwcmVjYXRlZCwgdXNlIGEgY29tbWEgKCwpIGluc3RlYWQuIiksZT0vXHMqLFxzKnxccysvLG89LTEhPT1mP1t1LnNsaWNlKDAsZikuY29uY2F0KFt1W2ZdLnNwbGl0KGUpWzBdXSksW3VbZl0uc3BsaXQoZSlbMV1dLmNvbmNhdCh1LnNsaWNlKGYrMSkpXTpbdV0sKG89by5tYXAoZnVuY3Rpb24obixyKXt2YXIgZj0oMT09PXI/IWg6aCk/ImhlaWdodCI6IndpZHRoIix1PSExO3JldHVybiBuLnJlZHVjZShmdW5jdGlvbihuLHQpe3JldHVybiIiPT09bltuLmxlbmd0aC0xXSYmLTEhPT1bIisiLCItIl0uaW5kZXhPZih0KT8obltuLmxlbmd0aC0xXT10LHU9ITAsbik6dT8obltuLmxlbmd0aC0xXSs9dCx1PSExLG4pOm4uY29uY2F0KHQpfSxbXSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihuLHQsaSxyKXt2YXIgbz1uLm1hdGNoKC8oKD86XC18XCspP1xkKlwuP1xkKikoLiopLyksZj0rb1sxXSx1PW9bMl0sZTtpZighZilyZXR1cm4gbjtpZigwPT09dS5pbmRleE9mKCIlIikpe2U9dm9pZCAwO3N3aXRjaCh1KXtjYXNlIiVwIjplPWk7YnJlYWs7Y2FzZSIlIjpjYXNlIiVyIjpkZWZhdWx0OmU9cn1yZXR1cm4gaHQoZSlbdF0vMTAwKmZ9cmV0dXJuInZoIj09PXV8fCJ2dyI9PT11PygidmgiPT09dT9NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCk6TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSkvMTAwKmY6Zn0obixmLHQsaSl9KX0pKS5mb3JFYWNoKGZ1bmN0aW9uKG4sdCl7bi5mb3JFYWNoKGZ1bmN0aW9uKGkscil7YmYoaSkmJihzW3RdKz1pKigiLSI9PT1uW3ItMV0/LTE6MSkpfSl9KSxzfWZvcih2YXIgeW8sY2YsbGYsZGYsY3UsbHUsaHMsY3Qsdix1aSxrcixkcixjZSxncixsZSxhZSx2ZSx5dCxoLGZpLG51LHR1LGl1LHllLGVpLHBlLHdlLHJmLGJlLGtlLGRlLHVmLGZmLG9pLHUscHQsdXIsdHQsZWYsZ2UscnUsbm8sZnIsZXIsdG8saW8saXQscm8sb3QsdW8sZm8sZW8sb28sc28scnQsd3QsbyxidCxrdCxzaSxobyx1dSxjbyxoaSxzdCxvcixzcixmdSxvZixsbyxldSxjaSxmPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHIoaSl7dmFyIHU9dGhpcyxyPSExO3JldHVybiBuKHRoaXMpLm9uZSh0LlRSQU5TSVRJT05fRU5ELGZ1bmN0aW9uKCl7cj0hMH0pLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtyfHx0LnRyaWdnZXJUcmFuc2l0aW9uRW5kKHUpfSxpKSx0aGlzfXZhciBpPSJ0cmFuc2l0aW9uZW5kIix0PXtUUkFOU0lUSU9OX0VORDoiYnNUcmFuc2l0aW9uRW5kIixnZXRVSUQ6ZnVuY3Rpb24obil7Zm9yKDtuKz1+figxZTYqTWF0aC5yYW5kb20oKSksZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobik7KTtyZXR1cm4gbn0sZ2V0U2VsZWN0b3JGcm9tRWxlbWVudDpmdW5jdGlvbih0KXt2YXIgaT10LmdldEF0dHJpYnV0ZSgiZGF0YS10YXJnZXQiKTtpJiYiIyIhPT1pfHwoaT10LmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIik7dHJ5e3JldHVybiAwPG4oZG9jdW1lbnQpLmZpbmQoaSkubGVuZ3RoP2k6bnVsbH1jYXRjaCh0KXtyZXR1cm4gbnVsbH19LGdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50OmZ1bmN0aW9uKHQpe2lmKCF0KXJldHVybiAwO3ZhciBpPW4odCkuY3NzKCJ0cmFuc2l0aW9uLWR1cmF0aW9uIik7cmV0dXJuIHBhcnNlRmxvYXQoaSk/KGk9aS5zcGxpdCgiLCIpWzBdLDFlMypwYXJzZUZsb2F0KGkpKTowfSxyZWZsb3c6ZnVuY3Rpb24obil7cmV0dXJuIG4ub2Zmc2V0SGVpZ2h0fSx0cmlnZ2VyVHJhbnNpdGlvbkVuZDpmdW5jdGlvbih0KXtuKHQpLnRyaWdnZXIoaSl9LHN1cHBvcnRzVHJhbnNpdGlvbkVuZDpmdW5jdGlvbigpe3JldHVybiBCb29sZWFuKGkpfSxpc0VsZW1lbnQ6ZnVuY3Rpb24obil7cmV0dXJuKG5bMF18fG4pLm5vZGVUeXBlfSx0eXBlQ2hlY2tDb25maWc6ZnVuY3Rpb24obixpLHIpe3ZhciB1LHM7Zm9yKHUgaW4gcilpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocix1KSl7dmFyIGU9clt1XSxmPWlbdV0sbz1mJiZ0LmlzRWxlbWVudChmKT8iZWxlbWVudCI6KHM9Zix7fS50b1N0cmluZy5jYWxsKHMpLm1hdGNoKC9ccyhbYS16XSspL2kpWzFdLnRvTG93ZXJDYXNlKCkpO2lmKCFuZXcgUmVnRXhwKGUpLnRlc3QobykpdGhyb3cgbmV3IEVycm9yKG4udG9VcHBlckNhc2UoKSsnOiBPcHRpb24gIicrdSsnIiBwcm92aWRlZCB0eXBlICInK28rJyIgYnV0IGV4cGVjdGVkIHR5cGUgIicrZSsnIi4nKTt9fX07cmV0dXJuIG4uZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQ9cixuLmV2ZW50LnNwZWNpYWxbdC5UUkFOU0lUSU9OX0VORF09e2JpbmRUeXBlOmksZGVsZWdhdGVUeXBlOmksaGFuZGxlOmZ1bmN0aW9uKHQpe2lmKG4odC50YXJnZXQpLmlzKHRoaXMpKXJldHVybiB0LmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHR9KHQ9dCYmdC5oYXNPd25Qcm9wZXJ0eSgiZGVmYXVsdCIpP3QuZGVmYXVsdDp0KSxubD0odWk9ImFsZXJ0Iixkcj0iLiIrKGtyPSJicy5hbGVydCIpLGNlPSh2PXQpLmZuW3VpXSxncj17Q0xPU0U6ImNsb3NlIitkcixDTE9TRUQ6ImNsb3NlZCIrZHIsQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIitkcisiLmRhdGEtYXBpIn0sbGU9ImFsZXJ0IixhZT0iZmFkZSIsdmU9InNob3ciLHl0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuKXt0aGlzLl9lbGVtZW50PW59dmFyIHQ9bi5wcm90b3R5cGU7cmV0dXJuIHQuY2xvc2U9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcy5fZWxlbWVudDtuJiYodD10aGlzLl9nZXRSb290RWxlbWVudChuKSk7dGhpcy5fdHJpZ2dlckNsb3NlRXZlbnQodCkuaXNEZWZhdWx0UHJldmVudGVkKCl8fHRoaXMuX3JlbW92ZUVsZW1lbnQodCl9LHQuZGlzcG9zZT1mdW5jdGlvbigpe3YucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LGtyKTt0aGlzLl9lbGVtZW50PW51bGx9LHQuX2dldFJvb3RFbGVtZW50PWZ1bmN0aW9uKG4pe3ZhciBpPWYuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChuKSx0PSExO3JldHVybiBpJiYodD12KGkpWzBdKSx0fHwodD12KG4pLmNsb3Nlc3QoIi4iK2xlKVswXSksdH0sdC5fdHJpZ2dlckNsb3NlRXZlbnQ9ZnVuY3Rpb24obil7dmFyIHQ9di5FdmVudChnci5DTE9TRSk7cmV0dXJuIHYobikudHJpZ2dlcih0KSx0fSx0Ll9yZW1vdmVFbGVtZW50PWZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMsdDsodihuKS5yZW1vdmVDbGFzcyh2ZSksdihuKS5oYXNDbGFzcyhhZSkpPyh0PWYuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQobiksdihuKS5vbmUoZi5UUkFOU0lUSU9OX0VORCxmdW5jdGlvbih0KXtyZXR1cm4gaS5fZGVzdHJveUVsZW1lbnQobix0KX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHQpKTp0aGlzLl9kZXN0cm95RWxlbWVudChuKX0sdC5fZGVzdHJveUVsZW1lbnQ9ZnVuY3Rpb24obil7dihuKS5kZXRhY2goKS50cmlnZ2VyKGdyLkNMT1NFRCkucmVtb3ZlKCl9LG4uX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9dih0aGlzKSxpPXIuZGF0YShrcik7aXx8KGk9bmV3IG4odGhpcyksci5kYXRhKGtyLGkpKTsiY2xvc2UiPT09dCYmaVt0XSh0aGlzKX0pfSxuLl9oYW5kbGVEaXNtaXNzPWZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbih0KXt0JiZ0LnByZXZlbnREZWZhdWx0KCk7bi5jbG9zZSh0aGlzKX19LG50KG4sbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19XSksbn0oKSx2KGRvY3VtZW50KS5vbihnci5DTElDS19EQVRBX0FQSSwnW2RhdGEtZGlzbWlzcz0iYWxlcnQiXScseXQuX2hhbmRsZURpc21pc3MobmV3IHl0KSksdi5mblt1aV09eXQuX2pRdWVyeUludGVyZmFjZSx2LmZuW3VpXS5Db25zdHJ1Y3Rvcj15dCx2LmZuW3VpXS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIHYuZm5bdWldPWNlLHl0Ll9qUXVlcnlJbnRlcmZhY2V9LHl0KSx0bD0oZmk9ImJ1dHRvbiIsdHU9Ii4iKyhudT0iYnMuYnV0dG9uIiksaXU9Ii5kYXRhLWFwaSIseWU9KGg9dCkuZm5bZmldLGVpPSJhY3RpdmUiLHBlPSJidG4iLHJmPSdbZGF0YS10b2dnbGVePSJidXR0b24iXScsYmU9J1tkYXRhLXRvZ2dsZT0iYnV0dG9ucyJdJyxrZT0iaW5wdXQiLGRlPSIuYWN0aXZlIix1Zj0iLmJ0biIsZmY9e0NMSUNLX0RBVEFfQVBJOiJjbGljayIrdHUraXUsRk9DVVNfQkxVUl9EQVRBX0FQSTood2U9ImZvY3VzIikrdHUraXUrIiBibHVyIit0dStpdX0sb2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4pe3RoaXMuX2VsZW1lbnQ9bn12YXIgdD1uLnByb3RvdHlwZTtyZXR1cm4gdC50b2dnbGU9ZnVuY3Rpb24oKXt2YXIgaT0hMCx1PSEwLHQ9aCh0aGlzLl9lbGVtZW50KS5jbG9zZXN0KGJlKVswXSxuLHI7aWYodCYmKG49aCh0aGlzLl9lbGVtZW50KS5maW5kKGtlKVswXSxuKSl7aWYoInJhZGlvIj09PW4udHlwZSYmKG4uY2hlY2tlZCYmaCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlaSk/aT0hMToocj1oKHQpLmZpbmQoZGUpWzBdLHImJmgocikucmVtb3ZlQ2xhc3MoZWkpKSksaSl7aWYobi5oYXNBdHRyaWJ1dGUoImRpc2FibGVkIil8fHQuaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpfHxuLmNsYXNzTGlzdC5jb250YWlucygiZGlzYWJsZWQiKXx8dC5jbGFzc0xpc3QuY29udGFpbnMoImRpc2FibGVkIikpcmV0dXJuO24uY2hlY2tlZD0haCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlaSk7aChuKS50cmlnZ2VyKCJjaGFuZ2UiKX1uLmZvY3VzKCk7dT0hMX11JiZ0aGlzLl9lbGVtZW50LnNldEF0dHJpYnV0ZSgiYXJpYS1wcmVzc2VkIiwhaCh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhlaSkpO2kmJmgodGhpcy5fZWxlbWVudCkudG9nZ2xlQ2xhc3MoZWkpfSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXtoLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxudSk7dGhpcy5fZWxlbWVudD1udWxsfSxuLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPWgodGhpcykuZGF0YShudSk7aXx8KGk9bmV3IG4odGhpcyksaCh0aGlzKS5kYXRhKG51LGkpKTsidG9nZ2xlIj09PXQmJmlbdF0oKX0pfSxudChuLG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjEuMSJ9fV0pLG59KCksaChkb2N1bWVudCkub24oZmYuQ0xJQ0tfREFUQV9BUEkscmYsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3ZhciB0PW4udGFyZ2V0O2godCkuaGFzQ2xhc3MocGUpfHwodD1oKHQpLmNsb3Nlc3QodWYpKTtvaS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoaCh0KSwidG9nZ2xlIil9KS5vbihmZi5GT0NVU19CTFVSX0RBVEFfQVBJLHJmLGZ1bmN0aW9uKG4pe3ZhciB0PWgobi50YXJnZXQpLmNsb3Nlc3QodWYpWzBdO2godCkudG9nZ2xlQ2xhc3Mod2UsL15mb2N1cyhpbik/JC8udGVzdChuLnR5cGUpKX0pLGguZm5bZmldPW9pLl9qUXVlcnlJbnRlcmZhY2UsaC5mbltmaV0uQ29uc3RydWN0b3I9b2ksaC5mbltmaV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBoLmZuW2ZpXT15ZSxvaS5falF1ZXJ5SW50ZXJmYWNlfSxvaSksaWw9KHB0PSJjYXJvdXNlbCIsdHQ9Ii4iKyh1cj0iYnMuY2Fyb3VzZWwiKSxlZj0iLmRhdGEtYXBpIixnZT0odT10KS5mbltwdF0scnU9e2ludGVydmFsOjVlMyxrZXlib2FyZDohMCxzbGlkZTohMSxwYXVzZToiaG92ZXIiLHdyYXA6ITB9LG5vPXtpbnRlcnZhbDoiKG51bWJlcnxib29sZWFuKSIsa2V5Ym9hcmQ6ImJvb2xlYW4iLHNsaWRlOiIoYm9vbGVhbnxzdHJpbmcpIixwYXVzZToiKHN0cmluZ3xib29sZWFuKSIsd3JhcDoiYm9vbGVhbiJ9LGZyPSJuZXh0Iixlcj0icHJldiIsdG89ImxlZnQiLGlvPSJyaWdodCIsaXQ9e1NMSURFOiJzbGlkZSIrdHQsU0xJRDoic2xpZCIrdHQsS0VZRE9XTjoia2V5ZG93biIrdHQsTU9VU0VFTlRFUjoibW91c2VlbnRlciIrdHQsTU9VU0VMRUFWRToibW91c2VsZWF2ZSIrdHQsVE9VQ0hFTkQ6InRvdWNoZW5kIit0dCxMT0FEX0RBVEFfQVBJOiJsb2FkIit0dCtlZixDTElDS19EQVRBX0FQSToiY2xpY2siK3R0K2VmfSxybz0iY2Fyb3VzZWwiLG90PSJhY3RpdmUiLHVvPSJzbGlkZSIsZm89ImNhcm91c2VsLWl0ZW0tcmlnaHQiLGVvPSJjYXJvdXNlbC1pdGVtLWxlZnQiLG9vPSJjYXJvdXNlbC1pdGVtLW5leHQiLHNvPSJjYXJvdXNlbC1pdGVtLXByZXYiLHJ0PXtBQ1RJVkU6Ii5hY3RpdmUiLEFDVElWRV9JVEVNOiIuYWN0aXZlLmNhcm91c2VsLWl0ZW0iLElURU06Ii5jYXJvdXNlbC1pdGVtIixORVhUX1BSRVY6Ii5jYXJvdXNlbC1pdGVtLW5leHQsIC5jYXJvdXNlbC1pdGVtLXByZXYiLElORElDQVRPUlM6Ii5jYXJvdXNlbC1pbmRpY2F0b3JzIixEQVRBX1NMSURFOiJbZGF0YS1zbGlkZV0sIFtkYXRhLXNsaWRlLXRvXSIsREFUQV9SSURFOidbZGF0YS1yaWRlPSJjYXJvdXNlbCJdJ30sd3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4sdCl7dGhpcy5faXRlbXM9bnVsbDt0aGlzLl9pbnRlcnZhbD1udWxsO3RoaXMuX2FjdGl2ZUVsZW1lbnQ9bnVsbDt0aGlzLl9pc1BhdXNlZD0hMTt0aGlzLl9pc1NsaWRpbmc9ITE7dGhpcy50b3VjaFRpbWVvdXQ9bnVsbDt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMuX2VsZW1lbnQ9dShuKVswXTt0aGlzLl9pbmRpY2F0b3JzRWxlbWVudD11KHRoaXMuX2VsZW1lbnQpLmZpbmQocnQuSU5ESUNBVE9SUylbMF07dGhpcy5fYWRkRXZlbnRMaXN0ZW5lcnMoKX12YXIgbj10LnByb3RvdHlwZTtyZXR1cm4gbi5uZXh0PWZ1bmN0aW9uKCl7dGhpcy5faXNTbGlkaW5nfHx0aGlzLl9zbGlkZShmcil9LG4ubmV4dFdoZW5WaXNpYmxlPWZ1bmN0aW9uKCl7IWRvY3VtZW50LmhpZGRlbiYmdSh0aGlzLl9lbGVtZW50KS5pcygiOnZpc2libGUiKSYmImhpZGRlbiIhPT11KHRoaXMuX2VsZW1lbnQpLmNzcygidmlzaWJpbGl0eSIpJiZ0aGlzLm5leHQoKX0sbi5wcmV2PWZ1bmN0aW9uKCl7dGhpcy5faXNTbGlkaW5nfHx0aGlzLl9zbGlkZShlcil9LG4ucGF1c2U9ZnVuY3Rpb24obil7bnx8KHRoaXMuX2lzUGF1c2VkPSEwKTt1KHRoaXMuX2VsZW1lbnQpLmZpbmQocnQuTkVYVF9QUkVWKVswXSYmKGYudHJpZ2dlclRyYW5zaXRpb25FbmQodGhpcy5fZWxlbWVudCksdGhpcy5jeWNsZSghMCkpO2NsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO3RoaXMuX2ludGVydmFsPW51bGx9LG4uY3ljbGU9ZnVuY3Rpb24obil7bnx8KHRoaXMuX2lzUGF1c2VkPSExKTt0aGlzLl9pbnRlcnZhbCYmKGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpLHRoaXMuX2ludGVydmFsPW51bGwpO3RoaXMuX2NvbmZpZy5pbnRlcnZhbCYmIXRoaXMuX2lzUGF1c2VkJiYodGhpcy5faW50ZXJ2YWw9c2V0SW50ZXJ2YWwoKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT90aGlzLm5leHRXaGVuVmlzaWJsZTp0aGlzLm5leHQpLmJpbmQodGhpcyksdGhpcy5fY29uZmlnLmludGVydmFsKSl9LG4udG89ZnVuY3Rpb24obil7dmFyIHI9dGhpcyx0LGk7aWYodGhpcy5fYWN0aXZlRWxlbWVudD11KHRoaXMuX2VsZW1lbnQpLmZpbmQocnQuQUNUSVZFX0lURU0pWzBdLHQ9dGhpcy5fZ2V0SXRlbUluZGV4KHRoaXMuX2FjdGl2ZUVsZW1lbnQpLCEobj50aGlzLl9pdGVtcy5sZW5ndGgtMXx8bjwwKSlpZih0aGlzLl9pc1NsaWRpbmcpdSh0aGlzLl9lbGVtZW50KS5vbmUoaXQuU0xJRCxmdW5jdGlvbigpe3JldHVybiByLnRvKG4pfSk7ZWxzZXtpZih0PT09bilyZXR1cm4gdGhpcy5wYXVzZSgpLHZvaWQgdGhpcy5jeWNsZSgpO2k9dDxuP2ZyOmVyO3RoaXMuX3NsaWRlKGksdGhpcy5faXRlbXNbbl0pfX0sbi5kaXNwb3NlPWZ1bmN0aW9uKCl7dSh0aGlzLl9lbGVtZW50KS5vZmYodHQpO3UucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LHVyKTt0aGlzLl9pdGVtcz1udWxsO3RoaXMuX2NvbmZpZz1udWxsO3RoaXMuX2VsZW1lbnQ9bnVsbDt0aGlzLl9pbnRlcnZhbD1udWxsO3RoaXMuX2lzUGF1c2VkPW51bGw7dGhpcy5faXNTbGlkaW5nPW51bGw7dGhpcy5fYWN0aXZlRWxlbWVudD1udWxsO3RoaXMuX2luZGljYXRvcnNFbGVtZW50PW51bGx9LG4uX2dldENvbmZpZz1mdW5jdGlvbihuKXtyZXR1cm4gbj1hKHt9LHJ1LG4pLGYudHlwZUNoZWNrQ29uZmlnKHB0LG4sbm8pLG59LG4uX2FkZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIG49dGhpczt0aGlzLl9jb25maWcua2V5Ym9hcmQmJnUodGhpcy5fZWxlbWVudCkub24oaXQuS0VZRE9XTixmdW5jdGlvbih0KXtyZXR1cm4gbi5fa2V5ZG93bih0KX0pOyJob3ZlciI9PT10aGlzLl9jb25maWcucGF1c2UmJih1KHRoaXMuX2VsZW1lbnQpLm9uKGl0Lk1PVVNFRU5URVIsZnVuY3Rpb24odCl7cmV0dXJuIG4ucGF1c2UodCl9KS5vbihpdC5NT1VTRUxFQVZFLGZ1bmN0aW9uKHQpe3JldHVybiBuLmN5Y2xlKHQpfSksIm9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJnUodGhpcy5fZWxlbWVudCkub24oaXQuVE9VQ0hFTkQsZnVuY3Rpb24oKXtuLnBhdXNlKCk7bi50b3VjaFRpbWVvdXQmJmNsZWFyVGltZW91dChuLnRvdWNoVGltZW91dCk7bi50b3VjaFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbih0KXtyZXR1cm4gbi5jeWNsZSh0KX0sNTAwK24uX2NvbmZpZy5pbnRlcnZhbCl9KSl9LG4uX2tleWRvd249ZnVuY3Rpb24obil7aWYoIS9pbnB1dHx0ZXh0YXJlYS9pLnRlc3Qobi50YXJnZXQudGFnTmFtZSkpc3dpdGNoKG4ud2hpY2gpe2Nhc2UgMzc6bi5wcmV2ZW50RGVmYXVsdCgpO3RoaXMucHJldigpO2JyZWFrO2Nhc2UgMzk6bi5wcmV2ZW50RGVmYXVsdCgpO3RoaXMubmV4dCgpfX0sbi5fZ2V0SXRlbUluZGV4PWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLl9pdGVtcz11Lm1ha2VBcnJheSh1KG4pLnBhcmVudCgpLmZpbmQocnQuSVRFTSkpLHRoaXMuX2l0ZW1zLmluZGV4T2Yobil9LG4uX2dldEl0ZW1CeURpcmVjdGlvbj1mdW5jdGlvbihuLHQpe3ZhciB1PW49PT1mcixmPW49PT1lcixpPXRoaXMuX2dldEl0ZW1JbmRleCh0KSxlPXRoaXMuX2l0ZW1zLmxlbmd0aC0xLHI7cmV0dXJuKGYmJjA9PT1pfHx1JiZpPT09ZSkmJiF0aGlzLl9jb25maWcud3JhcD90OihyPShpKyhuPT09ZXI/LTE6MSkpJXRoaXMuX2l0ZW1zLmxlbmd0aCwtMT09PXI/dGhpcy5faXRlbXNbdGhpcy5faXRlbXMubGVuZ3RoLTFdOnRoaXMuX2l0ZW1zW3JdKX0sbi5fdHJpZ2dlclNsaWRlRXZlbnQ9ZnVuY3Rpb24obix0KXt2YXIgcj10aGlzLl9nZXRJdGVtSW5kZXgobiksZj10aGlzLl9nZXRJdGVtSW5kZXgodSh0aGlzLl9lbGVtZW50KS5maW5kKHJ0LkFDVElWRV9JVEVNKVswXSksaT11LkV2ZW50KGl0LlNMSURFLHtyZWxhdGVkVGFyZ2V0Om4sZGlyZWN0aW9uOnQsZnJvbTpmLHRvOnJ9KTtyZXR1cm4gdSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGkpLGl9LG4uX3NldEFjdGl2ZUluZGljYXRvckVsZW1lbnQ9ZnVuY3Rpb24obil7aWYodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpe3UodGhpcy5faW5kaWNhdG9yc0VsZW1lbnQpLmZpbmQocnQuQUNUSVZFKS5yZW1vdmVDbGFzcyhvdCk7dmFyIHQ9dGhpcy5faW5kaWNhdG9yc0VsZW1lbnQuY2hpbGRyZW5bdGhpcy5fZ2V0SXRlbUluZGV4KG4pXTt0JiZ1KHQpLmFkZENsYXNzKG90KX19LG4uX3NsaWRlPWZ1bmN0aW9uKG4sdCl7dmFyIGUsbyxzLGM9dGhpcyxyPXUodGhpcy5fZWxlbWVudCkuZmluZChydC5BQ1RJVkVfSVRFTSlbMF0sdj10aGlzLl9nZXRJdGVtSW5kZXgociksaT10fHxyJiZ0aGlzLl9nZXRJdGVtQnlEaXJlY3Rpb24obixyKSx5PXRoaXMuX2dldEl0ZW1JbmRleChpKSxsPUJvb2xlYW4odGhpcy5faW50ZXJ2YWwpLGgsYTsobj09PWZyPyhlPWVvLG89b28scz10byk6KGU9Zm8sbz1zbyxzPWlvKSxpJiZ1KGkpLmhhc0NsYXNzKG90KSk/dGhpcy5faXNTbGlkaW5nPSExOiF0aGlzLl90cmlnZ2VyU2xpZGVFdmVudChpLHMpLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZyJiZpJiYodGhpcy5faXNTbGlkaW5nPSEwLGwmJnRoaXMucGF1c2UoKSx0aGlzLl9zZXRBY3RpdmVJbmRpY2F0b3JFbGVtZW50KGkpLGg9dS5FdmVudChpdC5TTElELHtyZWxhdGVkVGFyZ2V0OmksZGlyZWN0aW9uOnMsZnJvbTp2LHRvOnl9KSx1KHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKHVvKT8odShpKS5hZGRDbGFzcyhvKSxmLnJlZmxvdyhpKSx1KHIpLmFkZENsYXNzKGUpLHUoaSkuYWRkQ2xhc3MoZSksYT1mLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHIpLHUocikub25lKGYuVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24oKXt1KGkpLnJlbW92ZUNsYXNzKGUrIiAiK28pLmFkZENsYXNzKG90KTt1KHIpLnJlbW92ZUNsYXNzKG90KyIgIitvKyIgIitlKTtjLl9pc1NsaWRpbmc9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiB1KGMuX2VsZW1lbnQpLnRyaWdnZXIoaCl9LDApfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQoYSkpOih1KHIpLnJlbW92ZUNsYXNzKG90KSx1KGkpLmFkZENsYXNzKG90KSx0aGlzLl9pc1NsaWRpbmc9ITEsdSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKGgpKSxsJiZ0aGlzLmN5Y2xlKCkpfSx0Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPXUodGhpcykuZGF0YSh1cikscj1hKHt9LHJ1LHUodGhpcykuZGF0YSgpKSxmO2lmKCJvYmplY3QiPT10eXBlb2YgbiYmKHI9YSh7fSxyLG4pKSxmPSJzdHJpbmciPT10eXBlb2Ygbj9uOnIuc2xpZGUsaXx8KGk9bmV3IHQodGhpcyxyKSx1KHRoaXMpLmRhdGEodXIsaSkpLCJudW1iZXIiPT10eXBlb2YgbilpLnRvKG4pO2Vsc2UgaWYoInN0cmluZyI9PXR5cGVvZiBmKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIGlbZl0pdGhyb3cgbmV3IFR5cGVFcnJvcignTm8gbWV0aG9kIG5hbWVkICInK2YrJyInKTtpW2ZdKCl9ZWxzZSByLmludGVydmFsJiYoaS5wYXVzZSgpLGkuY3ljbGUoKSl9KX0sdC5fZGF0YUFwaUNsaWNrSGFuZGxlcj1mdW5jdGlvbihuKXt2YXIgbz1mLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcyksaSxlLHI7byYmKGk9dShvKVswXSxpJiZ1KGkpLmhhc0NsYXNzKHJvKSYmKGU9YSh7fSx1KGkpLmRhdGEoKSx1KHRoaXMpLmRhdGEoKSkscj10aGlzLmdldEF0dHJpYnV0ZSgiZGF0YS1zbGlkZS10byIpLHImJihlLmludGVydmFsPSExKSx0Ll9qUXVlcnlJbnRlcmZhY2UuY2FsbCh1KGkpLGUpLHImJnUoaSkuZGF0YSh1cikudG8ociksbi5wcmV2ZW50RGVmYXVsdCgpKSl9LG50KHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiBydX19XSksdH0oKSx1KGRvY3VtZW50KS5vbihpdC5DTElDS19EQVRBX0FQSSxydC5EQVRBX1NMSURFLHd0Ll9kYXRhQXBpQ2xpY2tIYW5kbGVyKSx1KHdpbmRvdykub24oaXQuTE9BRF9EQVRBX0FQSSxmdW5jdGlvbigpe3UocnQuREFUQV9SSURFKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIG49dSh0aGlzKTt3dC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwobixuLmRhdGEoKSl9KX0pLHUuZm5bcHRdPXd0Ll9qUXVlcnlJbnRlcmZhY2UsdS5mbltwdF0uQ29uc3RydWN0b3I9d3QsdS5mbltwdF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiB1LmZuW3B0XT1nZSx3dC5falF1ZXJ5SW50ZXJmYWNlfSx3dCkscmw9KGJ0PSJjb2xsYXBzZSIsc2k9Ii4iKyhrdD0iYnMuY29sbGFwc2UiKSxobz0obz10KS5mbltidF0sdXU9e3RvZ2dsZTohMCxwYXJlbnQ6IiJ9LGNvPXt0b2dnbGU6ImJvb2xlYW4iLHBhcmVudDoiKHN0cmluZ3xlbGVtZW50KSJ9LGhpPXtTSE9XOiJzaG93IitzaSxTSE9XTjoic2hvd24iK3NpLEhJREU6ImhpZGUiK3NpLEhJRERFTjoiaGlkZGVuIitzaSxDTElDS19EQVRBX0FQSToiY2xpY2siK3NpKyIuZGF0YS1hcGkifSxzdD0ic2hvdyIsb3I9ImNvbGxhcHNlIixzcj0iY29sbGFwc2luZyIsZnU9ImNvbGxhcHNlZCIsb2Y9IndpZHRoIixsbz0iaGVpZ2h0IixldT17QUNUSVZFUzoiLnNob3csIC5jb2xsYXBzaW5nIixEQVRBX1RPR0dMRTonW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdJ30sY2k9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KG4sdCl7dmFyIHUsaSxlLHI7Zm9yKHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMSx0aGlzLl9lbGVtZW50PW4sdGhpcy5fY29uZmlnPXRoaXMuX2dldENvbmZpZyh0KSx0aGlzLl90cmlnZ2VyQXJyYXk9by5tYWtlQXJyYXkobygnW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdW2hyZWY9IiMnK24uaWQrJyJdLFtkYXRhLXRvZ2dsZT0iY29sbGFwc2UiXVtkYXRhLXRhcmdldD0iIycrbi5pZCsnIl0nKSksdT1vKGV1LkRBVEFfVE9HR0xFKSxpPTA7aTx1Lmxlbmd0aDtpKyspZT11W2ldLHI9Zi5nZXRTZWxlY3RvckZyb21FbGVtZW50KGUpLG51bGwhPT1yJiYwPG8ocikuZmlsdGVyKG4pLmxlbmd0aCYmKHRoaXMuX3NlbGVjdG9yPXIsdGhpcy5fdHJpZ2dlckFycmF5LnB1c2goZSkpO3RoaXMuX3BhcmVudD10aGlzLl9jb25maWcucGFyZW50P3RoaXMuX2dldFBhcmVudCgpOm51bGw7dGhpcy5fY29uZmlnLnBhcmVudHx8dGhpcy5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuX2VsZW1lbnQsdGhpcy5fdHJpZ2dlckFycmF5KTt0aGlzLl9jb25maWcudG9nZ2xlJiZ0aGlzLnRvZ2dsZSgpfXZhciBuPXQucHJvdG90eXBlO3JldHVybiBuLnRvZ2dsZT1mdW5jdGlvbigpe28odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3Moc3QpP3RoaXMuaGlkZSgpOnRoaXMuc2hvdygpfSxuLnNob3c9ZnVuY3Rpb24oKXt2YXIgbix1LHI9dGhpcyxlLGkscyxoO3RoaXMuX2lzVHJhbnNpdGlvbmluZ3x8byh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyhzdCl8fCh0aGlzLl9wYXJlbnQmJjA9PT0obj1vLm1ha2VBcnJheShvKHRoaXMuX3BhcmVudCkuZmluZChldS5BQ1RJVkVTKS5maWx0ZXIoJ1tkYXRhLXBhcmVudD0iJyt0aGlzLl9jb25maWcucGFyZW50KyciXScpKSkubGVuZ3RoJiYobj1udWxsKSxuJiYodT1vKG4pLm5vdCh0aGlzLl9zZWxlY3RvcikuZGF0YShrdCkpJiZ1Ll9pc1RyYW5zaXRpb25pbmcpfHwoZT1vLkV2ZW50KGhpLlNIT1cpLChvKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIoZSksZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl8fChuJiYodC5falF1ZXJ5SW50ZXJmYWNlLmNhbGwobyhuKS5ub3QodGhpcy5fc2VsZWN0b3IpLCJoaWRlIiksdXx8byhuKS5kYXRhKGt0LG51bGwpKSxpPXRoaXMuX2dldERpbWVuc2lvbigpLG8odGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3Mob3IpLmFkZENsYXNzKHNyKSwodGhpcy5fZWxlbWVudC5zdHlsZVtpXT0wKTx0aGlzLl90cmlnZ2VyQXJyYXkubGVuZ3RoJiZvKHRoaXMuX3RyaWdnZXJBcnJheSkucmVtb3ZlQ2xhc3MoZnUpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCEwKSx0aGlzLnNldFRyYW5zaXRpb25pbmcoITApLHM9InNjcm9sbCIrKGlbMF0udG9VcHBlckNhc2UoKStpLnNsaWNlKDEpKSxoPWYuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCksbyh0aGlzLl9lbGVtZW50KS5vbmUoZi5UUkFOU0lUSU9OX0VORCxmdW5jdGlvbigpe28oci5fZWxlbWVudCkucmVtb3ZlQ2xhc3Moc3IpLmFkZENsYXNzKG9yKS5hZGRDbGFzcyhzdCk7ci5fZWxlbWVudC5zdHlsZVtpXT0iIjtyLnNldFRyYW5zaXRpb25pbmcoITEpO28oci5fZWxlbWVudCkudHJpZ2dlcihoaS5TSE9XTil9KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChoKSx0aGlzLl9lbGVtZW50LnN0eWxlW2ldPXRoaXMuX2VsZW1lbnRbc10rInB4IikpfSxuLmhpZGU9ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGksbix0LHIsdSxzO2lmKCF0aGlzLl9pc1RyYW5zaXRpb25pbmcmJm8odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3Moc3QpJiYoaT1vLkV2ZW50KGhpLkhJREUpLG8odGhpcy5fZWxlbWVudCkudHJpZ2dlcihpKSwhaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpe2lmKG49dGhpcy5fZ2V0RGltZW5zaW9uKCksdGhpcy5fZWxlbWVudC5zdHlsZVtuXT10aGlzLl9lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW25dKyJweCIsZi5yZWZsb3codGhpcy5fZWxlbWVudCksbyh0aGlzLl9lbGVtZW50KS5hZGRDbGFzcyhzcikucmVtb3ZlQ2xhc3Mob3IpLnJlbW92ZUNsYXNzKHN0KSwwPHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGgpZm9yKHQ9MDt0PHRoaXMuX3RyaWdnZXJBcnJheS5sZW5ndGg7dCsrKXI9dGhpcy5fdHJpZ2dlckFycmF5W3RdLHU9Zi5nZXRTZWxlY3RvckZyb21FbGVtZW50KHIpLG51bGwhPT11JiYobyh1KS5oYXNDbGFzcyhzdCl8fG8ocikuYWRkQ2xhc3MoZnUpLmF0dHIoImFyaWEtZXhwYW5kZWQiLCExKSk7dGhpcy5zZXRUcmFuc2l0aW9uaW5nKCEwKTt0aGlzLl9lbGVtZW50LnN0eWxlW25dPSIiO3M9Zi5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KTtvKHRoaXMuX2VsZW1lbnQpLm9uZShmLlRSQU5TSVRJT05fRU5ELGZ1bmN0aW9uKCl7ZS5zZXRUcmFuc2l0aW9uaW5nKCExKTtvKGUuX2VsZW1lbnQpLnJlbW92ZUNsYXNzKHNyKS5hZGRDbGFzcyhvcikudHJpZ2dlcihoaS5ISURERU4pfSkuZW11bGF0ZVRyYW5zaXRpb25FbmQocyl9fSxuLnNldFRyYW5zaXRpb25pbmc9ZnVuY3Rpb24obil7dGhpcy5faXNUcmFuc2l0aW9uaW5nPW59LG4uZGlzcG9zZT1mdW5jdGlvbigpe28ucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LGt0KTt0aGlzLl9jb25maWc9bnVsbDt0aGlzLl9wYXJlbnQ9bnVsbDt0aGlzLl9lbGVtZW50PW51bGw7dGhpcy5fdHJpZ2dlckFycmF5PW51bGw7dGhpcy5faXNUcmFuc2l0aW9uaW5nPW51bGx9LG4uX2dldENvbmZpZz1mdW5jdGlvbihuKXtyZXR1cm4obj1hKHt9LHV1LG4pKS50b2dnbGU9Qm9vbGVhbihuLnRvZ2dsZSksZi50eXBlQ2hlY2tDb25maWcoYnQsbixjbyksbn0sbi5fZ2V0RGltZW5zaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIG8odGhpcy5fZWxlbWVudCkuaGFzQ2xhc3Mob2YpP29mOmxvfSxuLl9nZXRQYXJlbnQ9ZnVuY3Rpb24oKXt2YXIgcj10aGlzLG49bnVsbCxpO3JldHVybiBmLmlzRWxlbWVudCh0aGlzLl9jb25maWcucGFyZW50KT8obj10aGlzLl9jb25maWcucGFyZW50LCJ1bmRlZmluZWQiIT10eXBlb2YgdGhpcy5fY29uZmlnLnBhcmVudC5qcXVlcnkmJihuPXRoaXMuX2NvbmZpZy5wYXJlbnRbMF0pKTpuPW8odGhpcy5fY29uZmlnLnBhcmVudClbMF0saT0nW2RhdGEtdG9nZ2xlPSJjb2xsYXBzZSJdW2RhdGEtcGFyZW50PSInK3RoaXMuX2NvbmZpZy5wYXJlbnQrJyJdJyxvKG4pLmZpbmQoaSkuZWFjaChmdW5jdGlvbihuLGkpe3IuX2FkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyh0Ll9nZXRUYXJnZXRGcm9tRWxlbWVudChpKSxbaV0pfSksbn0sbi5fYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzPWZ1bmN0aW9uKG4sdCl7aWYobil7dmFyIGk9byhuKS5oYXNDbGFzcyhzdCk7MDx0Lmxlbmd0aCYmbyh0KS50b2dnbGVDbGFzcyhmdSwhaSkuYXR0cigiYXJpYS1leHBhbmRlZCIsaSl9fSx0Ll9nZXRUYXJnZXRGcm9tRWxlbWVudD1mdW5jdGlvbihuKXt2YXIgdD1mLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQobik7cmV0dXJuIHQ/byh0KVswXTpudWxsfSx0Ll9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciByPW8odGhpcyksaT1yLmRhdGEoa3QpLHU9YSh7fSx1dSxyLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG4mJm4/bjp7fSk7aWYoIWkmJnUudG9nZ2xlJiYvc2hvd3xoaWRlLy50ZXN0KG4pJiYodS50b2dnbGU9ITEpLGl8fChpPW5ldyB0KHRoaXMsdSksci5kYXRhKGt0LGkpKSwic3RyaW5nIj09dHlwZW9mIG4pe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaVtuXSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrbisnIicpO2lbbl0oKX19KX0sbnQodCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC4xLjEifX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHV1fX1dKSx0fSgpLG8oZG9jdW1lbnQpLm9uKGhpLkNMSUNLX0RBVEFfQVBJLGV1LkRBVEFfVE9HR0xFLGZ1bmN0aW9uKG4peyJBIj09PW4uY3VycmVudFRhcmdldC50YWdOYW1lJiZuLnByZXZlbnREZWZhdWx0KCk7dmFyIHQ9byh0aGlzKSxpPWYuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKTtvKGkpLmVhY2goZnVuY3Rpb24oKXt2YXIgbj1vKHRoaXMpLGk9bi5kYXRhKGt0KT8idG9nZ2xlIjp0LmRhdGEoKTtjaS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwobixpKX0pfSksby5mbltidF09Y2kuX2pRdWVyeUludGVyZmFjZSxvLmZuW2J0XS5Db25zdHJ1Y3Rvcj1jaSxvLmZuW2J0XS5ub0NvbmZsaWN0PWZ1bmN0aW9uKCl7cmV0dXJuIG8uZm5bYnRdPWhvLGNpLl9qUXVlcnlJbnRlcmZhY2V9LGNpKSxvdT0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudCxhbz1bIkVkZ2UiLCJUcmlkZW50IiwiRmlyZWZveCJdLHZvPTAsc2Y9MDtzZjxhby5sZW5ndGg7c2YrPTEpaWYob3UmJjA8PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihhb1tzZl0pKXt2bz0xO2JyZWFrfXlvPW91JiZ3aW5kb3cuUHJvbWlzZT9mdW5jdGlvbihuKXt2YXIgdD0hMTtyZXR1cm4gZnVuY3Rpb24oKXt0fHwodD0hMCx3aW5kb3cuUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3Q9ITE7bigpfSkpfX06ZnVuY3Rpb24obil7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7dHx8KHQ9ITAsc2V0VGltZW91dChmdW5jdGlvbigpe3Q9ITE7bigpfSx2bykpfX07Y2Y9b3UmJiEoIXdpbmRvdy5NU0lucHV0TWV0aG9kQ29udGV4dHx8IWRvY3VtZW50LmRvY3VtZW50TW9kZSk7bGY9b3UmJi9NU0lFIDEwLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO3ZhciB1bD1mdW5jdGlvbihuLHQpe2lmKCEobiBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpO30sZmw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7Zm9yKHZhciBpLHI9MDtyPHQubGVuZ3RoO3IrKylpPXRbcl0saS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsInZhbHVlImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkobixpLmtleSxpKX1yZXR1cm4gZnVuY3Rpb24odCxpLHIpe3JldHVybiBpJiZuKHQucHJvdG90eXBlLGkpLHImJm4odCxyKSx0fX0oKSx5aT1mdW5jdGlvbihuLHQsaSl7cmV0dXJuIHQgaW4gbj9PYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6blt0XT1pLG59LHc9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24obil7Zm9yKHZhciBpLHIsdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe2k9YXJndW1lbnRzW3RdO2ZvcihyIGluIGkpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGkscikmJihuW3JdPWlbcl0pfXJldHVybiBufTtkZj1bImF1dG8tc3RhcnQiLCJhdXRvIiwiYXV0by1lbmQiLCJ0b3Atc3RhcnQiLCJ0b3AiLCJ0b3AtZW5kIiwicmlnaHQtc3RhcnQiLCJyaWdodCIsInJpZ2h0LWVuZCIsImJvdHRvbS1lbmQiLCJib3R0b20iLCJib3R0b20tc3RhcnQiLCJsZWZ0LWVuZCIsImxlZnQiLCJsZWZ0LXN0YXJ0Il07Y3U9ZGYuc2xpY2UoMyk7bHU9e0ZMSVA6ImZsaXAiLENMT0NLV0lTRToiY2xvY2t3aXNlIixDT1VOVEVSQ0xPQ0tXSVNFOiJjb3VudGVyY2xvY2t3aXNlIn07aHM9e3BsYWNlbWVudDoiYm90dG9tIixwb3NpdGlvbkZpeGVkOiExLGV2ZW50c0VuYWJsZWQ6ITAscmVtb3ZlT25EZXN0cm95OiExLG9uQ3JlYXRlOmZ1bmN0aW9uKCl7fSxvblVwZGF0ZTpmdW5jdGlvbigpe30sbW9kaWZpZXJzOntzaGlmdDp7b3JkZXI6MTAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24obil7dmFyIHI9bi5wbGFjZW1lbnQsaD1yLnNwbGl0KCItIilbMF0sdT1yLnNwbGl0KCItIilbMV07aWYodSl7dmFyIGY9bi5vZmZzZXRzLGk9Zi5yZWZlcmVuY2UsZT1mLnBvcHBlcixvPS0xIT09WyJib3R0b20iLCJ0b3AiXS5pbmRleE9mKGgpLHQ9bz8ibGVmdCI6InRvcCIscz1vPyJ3aWR0aCI6ImhlaWdodCIsYz17c3RhcnQ6eWkoe30sdCxpW3RdKSxlbmQ6eWkoe30sdCxpW3RdK2lbc10tZVtzXSl9O24ub2Zmc2V0cy5wb3BwZXI9dyh7fSxlLGNbdV0pfXJldHVybiBufX0sb2Zmc2V0OntvcmRlcjoyMDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihuLHQpe3ZhciBmPXQub2Zmc2V0LG89bi5wbGFjZW1lbnQsZT1uLm9mZnNldHMsaT1lLnBvcHBlcixzPWUucmVmZXJlbmNlLHU9by5zcGxpdCgiLSIpWzBdLHI9dm9pZCAwO3JldHVybiByPWJmKCtmKT9bK2YsMF06c2woZixpLHMsdSksImxlZnQiPT09dT8oaS50b3ArPXJbMF0saS5sZWZ0LT1yWzFdKToicmlnaHQiPT09dT8oaS50b3ArPXJbMF0saS5sZWZ0Kz1yWzFdKToidG9wIj09PXU/KGkubGVmdCs9clswXSxpLnRvcC09clsxXSk6ImJvdHRvbSI9PT11JiYoaS5sZWZ0Kz1yWzBdLGkudG9wKz1yWzFdKSxuLnBvcHBlcj1pLG59LG9mZnNldDowfSxwcmV2ZW50T3ZlcmZsb3c6e29yZGVyOjMwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKG4sdCl7dmFyIGY9dC5ib3VuZGFyaWVzRWxlbWVudHx8YWkobi5pbnN0YW5jZS5wb3BwZXIpLHU7bi5pbnN0YW5jZS5yZWZlcmVuY2U9PT1mJiYoZj1haShmKSk7dmFyIGU9d2YoInRyYW5zZm9ybSIpLHI9bi5pbnN0YW5jZS5wb3BwZXIuc3R5bGUsbz1yLnRvcCxzPXIubGVmdCxoPXJbZV07ci50b3A9IiI7ci5sZWZ0PSIiO3JbZV09IiI7dT1wZihuLmluc3RhbmNlLnBvcHBlcixuLmluc3RhbmNlLnJlZmVyZW5jZSx0LnBhZGRpbmcsZixuLnBvc2l0aW9uRml4ZWQpO3IudG9wPW87ci5sZWZ0PXM7cltlXT1oO3QuYm91bmRhcmllcz11O3ZhciBjPXQucHJpb3JpdHksaT1uLm9mZnNldHMucG9wcGVyLGw9e3ByaW1hcnk6ZnVuY3Rpb24obil7dmFyIHI9aVtuXTtyZXR1cm4gaVtuXTx1W25dJiYhdC5lc2NhcGVXaXRoUmVmZXJlbmNlJiYocj1NYXRoLm1heChpW25dLHVbbl0pKSx5aSh7fSxuLHIpfSxzZWNvbmRhcnk6ZnVuY3Rpb24obil7dmFyIHI9InJpZ2h0Ij09PW4/ImxlZnQiOiJ0b3AiLGY9aVtyXTtyZXR1cm4gaVtuXT51W25dJiYhdC5lc2NhcGVXaXRoUmVmZXJlbmNlJiYoZj1NYXRoLm1pbihpW3JdLHVbbl0tKCJyaWdodCI9PT1uP2kud2lkdGg6aS5oZWlnaHQpKSkseWkoe30scixmKX19O3JldHVybiBjLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHQ9LTEhPT1bImxlZnQiLCJ0b3AiXS5pbmRleE9mKG4pPyJwcmltYXJ5Ijoic2Vjb25kYXJ5IjtpPXcoe30saSxsW3RdKG4pKX0pLG4ub2Zmc2V0cy5wb3BwZXI9aSxufSxwcmlvcml0eTpbImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSJdLHBhZGRpbmc6NSxib3VuZGFyaWVzRWxlbWVudDoic2Nyb2xsUGFyZW50In0sa2VlcFRvZ2V0aGVyOntvcmRlcjo0MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihuKXt2YXIgbz1uLm9mZnNldHMsdT1vLnBvcHBlcixpPW8ucmVmZXJlbmNlLHM9bi5wbGFjZW1lbnQuc3BsaXQoIi0iKVswXSxyPU1hdGguZmxvb3IsZj0tMSE9PVsidG9wIiwiYm90dG9tIl0uaW5kZXhPZihzKSxlPWY/InJpZ2h0IjoiYm90dG9tIix0PWY/ImxlZnQiOiJ0b3AiLGg9Zj8id2lkdGgiOiJoZWlnaHQiO3JldHVybiB1W2VdPHIoaVt0XSkmJihuLm9mZnNldHMucG9wcGVyW3RdPXIoaVt0XSktdVtoXSksdVt0XT5yKGlbZV0pJiYobi5vZmZzZXRzLnBvcHBlclt0XT1yKGlbZV0pKSxufX0sYXJyb3c6e29yZGVyOjUwMCxlbmFibGVkOiEwLGZuOmZ1bmN0aW9uKG4sdCl7dmFyIGgscjtpZighb3Mobi5pbnN0YW5jZS5tb2RpZmllcnMsImFycm93Iiwia2VlcFRvZ2V0aGVyIikpcmV0dXJuIG47aWYocj10LmVsZW1lbnQsInN0cmluZyI9PXR5cGVvZiByKXtpZighKHI9bi5pbnN0YW5jZS5wb3BwZXIucXVlcnlTZWxlY3RvcihyKSkpcmV0dXJuIG59ZWxzZSBpZighbi5pbnN0YW5jZS5wb3BwZXIuY29udGFpbnMocikpcmV0dXJuIGNvbnNvbGUud2FybigiV0FSTklORzogYGFycm93LmVsZW1lbnRgIG11c3QgYmUgY2hpbGQgb2YgaXRzIHBvcHBlciBlbGVtZW50ISIpLG47dmFyIHA9bi5wbGFjZW1lbnQuc3BsaXQoIi0iKVswXSx2PW4ub2Zmc2V0cyxlPXYucG9wcGVyLHU9di5yZWZlcmVuY2Usbz0tMSE9PVsibGVmdCIsInJpZ2h0Il0uaW5kZXhPZihwKSxjPW8/ImhlaWdodCI6IndpZHRoIixsPW8/IlRvcCI6IkxlZnQiLGk9bC50b0xvd2VyQ2FzZSgpLHc9bz8ibGVmdCI6InRvcCIscz1vPyJib3R0b20iOiJyaWdodCIsZj1pcyhyKVtjXTt1W3NdLWY8ZVtpXSYmKG4ub2Zmc2V0cy5wb3BwZXJbaV0tPWVbaV0tKHVbc10tZikpO3VbaV0rZj5lW3NdJiYobi5vZmZzZXRzLnBvcHBlcltpXSs9dVtpXStmLWVbc10pO24ub2Zmc2V0cy5wb3BwZXI9aHQobi5vZmZzZXRzLnBvcHBlcik7dmFyIGI9dVtpXSt1W2NdLzItZi8yLHk9ZHQobi5pbnN0YW5jZS5wb3BwZXIpLGs9cGFyc2VGbG9hdCh5WyJtYXJnaW4iK2xdLDEwKSxkPXBhcnNlRmxvYXQoeVsiYm9yZGVyIitsKyJXaWR0aCJdLDEwKSxhPWItbi5vZmZzZXRzLnBvcHBlcltpXS1rLWQ7cmV0dXJuIGE9TWF0aC5tYXgoTWF0aC5taW4oZVtjXS1mLGEpLDApLG4uYXJyb3dFbGVtZW50PXIsbi5vZmZzZXRzLmFycm93PSh5aShoPXt9LGksTWF0aC5yb3VuZChhKSkseWkoaCx3LCIiKSxoKSxufSxlbGVtZW50OiJbeC1hcnJvd10ifSxmbGlwOntvcmRlcjo2MDAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihuLHQpe2lmKGZzKG4uaW5zdGFuY2UubW9kaWZpZXJzLCJpbm5lciIpfHxuLmZsaXBwZWQmJm4ucGxhY2VtZW50PT09bi5vcmlnaW5hbFBsYWNlbWVudClyZXR1cm4gbjt2YXIgZj1wZihuLmluc3RhbmNlLnBvcHBlcixuLmluc3RhbmNlLnJlZmVyZW5jZSx0LnBhZGRpbmcsdC5ib3VuZGFyaWVzRWxlbWVudCxuLnBvc2l0aW9uRml4ZWQpLGk9bi5wbGFjZW1lbnQuc3BsaXQoIi0iKVswXSxlPWh1KGkpLHI9bi5wbGFjZW1lbnQuc3BsaXQoIi0iKVsxXXx8IiIsdT1bXTtzd2l0Y2godC5iZWhhdmlvcil7Y2FzZSBsdS5GTElQOnU9W2ksZV07YnJlYWs7Y2FzZSBsdS5DTE9DS1dJU0U6dT1zcyhpKTticmVhaztjYXNlIGx1LkNPVU5URVJDTE9DS1dJU0U6dT1zcyhpLCEwKTticmVhaztkZWZhdWx0OnU9dC5iZWhhdmlvcn1yZXR1cm4gdS5mb3JFYWNoKGZ1bmN0aW9uKG8scyl7aWYoaSE9PW98fHUubGVuZ3RoPT09cysxKXJldHVybiBuO2k9bi5wbGFjZW1lbnQuc3BsaXQoIi0iKVswXTtlPWh1KGkpO3ZhciB2LGM9bi5vZmZzZXRzLnBvcHBlcixsPW4ub2Zmc2V0cy5yZWZlcmVuY2UsaD1NYXRoLmZsb29yLHk9ImxlZnQiPT09aSYmaChjLnJpZ2h0KT5oKGwubGVmdCl8fCJyaWdodCI9PT1pJiZoKGMubGVmdCk8aChsLnJpZ2h0KXx8InRvcCI9PT1pJiZoKGMuYm90dG9tKT5oKGwudG9wKXx8ImJvdHRvbSI9PT1pJiZoKGMudG9wKTxoKGwuYm90dG9tKSxwPWgoYy5sZWZ0KTxoKGYubGVmdCksYj1oKGMucmlnaHQpPmgoZi5yaWdodCksaz1oKGMudG9wKTxoKGYudG9wKSxkPWgoYy5ib3R0b20pPmgoZi5ib3R0b20pLGc9ImxlZnQiPT09aSYmcHx8InJpZ2h0Ij09PWkmJmJ8fCJ0b3AiPT09aSYma3x8ImJvdHRvbSI9PT1pJiZkLGE9LTEhPT1bInRvcCIsImJvdHRvbSJdLmluZGV4T2YoaSksbnQ9ISF0LmZsaXBWYXJpYXRpb25zJiYoYSYmInN0YXJ0Ij09PXImJnB8fGEmJiJlbmQiPT09ciYmYnx8IWEmJiJzdGFydCI9PT1yJiZrfHwhYSYmImVuZCI9PT1yJiZkKTsoeXx8Z3x8bnQpJiYobi5mbGlwcGVkPSEwLCh5fHxnKSYmKGk9dVtzKzFdKSxudCYmKHI9ImVuZCI9PT0odj1yKT8ic3RhcnQiOiJzdGFydCI9PT12PyJlbmQiOnYpLG4ucGxhY2VtZW50PWkrKHI/Ii0iK3I6IiIpLG4ub2Zmc2V0cy5wb3BwZXI9dyh7fSxuLm9mZnNldHMucG9wcGVyLHJzKG4uaW5zdGFuY2UucG9wcGVyLG4ub2Zmc2V0cy5yZWZlcmVuY2Usbi5wbGFjZW1lbnQpKSxuPXVzKG4uaW5zdGFuY2UubW9kaWZpZXJzLG4sImZsaXAiKSl9KSxufSxiZWhhdmlvcjoiZmxpcCIscGFkZGluZzo1LGJvdW5kYXJpZXNFbGVtZW50OiJ2aWV3cG9ydCJ9LGlubmVyOntvcmRlcjo3MDAsZW5hYmxlZDohMSxmbjpmdW5jdGlvbihuKXt2YXIgcj1uLnBsYWNlbWVudCx0PXIuc3BsaXQoIi0iKVswXSx1PW4ub2Zmc2V0cyxpPXUucG9wcGVyLGU9dS5yZWZlcmVuY2UsZj0tMSE9PVsibGVmdCIsInJpZ2h0Il0uaW5kZXhPZih0KSxvPS0xPT09WyJ0b3AiLCJsZWZ0Il0uaW5kZXhPZih0KTtyZXR1cm4gaVtmPyJsZWZ0IjoidG9wIl09ZVt0XS0obz9pW2Y/IndpZHRoIjoiaGVpZ2h0Il06MCksbi5wbGFjZW1lbnQ9aHUociksbi5vZmZzZXRzLnBvcHBlcj1odChpKSxufX0saGlkZTp7b3JkZXI6ODAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24obil7aWYoIW9zKG4uaW5zdGFuY2UubW9kaWZpZXJzLCJoaWRlIiwicHJldmVudE92ZXJmbG93IikpcmV0dXJuIG47dmFyIHQ9bi5vZmZzZXRzLnJlZmVyZW5jZSxpPWNyKG4uaW5zdGFuY2UubW9kaWZpZXJzLGZ1bmN0aW9uKG4pe3JldHVybiJwcmV2ZW50T3ZlcmZsb3ciPT09bi5uYW1lfSkuYm91bmRhcmllcztpZih0LmJvdHRvbTxpLnRvcHx8dC5sZWZ0PmkucmlnaHR8fHQudG9wPmkuYm90dG9tfHx0LnJpZ2h0PGkubGVmdCl7aWYoITA9PT1uLmhpZGUpcmV0dXJuIG47bi5oaWRlPSEwO24uYXR0cmlidXRlc1sieC1vdXQtb2YtYm91bmRhcmllcyJdPSIifWVsc2V7aWYoITE9PT1uLmhpZGUpcmV0dXJuIG47bi5oaWRlPSExO24uYXR0cmlidXRlc1sieC1vdXQtb2YtYm91bmRhcmllcyJdPSExfXJldHVybiBufX0sY29tcHV0ZVN0eWxlOntvcmRlcjo4NTAsZW5hYmxlZDohMCxmbjpmdW5jdGlvbihuLHQpe3ZhciBwPXQueCxiPXQueSxyPW4ub2Zmc2V0cy5wb3BwZXIsbz1jcihuLmluc3RhbmNlLm1vZGlmaWVycyxmdW5jdGlvbihuKXtyZXR1cm4iYXBwbHlTdHlsZSI9PT1uLm5hbWV9KS5ncHVBY2NlbGVyYXRpb24sYSx2LHk7dm9pZCAwIT09byYmY29uc29sZS53YXJuKCJXQVJOSU5HOiBgZ3B1QWNjZWxlcmF0aW9uYCBvcHRpb24gbW92ZWQgdG8gYGNvbXB1dGVTdHlsZWAgbW9kaWZpZXIgYW5kIHdpbGwgbm90IGJlIHN1cHBvcnRlZCBpbiBmdXR1cmUgdmVyc2lvbnMgb2YgUG9wcGVyLmpzISIpO3ZhciBrPXZvaWQgMCE9PW8/bzp0LmdwdUFjY2VsZXJhdGlvbixjPXZmKGFpKG4uaW5zdGFuY2UucG9wcGVyKSksaT17cG9zaXRpb246ci5wb3NpdGlvbn0sZT17bGVmdDpNYXRoLmZsb29yKHIubGVmdCksdG9wOk1hdGgucm91bmQoci50b3ApLGJvdHRvbTpNYXRoLnJvdW5kKHIuYm90dG9tKSxyaWdodDpNYXRoLmZsb29yKHIucmlnaHQpfSx1PSJib3R0b20iPT09cD8idG9wIjoiYm90dG9tIixmPSJyaWdodCI9PT1iPyJsZWZ0IjoicmlnaHQiLGw9d2YoInRyYW5zZm9ybSIpLHM9dm9pZCAwLGg9dm9pZCAwO3JldHVybihoPSJib3R0b20iPT09dT8tYy5oZWlnaHQrZS5ib3R0b206ZS50b3Ascz0icmlnaHQiPT09Zj8tYy53aWR0aCtlLnJpZ2h0OmUubGVmdCxrJiZsKT8oaVtsXT0idHJhbnNsYXRlM2QoIitzKyJweCwgIitoKyJweCwgMCkiLGlbdV09MCxpW2ZdPTAsaS53aWxsQ2hhbmdlPSJ0cmFuc2Zvcm0iKTooYT0iYm90dG9tIj09PXU/LTE6MSx2PSJyaWdodCI9PT1mPy0xOjEsaVt1XT1oKmEsaVtmXT1zKnYsaS53aWxsQ2hhbmdlPXUrIiwgIitmKSx5PXsieC1wbGFjZW1lbnQiOm4ucGxhY2VtZW50fSxuLmF0dHJpYnV0ZXM9dyh7fSx5LG4uYXR0cmlidXRlcyksbi5zdHlsZXM9dyh7fSxpLG4uc3R5bGVzKSxuLmFycm93U3R5bGVzPXcoe30sbi5vZmZzZXRzLmFycm93LG4uYXJyb3dTdHlsZXMpLG59LGdwdUFjY2VsZXJhdGlvbjohMCx4OiJib3R0b20iLHk6InJpZ2h0In0sYXBwbHlTdHlsZTp7b3JkZXI6OTAwLGVuYWJsZWQ6ITAsZm46ZnVuY3Rpb24obil7dmFyIGksdDtyZXR1cm4ga2Yobi5pbnN0YW5jZS5wb3BwZXIsbi5zdHlsZXMpLGk9bi5pbnN0YW5jZS5wb3BwZXIsdD1uLmF0dHJpYnV0ZXMsT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihuKXshMSE9PXRbbl0/aS5zZXRBdHRyaWJ1dGUobix0W25dKTppLnJlbW92ZUF0dHJpYnV0ZShuKX0pLG4uYXJyb3dFbGVtZW50JiZPYmplY3Qua2V5cyhuLmFycm93U3R5bGVzKS5sZW5ndGgmJmtmKG4uYXJyb3dFbGVtZW50LG4uYXJyb3dTdHlsZXMpLG59LG9uTG9hZDpmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBmPXRzKHUsdCxuLGkucG9zaXRpb25GaXhlZCksZT1ucyhpLnBsYWNlbWVudCxmLHQsbixpLm1vZGlmaWVycy5mbGlwLmJvdW5kYXJpZXNFbGVtZW50LGkubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7cmV0dXJuIHQuc2V0QXR0cmlidXRlKCJ4LXBsYWNlbWVudCIsZSksa2YodCx7cG9zaXRpb246aS5wb3NpdGlvbkZpeGVkPyJmaXhlZCI6ImFic29sdXRlIn0pLGl9LGdwdUFjY2VsZXJhdGlvbjp2b2lkIDB9fX07Y3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKHQsaSl7dmFyIHI9dGhpcyx1PTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxmO3VsKHRoaXMsbik7dGhpcy5zY2hlZHVsZVVwZGF0ZT1mdW5jdGlvbigpe3JldHVybiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoci51cGRhdGUpfTt0aGlzLnVwZGF0ZT15byh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTt0aGlzLm9wdGlvbnM9dyh7fSxuLkRlZmF1bHRzLHUpO3RoaXMuc3RhdGU9e2lzRGVzdHJveWVkOiExLGlzQ3JlYXRlZDohMSxzY3JvbGxQYXJlbnRzOltdfTt0aGlzLnJlZmVyZW5jZT10JiZ0LmpxdWVyeT90WzBdOnQ7dGhpcy5wb3BwZXI9aSYmaS5qcXVlcnk/aVswXTppO3RoaXMub3B0aW9ucy5tb2RpZmllcnM9e307T2JqZWN0LmtleXModyh7fSxuLkRlZmF1bHRzLm1vZGlmaWVycyx1Lm1vZGlmaWVycykpLmZvckVhY2goZnVuY3Rpb24odCl7ci5vcHRpb25zLm1vZGlmaWVyc1t0XT13KHt9LG4uRGVmYXVsdHMubW9kaWZpZXJzW3RdfHx7fSx1Lm1vZGlmaWVycz91Lm1vZGlmaWVyc1t0XTp7fSl9KTt0aGlzLm1vZGlmaWVycz1PYmplY3Qua2V5cyh0aGlzLm9wdGlvbnMubW9kaWZpZXJzKS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHcoe25hbWU6bn0sci5vcHRpb25zLm1vZGlmaWVyc1tuXSl9KS5zb3J0KGZ1bmN0aW9uKG4sdCl7cmV0dXJuIG4ub3JkZXItdC5vcmRlcn0pO3RoaXMubW9kaWZpZXJzLmZvckVhY2goZnVuY3Rpb24obil7bi5lbmFibGVkJiZwbyhuLm9uTG9hZCkmJm4ub25Mb2FkKHIucmVmZXJlbmNlLHIucG9wcGVyLHIub3B0aW9ucyxuLHIuc3RhdGUpfSk7dGhpcy51cGRhdGUoKTtmPXRoaXMub3B0aW9ucy5ldmVudHNFbmFibGVkO2YmJnRoaXMuZW5hYmxlRXZlbnRMaXN0ZW5lcnMoKTt0aGlzLnN0YXRlLmV2ZW50c0VuYWJsZWQ9Zn1yZXR1cm4gZmwobixbe2tleToidXBkYXRlIix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe2lmKCF0aGlzLnN0YXRlLmlzRGVzdHJveWVkKXt2YXIgbj17aW5zdGFuY2U6dGhpcyxzdHlsZXM6e30sYXJyb3dTdHlsZXM6e30sYXR0cmlidXRlczp7fSxmbGlwcGVkOiExLG9mZnNldHM6e319O24ub2Zmc2V0cy5yZWZlcmVuY2U9dHModGhpcy5zdGF0ZSx0aGlzLnBvcHBlcix0aGlzLnJlZmVyZW5jZSx0aGlzLm9wdGlvbnMucG9zaXRpb25GaXhlZCk7bi5wbGFjZW1lbnQ9bnModGhpcy5vcHRpb25zLnBsYWNlbWVudCxuLm9mZnNldHMucmVmZXJlbmNlLHRoaXMucG9wcGVyLHRoaXMucmVmZXJlbmNlLHRoaXMub3B0aW9ucy5tb2RpZmllcnMuZmxpcC5ib3VuZGFyaWVzRWxlbWVudCx0aGlzLm9wdGlvbnMubW9kaWZpZXJzLmZsaXAucGFkZGluZyk7bi5vcmlnaW5hbFBsYWNlbWVudD1uLnBsYWNlbWVudDtuLnBvc2l0aW9uRml4ZWQ9dGhpcy5vcHRpb25zLnBvc2l0aW9uRml4ZWQ7bi5vZmZzZXRzLnBvcHBlcj1ycyh0aGlzLnBvcHBlcixuLm9mZnNldHMucmVmZXJlbmNlLG4ucGxhY2VtZW50KTtuLm9mZnNldHMucG9wcGVyLnBvc2l0aW9uPXRoaXMub3B0aW9ucy5wb3NpdGlvbkZpeGVkPyJmaXhlZCI6ImFic29sdXRlIjtuPXVzKHRoaXMubW9kaWZpZXJzLG4pO3RoaXMuc3RhdGUuaXNDcmVhdGVkP3RoaXMub3B0aW9ucy5vblVwZGF0ZShuKToodGhpcy5zdGF0ZS5pc0NyZWF0ZWQ9ITAsdGhpcy5vcHRpb25zLm9uQ3JlYXRlKG4pKX19LmNhbGwodGhpcyl9fSx7a2V5OiJkZXN0cm95Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0YXRlLmlzRGVzdHJveWVkPSEwLGZzKHRoaXMubW9kaWZpZXJzLCJhcHBseVN0eWxlIikmJih0aGlzLnBvcHBlci5yZW1vdmVBdHRyaWJ1dGUoIngtcGxhY2VtZW50IiksdGhpcy5wb3BwZXIuc3R5bGUucG9zaXRpb249IiIsdGhpcy5wb3BwZXIuc3R5bGUudG9wPSIiLHRoaXMucG9wcGVyLnN0eWxlLmxlZnQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUucmlnaHQ9IiIsdGhpcy5wb3BwZXIuc3R5bGUuYm90dG9tPSIiLHRoaXMucG9wcGVyLnN0eWxlLndpbGxDaGFuZ2U9IiIsdGhpcy5wb3BwZXIuc3R5bGVbd2YoInRyYW5zZm9ybSIpXT0iIiksdGhpcy5kaXNhYmxlRXZlbnRMaXN0ZW5lcnMoKSx0aGlzLm9wdGlvbnMucmVtb3ZlT25EZXN0cm95JiZ0aGlzLnBvcHBlci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMucG9wcGVyKSx0aGlzfS5jYWxsKHRoaXMpfX0se2tleToiZW5hYmxlRXZlbnRMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dGhpcy5zdGF0ZS5ldmVudHNFbmFibGVkfHwodGhpcy5zdGF0ZT1lbCh0aGlzLnJlZmVyZW5jZSx0aGlzLm9wdGlvbnMsdGhpcy5zdGF0ZSx0aGlzLnNjaGVkdWxlVXBkYXRlKSl9LmNhbGwodGhpcyl9fSx7a2V5OiJkaXNhYmxlRXZlbnRMaXN0ZW5lcnMiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIG9sLmNhbGwodGhpcyl9fV0pLG59KCk7Y3QuVXRpbHM9KCJ1bmRlZmluZWQiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpnbG9iYWwpLlBvcHBlclV0aWxzO2N0LnBsYWNlbWVudHM9ZGY7Y3QuRGVmYXVsdHM9aHM7dmFyIGUsZ3QsbHIsdXQsYXUsY3MsbHMsYixnZixsdCxhcyx2cyx5cyxuZSxwcyxhcix3cyx2dSxicyxrcyxkcyxncyxuaCx0aCxpaCxyaCx1aCxmaCxldCxpLG5pLHZyLHAsZWgseXUsb2gsbCxzaCxoaCx0ZSx0aSx5cixmdCxwaSxyLGF0LHB1LGssY2gsaWUsbGgsYWgsdmgseWgsd2ksd3UscGgsYmksa2ksd2gsYmgsZGksYnUsa2gsZGgscHIsZyxpaSxrdSxkLGdoLHJlLG5jLHRjLGljLHJjLHVjLGZjLGVjLG9jLHdyLGMsdnQsZHUsYnIsc2MsdWUsaGMsZ3UsY2MscmkseSxsYyxmZSxnaSxzLG5mLG5yLGFjLHRyLHZjLGlyLHljLHBjLGVlLHdjLGJjLG9lLHNlLGtjLGRjLGdjLHJyLGhsPShndD0iZHJvcGRvd24iLHV0PSIuIisobHI9ImJzLmRyb3Bkb3duIiksYXU9Ii5kYXRhLWFwaSIsY3M9KGU9dCkuZm5bZ3RdLGxzPW5ldyBSZWdFeHAoIjM4fDQwfDI3IiksYj17SElERToiaGlkZSIrdXQsSElEREVOOiJoaWRkZW4iK3V0LFNIT1c6InNob3ciK3V0LFNIT1dOOiJzaG93biIrdXQsQ0xJQ0s6ImNsaWNrIit1dCxDTElDS19EQVRBX0FQSToiY2xpY2siK3V0K2F1LEtFWURPV05fREFUQV9BUEk6ImtleWRvd24iK3V0K2F1LEtFWVVQX0RBVEFfQVBJOiJrZXl1cCIrdXQrYXV9LGdmPSJkaXNhYmxlZCIsbHQ9InNob3ciLGFzPSJkcm9wdXAiLHZzPSJkcm9wcmlnaHQiLHlzPSJkcm9wbGVmdCIsbmU9ImRyb3Bkb3duLW1lbnUtcmlnaHQiLHBzPSJwb3NpdGlvbi1zdGF0aWMiLGFyPSdbZGF0YS10b2dnbGU9ImRyb3Bkb3duIl0nLHdzPSIuZHJvcGRvd24gZm9ybSIsdnU9Ii5kcm9wZG93bi1tZW51Iixicz0iLm5hdmJhci1uYXYiLGtzPSIuZHJvcGRvd24tbWVudSAuZHJvcGRvd24taXRlbTpub3QoLmRpc2FibGVkKTpub3QoOmRpc2FibGVkKSIsZHM9InRvcC1zdGFydCIsZ3M9InRvcC1lbmQiLG5oPSJib3R0b20tc3RhcnQiLHRoPSJib3R0b20tZW5kIixpaD0icmlnaHQtc3RhcnQiLHJoPSJsZWZ0LXN0YXJ0Iix1aD17b2Zmc2V0OjAsZmxpcDohMCxib3VuZGFyeToic2Nyb2xsUGFyZW50IixyZWZlcmVuY2U6InRvZ2dsZSIsZGlzcGxheToiZHluYW1pYyJ9LGZoPXtvZmZzZXQ6IihudW1iZXJ8c3RyaW5nfGZ1bmN0aW9uKSIsZmxpcDoiYm9vbGVhbiIsYm91bmRhcnk6IihzdHJpbmd8ZWxlbWVudCkiLHJlZmVyZW5jZToiKHN0cmluZ3xlbGVtZW50KSIsZGlzcGxheToic3RyaW5nIn0sZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4sdCl7dGhpcy5fZWxlbWVudD1uO3RoaXMuX3BvcHBlcj1udWxsO3RoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcodCk7dGhpcy5fbWVudT10aGlzLl9nZXRNZW51RWxlbWVudCgpO3RoaXMuX2luTmF2YmFyPXRoaXMuX2RldGVjdE5hdmJhcigpO3RoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCl9dmFyIHQ9bi5wcm90b3R5cGU7cmV0dXJuIHQudG9nZ2xlPWZ1bmN0aW9uKCl7dmFyIHQsbyxyLHUsaTtpZighdGhpcy5fZWxlbWVudC5kaXNhYmxlZCYmIWUodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3MoZ2YpJiYodD1uLl9nZXRQYXJlbnRGcm9tRWxlbWVudCh0aGlzLl9lbGVtZW50KSxvPWUodGhpcy5fbWVudSkuaGFzQ2xhc3MobHQpLChuLl9jbGVhck1lbnVzKCksIW8pJiYocj17cmVsYXRlZFRhcmdldDp0aGlzLl9lbGVtZW50fSx1PWUuRXZlbnQoYi5TSE9XLHIpLGUodCkudHJpZ2dlcih1KSwhdS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkpKXtpZighdGhpcy5faW5OYXZiYXIpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgY3QpdGhyb3cgbmV3IFR5cGVFcnJvcigiQm9vdHN0cmFwIGRyb3Bkb3duIHJlcXVpcmUgUG9wcGVyLmpzIChodHRwczovL3BvcHBlci5qcy5vcmcpIik7aT10aGlzLl9lbGVtZW50OyJwYXJlbnQiPT09dGhpcy5fY29uZmlnLnJlZmVyZW5jZT9pPXQ6Zi5pc0VsZW1lbnQodGhpcy5fY29uZmlnLnJlZmVyZW5jZSkmJihpPXRoaXMuX2NvbmZpZy5yZWZlcmVuY2UsInVuZGVmaW5lZCIhPXR5cGVvZiB0aGlzLl9jb25maWcucmVmZXJlbmNlLmpxdWVyeSYmKGk9dGhpcy5fY29uZmlnLnJlZmVyZW5jZVswXSkpOyJzY3JvbGxQYXJlbnQiIT09dGhpcy5fY29uZmlnLmJvdW5kYXJ5JiZlKHQpLmFkZENsYXNzKHBzKTt0aGlzLl9wb3BwZXI9bmV3IGN0KGksdGhpcy5fbWVudSx0aGlzLl9nZXRQb3BwZXJDb25maWcoKSl9Im9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJjA9PT1lKHQpLmNsb3Nlc3QoYnMpLmxlbmd0aCYmZShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9uKCJtb3VzZW92ZXIiLG51bGwsZS5ub29wKTt0aGlzLl9lbGVtZW50LmZvY3VzKCk7dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCEwKTtlKHRoaXMuX21lbnUpLnRvZ2dsZUNsYXNzKGx0KTtlKHQpLnRvZ2dsZUNsYXNzKGx0KS50cmlnZ2VyKGUuRXZlbnQoYi5TSE9XTixyKSl9fSx0LmRpc3Bvc2U9ZnVuY3Rpb24oKXtlLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCxscik7ZSh0aGlzLl9lbGVtZW50KS5vZmYodXQpO3RoaXMuX2VsZW1lbnQ9bnVsbDsodGhpcy5fbWVudT1udWxsKSE9PXRoaXMuX3BvcHBlciYmKHRoaXMuX3BvcHBlci5kZXN0cm95KCksdGhpcy5fcG9wcGVyPW51bGwpfSx0LnVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2luTmF2YmFyPXRoaXMuX2RldGVjdE5hdmJhcigpO251bGwhPT10aGlzLl9wb3BwZXImJnRoaXMuX3BvcHBlci5zY2hlZHVsZVVwZGF0ZSgpfSx0Ll9hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7ZSh0aGlzLl9lbGVtZW50KS5vbihiLkNMSUNLLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKTt0LnN0b3BQcm9wYWdhdGlvbigpO24udG9nZ2xlKCl9KX0sdC5fZ2V0Q29uZmlnPWZ1bmN0aW9uKG4pe3JldHVybiBuPWEoe30sdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0LGUodGhpcy5fZWxlbWVudCkuZGF0YSgpLG4pLGYudHlwZUNoZWNrQ29uZmlnKGd0LG4sdGhpcy5jb25zdHJ1Y3Rvci5EZWZhdWx0VHlwZSksbn0sdC5fZ2V0TWVudUVsZW1lbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fbWVudSl7dmFyIHQ9bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCk7dGhpcy5fbWVudT1lKHQpLmZpbmQodnUpWzBdfXJldHVybiB0aGlzLl9tZW51fSx0Ll9nZXRQbGFjZW1lbnQ9ZnVuY3Rpb24oKXt2YXIgdD1lKHRoaXMuX2VsZW1lbnQpLnBhcmVudCgpLG49bmg7cmV0dXJuIHQuaGFzQ2xhc3MoYXMpPyhuPWRzLGUodGhpcy5fbWVudSkuaGFzQ2xhc3MobmUpJiYobj1ncykpOnQuaGFzQ2xhc3ModnMpP249aWg6dC5oYXNDbGFzcyh5cyk/bj1yaDplKHRoaXMuX21lbnUpLmhhc0NsYXNzKG5lKSYmKG49dGgpLG59LHQuX2RldGVjdE5hdmJhcj1mdW5jdGlvbigpe3JldHVybiAwPGUodGhpcy5fZWxlbWVudCkuY2xvc2VzdCgiLm5hdmJhciIpLmxlbmd0aH0sdC5fZ2V0UG9wcGVyQ29uZmlnPWZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxuPXt9LHQ7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuX2NvbmZpZy5vZmZzZXQ/bi5mbj1mdW5jdGlvbihuKXtyZXR1cm4gbi5vZmZzZXRzPWEoe30sbi5vZmZzZXRzLGkuX2NvbmZpZy5vZmZzZXQobi5vZmZzZXRzKXx8e30pLG59Om4ub2Zmc2V0PXRoaXMuX2NvbmZpZy5vZmZzZXQsdD17cGxhY2VtZW50OnRoaXMuX2dldFBsYWNlbWVudCgpLG1vZGlmaWVyczp7b2Zmc2V0Om4sZmxpcDp7ZW5hYmxlZDp0aGlzLl9jb25maWcuZmxpcH0scHJldmVudE92ZXJmbG93Ontib3VuZGFyaWVzRWxlbWVudDp0aGlzLl9jb25maWcuYm91bmRhcnl9fX0sInN0YXRpYyI9PT10aGlzLl9jb25maWcuZGlzcGxheSYmKHQubW9kaWZpZXJzLmFwcGx5U3R5bGU9e2VuYWJsZWQ6ITF9KSx0fSxuLl9qUXVlcnlJbnRlcmZhY2U9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBpPWUodGhpcykuZGF0YShscik7aWYoaXx8KGk9bmV3IG4odGhpcywib2JqZWN0Ij09dHlwZW9mIHQ/dDpudWxsKSxlKHRoaXMpLmRhdGEobHIsaSkpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7aVt0XSgpfX0pfSxuLl9jbGVhck1lbnVzPWZ1bmN0aW9uKHQpe3ZhciByLGksaCxmO2lmKCF0fHwzIT09dC53aGljaCYmKCJrZXl1cCIhPT10LnR5cGV8fDk9PT10LndoaWNoKSlmb3Iocj1lLm1ha2VBcnJheShlKGFyKSksaT0wO2k8ci5sZW5ndGg7aSsrKXt2YXIgdT1uLl9nZXRQYXJlbnRGcm9tRWxlbWVudChyW2ldKSxvPWUocltpXSkuZGF0YShscikscz17cmVsYXRlZFRhcmdldDpyW2ldfTtvJiYoaD1vLl9tZW51LCFlKHUpLmhhc0NsYXNzKGx0KXx8dCYmKCJjbGljayI9PT10LnR5cGUmJi9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QodC50YXJnZXQudGFnTmFtZSl8fCJrZXl1cCI9PT10LnR5cGUmJjk9PT10LndoaWNoKSYmZS5jb250YWlucyh1LHQudGFyZ2V0KXx8KGY9ZS5FdmVudChiLkhJREUscyksZSh1KS50cmlnZ2VyKGYpLGYuaXNEZWZhdWx0UHJldmVudGVkKCl8fCgib250b3VjaHN0YXJ0ImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCYmZShkb2N1bWVudC5ib2R5KS5jaGlsZHJlbigpLm9mZigibW91c2VvdmVyIixudWxsLGUubm9vcCkscltpXS5zZXRBdHRyaWJ1dGUoImFyaWEtZXhwYW5kZWQiLCJmYWxzZSIpLGUoaCkucmVtb3ZlQ2xhc3MobHQpLGUodSkucmVtb3ZlQ2xhc3MobHQpLnRyaWdnZXIoZS5FdmVudChiLkhJRERFTixzKSkpKSl9fSxuLl9nZXRQYXJlbnRGcm9tRWxlbWVudD1mdW5jdGlvbihuKXt2YXIgdCxpPWYuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChuKTtyZXR1cm4gaSYmKHQ9ZShpKVswXSksdHx8bi5wYXJlbnROb2RlfSxuLl9kYXRhQXBpS2V5ZG93bkhhbmRsZXI9ZnVuY3Rpb24odCl7dmFyIHUsZixyLGksbzsoL2lucHV0fHRleHRhcmVhL2kudGVzdCh0LnRhcmdldC50YWdOYW1lKT8zMj09PXQud2hpY2h8fDI3IT09dC53aGljaCYmKDQwIT09dC53aGljaCYmMzghPT10LndoaWNofHxlKHQudGFyZ2V0KS5jbG9zZXN0KHZ1KS5sZW5ndGgpOiFscy50ZXN0KHQud2hpY2gpKXx8KHQucHJldmVudERlZmF1bHQoKSx0LnN0b3BQcm9wYWdhdGlvbigpLHRoaXMuZGlzYWJsZWR8fGUodGhpcykuaGFzQ2xhc3MoZ2YpKXx8KHU9bi5fZ2V0UGFyZW50RnJvbUVsZW1lbnQodGhpcyksZj1lKHUpLmhhc0NsYXNzKGx0KSwoZnx8Mjc9PT10LndoaWNoJiYzMj09PXQud2hpY2gpJiYoIWZ8fDI3IT09dC53aGljaCYmMzIhPT10LndoaWNoKT8ocj1lKHUpLmZpbmQoa3MpLmdldCgpLDAhPT1yLmxlbmd0aCYmKGk9ci5pbmRleE9mKHQudGFyZ2V0KSwzOD09PXQud2hpY2gmJjA8aSYmaS0tLDQwPT09dC53aGljaCYmaTxyLmxlbmd0aC0xJiZpKyssaTwwJiYoaT0wKSxyW2ldLmZvY3VzKCkpKTooMjc9PT10LndoaWNoJiYobz1lKHUpLmZpbmQoYXIpWzBdLGUobykudHJpZ2dlcigiZm9jdXMiKSksZSh0aGlzKS50cmlnZ2VyKCJjbGljayIpKSl9LG50KG4sbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB1aH19LHtrZXk6IkRlZmF1bHRUeXBlIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZmh9fV0pLG59KCksZShkb2N1bWVudCkub24oYi5LRVlET1dOX0RBVEFfQVBJLGFyLGV0Ll9kYXRhQXBpS2V5ZG93bkhhbmRsZXIpLm9uKGIuS0VZRE9XTl9EQVRBX0FQSSx2dSxldC5fZGF0YUFwaUtleWRvd25IYW5kbGVyKS5vbihiLkNMSUNLX0RBVEFfQVBJKyIgIitiLktFWVVQX0RBVEFfQVBJLGV0Ll9jbGVhck1lbnVzKS5vbihiLkNMSUNLX0RBVEFfQVBJLGFyLGZ1bmN0aW9uKG4pe24ucHJldmVudERlZmF1bHQoKTtuLnN0b3BQcm9wYWdhdGlvbigpO2V0Ll9qUXVlcnlJbnRlcmZhY2UuY2FsbChlKHRoaXMpLCJ0b2dnbGUiKX0pLm9uKGIuQ0xJQ0tfREFUQV9BUEksd3MsZnVuY3Rpb24obil7bi5zdG9wUHJvcGFnYXRpb24oKX0pLGUuZm5bZ3RdPWV0Ll9qUXVlcnlJbnRlcmZhY2UsZS5mbltndF0uQ29uc3RydWN0b3I9ZXQsZS5mbltndF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBlLmZuW2d0XT1jcyxldC5falF1ZXJ5SW50ZXJmYWNlfSxldCksY2w9KG5pPSJtb2RhbCIscD0iLiIrKHZyPSJicy5tb2RhbCIpLGVoPShpPXQpLmZuW25pXSx5dT17YmFja2Ryb3A6ITAsa2V5Ym9hcmQ6ITAsZm9jdXM6ITAsc2hvdzohMH0sb2g9e2JhY2tkcm9wOiIoYm9vbGVhbnxzdHJpbmcpIixrZXlib2FyZDoiYm9vbGVhbiIsZm9jdXM6ImJvb2xlYW4iLHNob3c6ImJvb2xlYW4ifSxsPXtISURFOiJoaWRlIitwLEhJRERFTjoiaGlkZGVuIitwLFNIT1c6InNob3ciK3AsU0hPV046InNob3duIitwLEZPQ1VTSU46ImZvY3VzaW4iK3AsUkVTSVpFOiJyZXNpemUiK3AsQ0xJQ0tfRElTTUlTUzoiY2xpY2suZGlzbWlzcyIrcCxLRVlET1dOX0RJU01JU1M6ImtleWRvd24uZGlzbWlzcyIrcCxNT1VTRVVQX0RJU01JU1M6Im1vdXNldXAuZGlzbWlzcyIrcCxNT1VTRURPV05fRElTTUlTUzoibW91c2Vkb3duLmRpc21pc3MiK3AsQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIitwKyIuZGF0YS1hcGkifSxzaD0ibW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUiLGhoPSJtb2RhbC1iYWNrZHJvcCIsdGU9Im1vZGFsLW9wZW4iLHRpPSJmYWRlIix5cj0ic2hvdyIsZnQ9e0RJQUxPRzoiLm1vZGFsLWRpYWxvZyIsREFUQV9UT0dHTEU6J1tkYXRhLXRvZ2dsZT0ibW9kYWwiXScsREFUQV9ESVNNSVNTOidbZGF0YS1kaXNtaXNzPSJtb2RhbCJdJyxGSVhFRF9DT05URU5UOiIuZml4ZWQtdG9wLCAuZml4ZWQtYm90dG9tLCAuaXMtZml4ZWQsIC5zdGlja3ktdG9wIixTVElDS1lfQ09OVEVOVDoiLnN0aWNreS10b3AiLE5BVkJBUl9UT0dHTEVSOiIubmF2YmFyLXRvZ2dsZXIifSxwaT1mdW5jdGlvbigpe2Z1bmN0aW9uIHQobix0KXt0aGlzLl9jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMuX2VsZW1lbnQ9bjt0aGlzLl9kaWFsb2c9aShuKS5maW5kKGZ0LkRJQUxPRylbMF07dGhpcy5fYmFja2Ryb3A9bnVsbDt0aGlzLl9pc1Nob3duPSExO3RoaXMuX2lzQm9keU92ZXJmbG93aW5nPSExO3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9ITE7dGhpcy5fc2Nyb2xsYmFyV2lkdGg9MH12YXIgbj10LnByb3RvdHlwZTtyZXR1cm4gbi50b2dnbGU9ZnVuY3Rpb24obil7cmV0dXJuIHRoaXMuX2lzU2hvd24/dGhpcy5oaWRlKCk6dGhpcy5zaG93KG4pfSxuLnNob3c9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxyO3RoaXMuX2lzVHJhbnNpdGlvbmluZ3x8dGhpcy5faXNTaG93bnx8KGkodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3ModGkpJiYodGhpcy5faXNUcmFuc2l0aW9uaW5nPSEwKSxyPWkuRXZlbnQobC5TSE9XLHtyZWxhdGVkVGFyZ2V0Om59KSxpKHRoaXMuX2VsZW1lbnQpLnRyaWdnZXIociksdGhpcy5faXNTaG93bnx8ci5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KHRoaXMuX2lzU2hvd249ITAsdGhpcy5fY2hlY2tTY3JvbGxiYXIoKSx0aGlzLl9zZXRTY3JvbGxiYXIoKSx0aGlzLl9hZGp1c3REaWFsb2coKSxpKGRvY3VtZW50LmJvZHkpLmFkZENsYXNzKHRlKSx0aGlzLl9zZXRFc2NhcGVFdmVudCgpLHRoaXMuX3NldFJlc2l6ZUV2ZW50KCksaSh0aGlzLl9lbGVtZW50KS5vbihsLkNMSUNLX0RJU01JU1MsZnQuREFUQV9ESVNNSVNTLGZ1bmN0aW9uKG4pe3JldHVybiB0LmhpZGUobil9KSxpKHRoaXMuX2RpYWxvZykub24obC5NT1VTRURPV05fRElTTUlTUyxmdW5jdGlvbigpe2kodC5fZWxlbWVudCkub25lKGwuTU9VU0VVUF9ESVNNSVNTLGZ1bmN0aW9uKG4pe2kobi50YXJnZXQpLmlzKHQuX2VsZW1lbnQpJiYodC5faWdub3JlQmFja2Ryb3BDbGljaz0hMCl9KX0pLHRoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbigpe3JldHVybiB0Ll9zaG93RWxlbWVudChuKX0pKSl9LG4uaGlkZT1mdW5jdGlvbihuKXt2YXIgZT10aGlzLHQscix1OyhuJiZuLnByZXZlbnREZWZhdWx0KCksIXRoaXMuX2lzVHJhbnNpdGlvbmluZyYmdGhpcy5faXNTaG93bikmJih0PWkuRXZlbnQobC5ISURFKSwoaSh0aGlzLl9lbGVtZW50KS50cmlnZ2VyKHQpLHRoaXMuX2lzU2hvd24mJiF0LmlzRGVmYXVsdFByZXZlbnRlZCgpKSYmKHRoaXMuX2lzU2hvd249ITEscj1pKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKHRpKSwociYmKHRoaXMuX2lzVHJhbnNpdGlvbmluZz0hMCksdGhpcy5fc2V0RXNjYXBlRXZlbnQoKSx0aGlzLl9zZXRSZXNpemVFdmVudCgpLGkoZG9jdW1lbnQpLm9mZihsLkZPQ1VTSU4pLGkodGhpcy5fZWxlbWVudCkucmVtb3ZlQ2xhc3MoeXIpLGkodGhpcy5fZWxlbWVudCkub2ZmKGwuQ0xJQ0tfRElTTUlTUyksaSh0aGlzLl9kaWFsb2cpLm9mZihsLk1PVVNFRE9XTl9ESVNNSVNTKSxyKT8odT1mLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2VsZW1lbnQpLGkodGhpcy5fZWxlbWVudCkub25lKGYuVFJBTlNJVElPTl9FTkQsZnVuY3Rpb24obil7cmV0dXJuIGUuX2hpZGVNb2RhbChuKX0pLmVtdWxhdGVUcmFuc2l0aW9uRW5kKHUpKTp0aGlzLl9oaWRlTW9kYWwoKSkpfSxuLmRpc3Bvc2U9ZnVuY3Rpb24oKXtpLnJlbW92ZURhdGEodGhpcy5fZWxlbWVudCx2cik7aSh3aW5kb3csZG9jdW1lbnQsdGhpcy5fZWxlbWVudCx0aGlzLl9iYWNrZHJvcCkub2ZmKHApO3RoaXMuX2NvbmZpZz1udWxsO3RoaXMuX2VsZW1lbnQ9bnVsbDt0aGlzLl9kaWFsb2c9bnVsbDt0aGlzLl9iYWNrZHJvcD1udWxsO3RoaXMuX2lzU2hvd249bnVsbDt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1udWxsO3RoaXMuX2lnbm9yZUJhY2tkcm9wQ2xpY2s9bnVsbDt0aGlzLl9zY3JvbGxiYXJXaWR0aD1udWxsfSxuLmhhbmRsZVVwZGF0ZT1mdW5jdGlvbigpe3RoaXMuX2FkanVzdERpYWxvZygpfSxuLl9nZXRDb25maWc9ZnVuY3Rpb24obil7cmV0dXJuIG49YSh7fSx5dSxuKSxmLnR5cGVDaGVja0NvbmZpZyhuaSxuLG9oKSxufSxuLl9zaG93RWxlbWVudD1mdW5jdGlvbihuKXt2YXIgdD10aGlzLHU9aSh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyh0aSksZSxyLG87dGhpcy5fZWxlbWVudC5wYXJlbnROb2RlJiZ0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUubm9kZVR5cGU9PT1Ob2RlLkVMRU1FTlRfTk9ERXx8ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLl9lbGVtZW50KTt0aGlzLl9lbGVtZW50LnN0eWxlLmRpc3BsYXk9ImJsb2NrIjt0aGlzLl9lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1oaWRkZW4iKTt0aGlzLl9lbGVtZW50LnNjcm9sbFRvcD0wO3UmJmYucmVmbG93KHRoaXMuX2VsZW1lbnQpO2kodGhpcy5fZWxlbWVudCkuYWRkQ2xhc3MoeXIpO3RoaXMuX2NvbmZpZy5mb2N1cyYmdGhpcy5fZW5mb3JjZUZvY3VzKCk7ZT1pLkV2ZW50KGwuU0hPV04se3JlbGF0ZWRUYXJnZXQ6bn0pO3I9ZnVuY3Rpb24oKXt0Ll9jb25maWcuZm9jdXMmJnQuX2VsZW1lbnQuZm9jdXMoKTt0Ll9pc1RyYW5zaXRpb25pbmc9ITE7aSh0Ll9lbGVtZW50KS50cmlnZ2VyKGUpfTt1PyhvPWYuZ2V0VHJhbnNpdGlvbkR1cmF0aW9uRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCksaSh0aGlzLl9kaWFsb2cpLm9uZShmLlRSQU5TSVRJT05fRU5ELHIpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKG8pKTpyKCl9LG4uX2VuZm9yY2VGb2N1cz1mdW5jdGlvbigpe3ZhciBuPXRoaXM7aShkb2N1bWVudCkub2ZmKGwuRk9DVVNJTikub24obC5GT0NVU0lOLGZ1bmN0aW9uKHQpe2RvY3VtZW50IT09dC50YXJnZXQmJm4uX2VsZW1lbnQhPT10LnRhcmdldCYmMD09PWkobi5fZWxlbWVudCkuaGFzKHQudGFyZ2V0KS5sZW5ndGgmJm4uX2VsZW1lbnQuZm9jdXMoKX0pfSxuLl9zZXRFc2NhcGVFdmVudD1mdW5jdGlvbigpe3ZhciBuPXRoaXM7dGhpcy5faXNTaG93biYmdGhpcy5fY29uZmlnLmtleWJvYXJkP2kodGhpcy5fZWxlbWVudCkub24obC5LRVlET1dOX0RJU01JU1MsZnVuY3Rpb24odCl7Mjc9PT10LndoaWNoJiYodC5wcmV2ZW50RGVmYXVsdCgpLG4uaGlkZSgpKX0pOnRoaXMuX2lzU2hvd258fGkodGhpcy5fZWxlbWVudCkub2ZmKGwuS0VZRE9XTl9ESVNNSVNTKX0sbi5fc2V0UmVzaXplRXZlbnQ9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX2lzU2hvd24/aSh3aW5kb3cpLm9uKGwuUkVTSVpFLGZ1bmN0aW9uKHQpe3JldHVybiBuLmhhbmRsZVVwZGF0ZSh0KX0pOmkod2luZG93KS5vZmYobC5SRVNJWkUpfSxuLl9oaWRlTW9kYWw9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuX2VsZW1lbnQuc3R5bGUuZGlzcGxheT0ibm9uZSI7dGhpcy5fZWxlbWVudC5zZXRBdHRyaWJ1dGUoImFyaWEtaGlkZGVuIiwhMCk7dGhpcy5faXNUcmFuc2l0aW9uaW5nPSExO3RoaXMuX3Nob3dCYWNrZHJvcChmdW5jdGlvbigpe2koZG9jdW1lbnQuYm9keSkucmVtb3ZlQ2xhc3ModGUpO24uX3Jlc2V0QWRqdXN0bWVudHMoKTtuLl9yZXNldFNjcm9sbGJhcigpO2kobi5fZWxlbWVudCkudHJpZ2dlcihsLkhJRERFTil9KX0sbi5fcmVtb3ZlQmFja2Ryb3A9ZnVuY3Rpb24oKXt0aGlzLl9iYWNrZHJvcCYmKGkodGhpcy5fYmFja2Ryb3ApLnJlbW92ZSgpLHRoaXMuX2JhY2tkcm9wPW51bGwpfSxuLl9zaG93QmFja2Ryb3A9ZnVuY3Rpb24obil7dmFyIHQ9dGhpcyxyPWkodGhpcy5fZWxlbWVudCkuaGFzQ2xhc3ModGkpP3RpOiIiLGUsdSxvO2lmKHRoaXMuX2lzU2hvd24mJnRoaXMuX2NvbmZpZy5iYWNrZHJvcCl7aWYodGhpcy5fYmFja2Ryb3A9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdGhpcy5fYmFja2Ryb3AuY2xhc3NOYW1lPWhoLHImJmkodGhpcy5fYmFja2Ryb3ApLmFkZENsYXNzKHIpLGkodGhpcy5fYmFja2Ryb3ApLmFwcGVuZFRvKGRvY3VtZW50LmJvZHkpLGkodGhpcy5fZWxlbWVudCkub24obC5DTElDS19ESVNNSVNTLGZ1bmN0aW9uKG4pe3QuX2lnbm9yZUJhY2tkcm9wQ2xpY2s/dC5faWdub3JlQmFja2Ryb3BDbGljaz0hMTpuLnRhcmdldD09PW4uY3VycmVudFRhcmdldCYmKCJzdGF0aWMiPT09dC5fY29uZmlnLmJhY2tkcm9wP3QuX2VsZW1lbnQuZm9jdXMoKTp0LmhpZGUoKSl9KSxyJiZmLnJlZmxvdyh0aGlzLl9iYWNrZHJvcCksaSh0aGlzLl9iYWNrZHJvcCkuYWRkQ2xhc3MoeXIpLCFuKXJldHVybjtpZighcilyZXR1cm4gdm9pZCBuKCk7ZT1mLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKTtpKHRoaXMuX2JhY2tkcm9wKS5vbmUoZi5UUkFOU0lUSU9OX0VORCxuKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChlKX1lbHNlIXRoaXMuX2lzU2hvd24mJnRoaXMuX2JhY2tkcm9wPyhpKHRoaXMuX2JhY2tkcm9wKS5yZW1vdmVDbGFzcyh5ciksdT1mdW5jdGlvbigpe3QuX3JlbW92ZUJhY2tkcm9wKCk7biYmbigpfSxpKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKHRpKT8obz1mLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMuX2JhY2tkcm9wKSxpKHRoaXMuX2JhY2tkcm9wKS5vbmUoZi5UUkFOU0lUSU9OX0VORCx1KS5lbXVsYXRlVHJhbnNpdGlvbkVuZChvKSk6dSgpKTpuJiZuKCl9LG4uX2FkanVzdERpYWxvZz1mdW5jdGlvbigpe3ZhciBuPXRoaXMuX2VsZW1lbnQuc2Nyb2xsSGVpZ2h0PmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQ7IXRoaXMuX2lzQm9keU92ZXJmbG93aW5nJiZuJiYodGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nTGVmdD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmIW4mJih0aGlzLl9lbGVtZW50LnN0eWxlLnBhZGRpbmdSaWdodD10aGlzLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0sbi5fcmVzZXRBZGp1c3RtZW50cz1mdW5jdGlvbigpe3RoaXMuX2VsZW1lbnQuc3R5bGUucGFkZGluZ0xlZnQ9IiI7dGhpcy5fZWxlbWVudC5zdHlsZS5wYWRkaW5nUmlnaHQ9IiJ9LG4uX2NoZWNrU2Nyb2xsYmFyPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZz1uLmxlZnQrbi5yaWdodDx3aW5kb3cuaW5uZXJXaWR0aDt0aGlzLl9zY3JvbGxiYXJXaWR0aD10aGlzLl9nZXRTY3JvbGxiYXJXaWR0aCgpfSxuLl9zZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHQscjt0aGlzLl9pc0JvZHlPdmVyZmxvd2luZyYmKGkoZnQuRklYRURfQ09OVEVOVCkuZWFjaChmdW5jdGlvbih0LHIpe3ZhciB1PWkocilbMF0uc3R5bGUucGFkZGluZ1JpZ2h0LGY9aShyKS5jc3MoInBhZGRpbmctcmlnaHQiKTtpKHIpLmRhdGEoInBhZGRpbmctcmlnaHQiLHUpLmNzcygicGFkZGluZy1yaWdodCIscGFyc2VGbG9hdChmKStuLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0pLGkoZnQuU1RJQ0tZX0NPTlRFTlQpLmVhY2goZnVuY3Rpb24odCxyKXt2YXIgdT1pKHIpWzBdLnN0eWxlLm1hcmdpblJpZ2h0LGY9aShyKS5jc3MoIm1hcmdpbi1yaWdodCIpO2kocikuZGF0YSgibWFyZ2luLXJpZ2h0Iix1KS5jc3MoIm1hcmdpbi1yaWdodCIscGFyc2VGbG9hdChmKS1uLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0pLGkoZnQuTkFWQkFSX1RPR0dMRVIpLmVhY2goZnVuY3Rpb24odCxyKXt2YXIgdT1pKHIpWzBdLnN0eWxlLm1hcmdpblJpZ2h0LGY9aShyKS5jc3MoIm1hcmdpbi1yaWdodCIpO2kocikuZGF0YSgibWFyZ2luLXJpZ2h0Iix1KS5jc3MoIm1hcmdpbi1yaWdodCIscGFyc2VGbG9hdChmKStuLl9zY3JvbGxiYXJXaWR0aCsicHgiKX0pLHQ9ZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQscj1pKGRvY3VtZW50LmJvZHkpLmNzcygicGFkZGluZy1yaWdodCIpLGkoZG9jdW1lbnQuYm9keSkuZGF0YSgicGFkZGluZy1yaWdodCIsdCkuY3NzKCJwYWRkaW5nLXJpZ2h0IixwYXJzZUZsb2F0KHIpK3RoaXMuX3Njcm9sbGJhcldpZHRoKyJweCIpKX0sbi5fcmVzZXRTY3JvbGxiYXI9ZnVuY3Rpb24oKXtpKGZ0LkZJWEVEX0NPTlRFTlQpLmVhY2goZnVuY3Rpb24obix0KXt2YXIgcj1pKHQpLmRhdGEoInBhZGRpbmctcmlnaHQiKTsidW5kZWZpbmVkIiE9dHlwZW9mIHImJmkodCkuY3NzKCJwYWRkaW5nLXJpZ2h0IixyKS5yZW1vdmVEYXRhKCJwYWRkaW5nLXJpZ2h0Iil9KTtpKGZ0LlNUSUNLWV9DT05URU5UKyIsICIrZnQuTkFWQkFSX1RPR0dMRVIpLmVhY2goZnVuY3Rpb24obix0KXt2YXIgcj1pKHQpLmRhdGEoIm1hcmdpbi1yaWdodCIpOyJ1bmRlZmluZWQiIT10eXBlb2YgciYmaSh0KS5jc3MoIm1hcmdpbi1yaWdodCIscikucmVtb3ZlRGF0YSgibWFyZ2luLXJpZ2h0Iil9KTt2YXIgbj1pKGRvY3VtZW50LmJvZHkpLmRhdGEoInBhZGRpbmctcmlnaHQiKTsidW5kZWZpbmVkIiE9dHlwZW9mIG4mJmkoZG9jdW1lbnQuYm9keSkuY3NzKCJwYWRkaW5nLXJpZ2h0IixuKS5yZW1vdmVEYXRhKCJwYWRkaW5nLXJpZ2h0Iil9LG4uX2dldFNjcm9sbGJhcldpZHRoPWZ1bmN0aW9uKCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksdDtyZXR1cm4gbi5jbGFzc05hbWU9c2gsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChuKSx0PW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgtbi5jbGllbnRXaWR0aCxkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG4pLHR9LHQuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuLHIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdT1pKHRoaXMpLmRhdGEodnIpLGY9YSh7fSx5dSxpKHRoaXMpLmRhdGEoKSwib2JqZWN0Ij09dHlwZW9mIG4mJm4/bjp7fSk7aWYodXx8KHU9bmV3IHQodGhpcyxmKSxpKHRoaXMpLmRhdGEodnIsdSkpLCJzdHJpbmciPT10eXBlb2Ygbil7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiB1W25dKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytuKyciJyk7dVtuXShyKX1lbHNlIGYuc2hvdyYmdS5zaG93KHIpfSl9LG50KHQsbnVsbCxbe2tleToiVkVSU0lPTiIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIjQuMS4xIn19LHtrZXk6IkRlZmF1bHQiLGdldDpmdW5jdGlvbigpe3JldHVybiB5dX19XSksdH0oKSxpKGRvY3VtZW50KS5vbihsLkNMSUNLX0RBVEFfQVBJLGZ0LkRBVEFfVE9HR0xFLGZ1bmN0aW9uKG4pe3ZhciB0LHI9dGhpcyx1PWYuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudCh0aGlzKSxlLG87dSYmKHQ9aSh1KVswXSk7ZT1pKHQpLmRhdGEodnIpPyJ0b2dnbGUiOmEoe30saSh0KS5kYXRhKCksaSh0aGlzKS5kYXRhKCkpOyJBIiE9PXRoaXMudGFnTmFtZSYmIkFSRUEiIT09dGhpcy50YWdOYW1lfHxuLnByZXZlbnREZWZhdWx0KCk7bz1pKHQpLm9uZShsLlNIT1csZnVuY3Rpb24obil7bi5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8by5vbmUobC5ISURERU4sZnVuY3Rpb24oKXtpKHIpLmlzKCI6dmlzaWJsZSIpJiZyLmZvY3VzKCl9KX0pO3BpLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChpKHQpLGUsdGhpcyl9KSxpLmZuW25pXT1waS5falF1ZXJ5SW50ZXJmYWNlLGkuZm5bbmldLkNvbnN0cnVjdG9yPXBpLGkuZm5bbmldLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaS5mbltuaV09ZWgscGkuX2pRdWVyeUludGVyZmFjZX0scGkpLHRmPShhdD0idG9vbHRpcCIsaz0iLiIrKHB1PSJicy50b29sdGlwIiksY2g9KHI9dCkuZm5bYXRdLGllPSJicy10b29sdGlwIixsaD1uZXcgUmVnRXhwKCIoXnxcXHMpIitpZSsiXFxTKyIsImciKSx5aD17YW5pbWF0aW9uOiEwLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJ0b29sdGlwIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJhcnJvdyI+PFwvZGl2PjxkaXYgY2xhc3M9InRvb2x0aXAtaW5uZXIiPjxcL2Rpdj48XC9kaXY+Jyx0cmlnZ2VyOiJob3ZlciBmb2N1cyIsdGl0bGU6IiIsZGVsYXk6MCxodG1sOiEodmg9e0FVVE86ImF1dG8iLFRPUDoidG9wIixSSUdIVDoicmlnaHQiLEJPVFRPTToiYm90dG9tIixMRUZUOiJsZWZ0In0pLHNlbGVjdG9yOiEoYWg9e2FuaW1hdGlvbjoiYm9vbGVhbiIsdGVtcGxhdGU6InN0cmluZyIsdGl0bGU6IihzdHJpbmd8ZWxlbWVudHxmdW5jdGlvbikiLHRyaWdnZXI6InN0cmluZyIsZGVsYXk6IihudW1iZXJ8b2JqZWN0KSIsaHRtbDoiYm9vbGVhbiIsc2VsZWN0b3I6IihzdHJpbmd8Ym9vbGVhbikiLHBsYWNlbWVudDoiKHN0cmluZ3xmdW5jdGlvbikiLG9mZnNldDoiKG51bWJlcnxzdHJpbmcpIixjb250YWluZXI6IihzdHJpbmd8ZWxlbWVudHxib29sZWFuKSIsZmFsbGJhY2tQbGFjZW1lbnQ6IihzdHJpbmd8YXJyYXkpIixib3VuZGFyeToiKHN0cmluZ3xlbGVtZW50KSJ9KSxwbGFjZW1lbnQ6InRvcCIsb2Zmc2V0OjAsY29udGFpbmVyOiExLGZhbGxiYWNrUGxhY2VtZW50OiJmbGlwIixib3VuZGFyeToic2Nyb2xsUGFyZW50In0sd3U9Im91dCIscGg9e0hJREU6ImhpZGUiK2ssSElEREVOOiJoaWRkZW4iK2ssU0hPVzood2k9InNob3ciKStrLFNIT1dOOiJzaG93biIrayxJTlNFUlRFRDoiaW5zZXJ0ZWQiK2ssQ0xJQ0s6ImNsaWNrIitrLEZPQ1VTSU46ImZvY3VzaW4iK2ssRk9DVVNPVVQ6ImZvY3Vzb3V0IitrLE1PVVNFRU5URVI6Im1vdXNlZW50ZXIiK2ssTU9VU0VMRUFWRToibW91c2VsZWF2ZSIra30sYmk9ImZhZGUiLGtpPSJzaG93Iix3aD0iLnRvb2x0aXAtaW5uZXIiLGJoPSIuYXJyb3ciLGRpPSJob3ZlciIsYnU9ImZvY3VzIixraD0iY2xpY2siLGRoPSJtYW51YWwiLHByPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuLHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgY3QpdGhyb3cgbmV3IFR5cGVFcnJvcigiQm9vdHN0cmFwIHRvb2x0aXBzIHJlcXVpcmUgUG9wcGVyLmpzIChodHRwczovL3BvcHBlci5qcy5vcmcpIik7dGhpcy5faXNFbmFibGVkPSEwO3RoaXMuX3RpbWVvdXQ9MDt0aGlzLl9ob3ZlclN0YXRlPSIiO3RoaXMuX2FjdGl2ZVRyaWdnZXI9e307dGhpcy5fcG9wcGVyPW51bGw7dGhpcy5lbGVtZW50PW47dGhpcy5jb25maWc9dGhpcy5fZ2V0Q29uZmlnKHQpO3RoaXMudGlwPW51bGw7dGhpcy5fc2V0TGlzdGVuZXJzKCl9dmFyIG49dC5wcm90b3R5cGU7cmV0dXJuIG4uZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5faXNFbmFibGVkPSEwfSxuLmRpc2FibGU9ZnVuY3Rpb24oKXt0aGlzLl9pc0VuYWJsZWQ9ITF9LG4udG9nZ2xlRW5hYmxlZD1mdW5jdGlvbigpe3RoaXMuX2lzRW5hYmxlZD0hdGhpcy5faXNFbmFibGVkfSxuLnRvZ2dsZT1mdW5jdGlvbihuKXtpZih0aGlzLl9pc0VuYWJsZWQpaWYobil7dmFyIGk9dGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSx0PXIobi5jdXJyZW50VGFyZ2V0KS5kYXRhKGkpO3R8fCh0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKG4uY3VycmVudFRhcmdldCx0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKSxyKG4uY3VycmVudFRhcmdldCkuZGF0YShpLHQpKTt0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrPSF0Ll9hY3RpdmVUcmlnZ2VyLmNsaWNrO3QuX2lzV2l0aEFjdGl2ZVRyaWdnZXIoKT90Ll9lbnRlcihudWxsLHQpOnQuX2xlYXZlKG51bGwsdCl9ZWxzZXtpZihyKHRoaXMuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhraSkpcmV0dXJuIHZvaWQgdGhpcy5fbGVhdmUobnVsbCx0aGlzKTt0aGlzLl9lbnRlcihudWxsLHRoaXMpfX0sbi5kaXNwb3NlPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3RpbWVvdXQpO3IucmVtb3ZlRGF0YSh0aGlzLmVsZW1lbnQsdGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWSk7cih0aGlzLmVsZW1lbnQpLm9mZih0aGlzLmNvbnN0cnVjdG9yLkVWRU5UX0tFWSk7cih0aGlzLmVsZW1lbnQpLmNsb3Nlc3QoIi5tb2RhbCIpLm9mZigiaGlkZS5icy5tb2RhbCIpO3RoaXMudGlwJiZyKHRoaXMudGlwKS5yZW1vdmUoKTt0aGlzLl9pc0VuYWJsZWQ9bnVsbDt0aGlzLl90aW1lb3V0PW51bGw7dGhpcy5faG92ZXJTdGF0ZT1udWxsOyh0aGlzLl9hY3RpdmVUcmlnZ2VyPW51bGwpIT09dGhpcy5fcG9wcGVyJiZ0aGlzLl9wb3BwZXIuZGVzdHJveSgpO3RoaXMuX3BvcHBlcj1udWxsO3RoaXMuZWxlbWVudD1udWxsO3RoaXMuY29uZmlnPW51bGw7dGhpcy50aXA9bnVsbH0sbi5zaG93PWZ1bmN0aW9uKCl7dmFyIG49dGhpcyxpLHMsdCx1LGgsZSxjLG8sbDtpZigibm9uZSI9PT1yKHRoaXMuZWxlbWVudCkuY3NzKCJkaXNwbGF5IikpdGhyb3cgbmV3IEVycm9yKCJQbGVhc2UgdXNlIHNob3cgb24gdmlzaWJsZSBlbGVtZW50cyIpO2lmKGk9ci5FdmVudCh0aGlzLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1cpLHRoaXMuaXNXaXRoQ29udGVudCgpJiZ0aGlzLl9pc0VuYWJsZWQpe2lmKHIodGhpcy5lbGVtZW50KS50cmlnZ2VyKGkpLHM9ci5jb250YWlucyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy5lbGVtZW50KSxpLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwhcylyZXR1cm47dD10aGlzLmdldFRpcEVsZW1lbnQoKTt1PWYuZ2V0VUlEKHRoaXMuY29uc3RydWN0b3IuTkFNRSk7dC5zZXRBdHRyaWJ1dGUoImlkIix1KTt0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJhcmlhLWRlc2NyaWJlZGJ5Iix1KTt0aGlzLnNldENvbnRlbnQoKTt0aGlzLmNvbmZpZy5hbmltYXRpb24mJnIodCkuYWRkQ2xhc3MoYmkpO2g9ImZ1bmN0aW9uIj09dHlwZW9mIHRoaXMuY29uZmlnLnBsYWNlbWVudD90aGlzLmNvbmZpZy5wbGFjZW1lbnQuY2FsbCh0aGlzLHQsdGhpcy5lbGVtZW50KTp0aGlzLmNvbmZpZy5wbGFjZW1lbnQ7ZT10aGlzLl9nZXRBdHRhY2htZW50KGgpO3RoaXMuYWRkQXR0YWNobWVudENsYXNzKGUpO2M9ITE9PT10aGlzLmNvbmZpZy5jb250YWluZXI/ZG9jdW1lbnQuYm9keTpyKHRoaXMuY29uZmlnLmNvbnRhaW5lcik7cih0KS5kYXRhKHRoaXMuY29uc3RydWN0b3IuREFUQV9LRVksdGhpcyk7ci5jb250YWlucyh0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsdGhpcy50aXApfHxyKHQpLmFwcGVuZFRvKGMpO3IodGhpcy5lbGVtZW50KS50cmlnZ2VyKHRoaXMuY29uc3RydWN0b3IuRXZlbnQuSU5TRVJURUQpO3RoaXMuX3BvcHBlcj1uZXcgY3QodGhpcy5lbGVtZW50LHQse3BsYWNlbWVudDplLG1vZGlmaWVyczp7b2Zmc2V0OntvZmZzZXQ6dGhpcy5jb25maWcub2Zmc2V0fSxmbGlwOntiZWhhdmlvcjp0aGlzLmNvbmZpZy5mYWxsYmFja1BsYWNlbWVudH0sYXJyb3c6e2VsZW1lbnQ6Ymh9LHByZXZlbnRPdmVyZmxvdzp7Ym91bmRhcmllc0VsZW1lbnQ6dGhpcy5jb25maWcuYm91bmRhcnl9fSxvbkNyZWF0ZTpmdW5jdGlvbih0KXt0Lm9yaWdpbmFsUGxhY2VtZW50IT09dC5wbGFjZW1lbnQmJm4uX2hhbmRsZVBvcHBlclBsYWNlbWVudENoYW5nZSh0KX0sb25VcGRhdGU6ZnVuY3Rpb24odCl7bi5faGFuZGxlUG9wcGVyUGxhY2VtZW50Q2hhbmdlKHQpfX0pO3IodCkuYWRkQ2xhc3Moa2kpOyJvbnRvdWNoc3RhcnQiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50JiZyKGRvY3VtZW50LmJvZHkpLmNoaWxkcmVuKCkub24oIm1vdXNlb3ZlciIsbnVsbCxyLm5vb3ApO289ZnVuY3Rpb24oKXtuLmNvbmZpZy5hbmltYXRpb24mJm4uX2ZpeFRyYW5zaXRpb24oKTt2YXIgdD1uLl9ob3ZlclN0YXRlO24uX2hvdmVyU3RhdGU9bnVsbDtyKG4uZWxlbWVudCkudHJpZ2dlcihuLmNvbnN0cnVjdG9yLkV2ZW50LlNIT1dOKTt0PT09d3UmJm4uX2xlYXZlKG51bGwsbil9O3IodGhpcy50aXApLmhhc0NsYXNzKGJpKT8obD1mLmdldFRyYW5zaXRpb25EdXJhdGlvbkZyb21FbGVtZW50KHRoaXMudGlwKSxyKHRoaXMudGlwKS5vbmUoZi5UUkFOU0lUSU9OX0VORCxvKS5lbXVsYXRlVHJhbnNpdGlvbkVuZChsKSk6bygpfX0sbi5oaWRlPWZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMsaT10aGlzLmdldFRpcEVsZW1lbnQoKSx1PXIuRXZlbnQodGhpcy5jb25zdHJ1Y3Rvci5FdmVudC5ISURFKSxlPWZ1bmN0aW9uKCl7dC5faG92ZXJTdGF0ZSE9PXdpJiZpLnBhcmVudE5vZGUmJmkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpKTt0Ll9jbGVhblRpcENsYXNzKCk7dC5lbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIpO3IodC5lbGVtZW50KS50cmlnZ2VyKHQuY29uc3RydWN0b3IuRXZlbnQuSElEREVOKTtudWxsIT09dC5fcG9wcGVyJiZ0Ll9wb3BwZXIuZGVzdHJveSgpO24mJm4oKX0sbzsocih0aGlzLmVsZW1lbnQpLnRyaWdnZXIodSksdS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl8fCgocihpKS5yZW1vdmVDbGFzcyhraSksIm9udG91Y2hzdGFydCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQmJnIoZG9jdW1lbnQuYm9keSkuY2hpbGRyZW4oKS5vZmYoIm1vdXNlb3ZlciIsbnVsbCxyLm5vb3ApLHRoaXMuX2FjdGl2ZVRyaWdnZXJba2hdPSExLHRoaXMuX2FjdGl2ZVRyaWdnZXJbYnVdPSExLHRoaXMuX2FjdGl2ZVRyaWdnZXJbZGldPSExLHIodGhpcy50aXApLmhhc0NsYXNzKGJpKSk/KG89Zi5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChpKSxyKGkpLm9uZShmLlRSQU5TSVRJT05fRU5ELGUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKG8pKTplKCksdGhpcy5faG92ZXJTdGF0ZT0iIil9LG4udXBkYXRlPWZ1bmN0aW9uKCl7bnVsbCE9PXRoaXMuX3BvcHBlciYmdGhpcy5fcG9wcGVyLnNjaGVkdWxlVXBkYXRlKCl9LG4uaXNXaXRoQ29udGVudD1mdW5jdGlvbigpe3JldHVybiBCb29sZWFuKHRoaXMuZ2V0VGl0bGUoKSl9LG4uYWRkQXR0YWNobWVudENsYXNzPWZ1bmN0aW9uKG4pe3IodGhpcy5nZXRUaXBFbGVtZW50KCkpLmFkZENsYXNzKGllKyItIituKX0sbi5nZXRUaXBFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGlwPXRoaXMudGlwfHxyKHRoaXMuY29uZmlnLnRlbXBsYXRlKVswXSx0aGlzLnRpcH0sbi5zZXRDb250ZW50PWZ1bmN0aW9uKCl7dmFyIG49cih0aGlzLmdldFRpcEVsZW1lbnQoKSk7dGhpcy5zZXRFbGVtZW50Q29udGVudChuLmZpbmQod2gpLHRoaXMuZ2V0VGl0bGUoKSk7bi5yZW1vdmVDbGFzcyhiaSsiICIra2kpfSxuLnNldEVsZW1lbnRDb250ZW50PWZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5jb25maWcuaHRtbDsib2JqZWN0Ij09dHlwZW9mIHQmJih0Lm5vZGVUeXBlfHx0LmpxdWVyeSk/aT9yKHQpLnBhcmVudCgpLmlzKG4pfHxuLmVtcHR5KCkuYXBwZW5kKHQpOm4udGV4dChyKHQpLnRleHQoKSk6bltpPyJodG1sIjoidGV4dCJdKHQpfSxuLmdldFRpdGxlPWZ1bmN0aW9uKCl7dmFyIG49dGhpcy5lbGVtZW50LmdldEF0dHJpYnV0ZSgiZGF0YS1vcmlnaW5hbC10aXRsZSIpO3JldHVybiBufHwobj0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5jb25maWcudGl0bGU/dGhpcy5jb25maWcudGl0bGUuY2FsbCh0aGlzLmVsZW1lbnQpOnRoaXMuY29uZmlnLnRpdGxlKSxufSxuLl9nZXRBdHRhY2htZW50PWZ1bmN0aW9uKG4pe3JldHVybiB2aFtuLnRvVXBwZXJDYXNlKCldfSxuLl9zZXRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgbj10aGlzO3RoaXMuY29uZmlnLnRyaWdnZXIuc3BsaXQoIiAiKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lmKCJjbGljayI9PT10KXIobi5lbGVtZW50KS5vbihuLmNvbnN0cnVjdG9yLkV2ZW50LkNMSUNLLG4uY29uZmlnLnNlbGVjdG9yLGZ1bmN0aW9uKHQpe3JldHVybiBuLnRvZ2dsZSh0KX0pO2Vsc2UgaWYodCE9PWRoKXt2YXIgaT10PT09ZGk/bi5jb25zdHJ1Y3Rvci5FdmVudC5NT1VTRUVOVEVSOm4uY29uc3RydWN0b3IuRXZlbnQuRk9DVVNJTix1PXQ9PT1kaT9uLmNvbnN0cnVjdG9yLkV2ZW50Lk1PVVNFTEVBVkU6bi5jb25zdHJ1Y3Rvci5FdmVudC5GT0NVU09VVDtyKG4uZWxlbWVudCkub24oaSxuLmNvbmZpZy5zZWxlY3RvcixmdW5jdGlvbih0KXtyZXR1cm4gbi5fZW50ZXIodCl9KS5vbih1LG4uY29uZmlnLnNlbGVjdG9yLGZ1bmN0aW9uKHQpe3JldHVybiBuLl9sZWF2ZSh0KX0pfXIobi5lbGVtZW50KS5jbG9zZXN0KCIubW9kYWwiKS5vbigiaGlkZS5icy5tb2RhbCIsZnVuY3Rpb24oKXtyZXR1cm4gbi5oaWRlKCl9KX0pO3RoaXMuY29uZmlnLnNlbGVjdG9yP3RoaXMuY29uZmlnPWEoe30sdGhpcy5jb25maWcse3RyaWdnZXI6Im1hbnVhbCIsc2VsZWN0b3I6IiJ9KTp0aGlzLl9maXhUaXRsZSgpfSxuLl9maXhUaXRsZT1mdW5jdGlvbigpe3ZhciBuPXR5cGVvZiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLW9yaWdpbmFsLXRpdGxlIik7KHRoaXMuZWxlbWVudC5nZXRBdHRyaWJ1dGUoInRpdGxlIil8fCJzdHJpbmciIT09bikmJih0aGlzLmVsZW1lbnQuc2V0QXR0cmlidXRlKCJkYXRhLW9yaWdpbmFsLXRpdGxlIix0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJ0aXRsZSIpfHwiIiksdGhpcy5lbGVtZW50LnNldEF0dHJpYnV0ZSgidGl0bGUiLCIiKSl9LG4uX2VudGVyPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTsodD10fHxyKG4uY3VycmVudFRhcmdldCkuZGF0YShpKSl8fCh0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKG4uY3VycmVudFRhcmdldCx0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKSxyKG4uY3VycmVudFRhcmdldCkuZGF0YShpLHQpKTtuJiYodC5fYWN0aXZlVHJpZ2dlclsiZm9jdXNpbiI9PT1uLnR5cGU/YnU6ZGldPSEwKTtyKHQuZ2V0VGlwRWxlbWVudCgpKS5oYXNDbGFzcyhraSl8fHQuX2hvdmVyU3RhdGU9PT13aT90Ll9ob3ZlclN0YXRlPXdpOihjbGVhclRpbWVvdXQodC5fdGltZW91dCksdC5faG92ZXJTdGF0ZT13aSx0LmNvbmZpZy5kZWxheSYmdC5jb25maWcuZGVsYXkuc2hvdz90Ll90aW1lb3V0PXNldFRpbWVvdXQoZnVuY3Rpb24oKXt0Ll9ob3ZlclN0YXRlPT09d2kmJnQuc2hvdygpfSx0LmNvbmZpZy5kZWxheS5zaG93KTp0LnNob3coKSl9LG4uX2xlYXZlPWZ1bmN0aW9uKG4sdCl7dmFyIGk9dGhpcy5jb25zdHJ1Y3Rvci5EQVRBX0tFWTsodD10fHxyKG4uY3VycmVudFRhcmdldCkuZGF0YShpKSl8fCh0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKG4uY3VycmVudFRhcmdldCx0aGlzLl9nZXREZWxlZ2F0ZUNvbmZpZygpKSxyKG4uY3VycmVudFRhcmdldCkuZGF0YShpLHQpKTtuJiYodC5fYWN0aXZlVHJpZ2dlclsiZm9jdXNvdXQiPT09bi50eXBlP2J1OmRpXT0hMSk7dC5faXNXaXRoQWN0aXZlVHJpZ2dlcigpfHwoY2xlYXJUaW1lb3V0KHQuX3RpbWVvdXQpLHQuX2hvdmVyU3RhdGU9d3UsdC5jb25maWcuZGVsYXkmJnQuY29uZmlnLmRlbGF5LmhpZGU/dC5fdGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5faG92ZXJTdGF0ZT09PXd1JiZ0LmhpZGUoKX0sdC5jb25maWcuZGVsYXkuaGlkZSk6dC5oaWRlKCkpfSxuLl9pc1dpdGhBY3RpdmVUcmlnZ2VyPWZ1bmN0aW9uKCl7Zm9yKHZhciBuIGluIHRoaXMuX2FjdGl2ZVRyaWdnZXIpaWYodGhpcy5fYWN0aXZlVHJpZ2dlcltuXSlyZXR1cm4hMDtyZXR1cm4hMX0sbi5fZ2V0Q29uZmlnPWZ1bmN0aW9uKG4pe3JldHVybiJudW1iZXIiPT10eXBlb2Yobj1hKHt9LHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdCxyKHRoaXMuZWxlbWVudCkuZGF0YSgpLCJvYmplY3QiPT10eXBlb2YgbiYmbj9uOnt9KSkuZGVsYXkmJihuLmRlbGF5PXtzaG93Om4uZGVsYXksaGlkZTpuLmRlbGF5fSksIm51bWJlciI9PXR5cGVvZiBuLnRpdGxlJiYobi50aXRsZT1uLnRpdGxlLnRvU3RyaW5nKCkpLCJudW1iZXIiPT10eXBlb2Ygbi5jb250ZW50JiYobi5jb250ZW50PW4uY29udGVudC50b1N0cmluZygpKSxmLnR5cGVDaGVja0NvbmZpZyhhdCxuLHRoaXMuY29uc3RydWN0b3IuRGVmYXVsdFR5cGUpLG59LG4uX2dldERlbGVnYXRlQ29uZmlnPWZ1bmN0aW9uKCl7dmFyIHQ9e30sbjtpZih0aGlzLmNvbmZpZylmb3IobiBpbiB0aGlzLmNvbmZpZyl0aGlzLmNvbnN0cnVjdG9yLkRlZmF1bHRbbl0hPT10aGlzLmNvbmZpZ1tuXSYmKHRbbl09dGhpcy5jb25maWdbbl0pO3JldHVybiB0fSxuLl9jbGVhblRpcENsYXNzPWZ1bmN0aW9uKCl7dmFyIHQ9cih0aGlzLmdldFRpcEVsZW1lbnQoKSksbj10LmF0dHIoImNsYXNzIikubWF0Y2gobGgpO251bGwhPT1uJiYwPG4ubGVuZ3RoJiZ0LnJlbW92ZUNsYXNzKG4uam9pbigiIikpfSxuLl9oYW5kbGVQb3BwZXJQbGFjZW1lbnRDaGFuZ2U9ZnVuY3Rpb24obil7dGhpcy5fY2xlYW5UaXBDbGFzcygpO3RoaXMuYWRkQXR0YWNobWVudENsYXNzKHRoaXMuX2dldEF0dGFjaG1lbnQobi5wbGFjZW1lbnQpKX0sbi5fZml4VHJhbnNpdGlvbj1mdW5jdGlvbigpe3ZhciBuPXRoaXMuZ2V0VGlwRWxlbWVudCgpLHQ9dGhpcy5jb25maWcuYW5pbWF0aW9uO251bGw9PT1uLmdldEF0dHJpYnV0ZSgieC1wbGFjZW1lbnQiKSYmKHIobikucmVtb3ZlQ2xhc3MoYmkpLHRoaXMuY29uZmlnLmFuaW1hdGlvbj0hMSx0aGlzLmhpZGUoKSx0aGlzLnNob3coKSx0aGlzLmNvbmZpZy5hbmltYXRpb249dCl9LHQuX2pRdWVyeUludGVyZmFjZT1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGk9cih0aGlzKS5kYXRhKHB1KSx1PSJvYmplY3QiPT10eXBlb2YgbiYmbjtpZigoaXx8IS9kaXNwb3NlfGhpZGUvLnRlc3QobikpJiYoaXx8KGk9bmV3IHQodGhpcyx1KSxyKHRoaXMpLmRhdGEocHUsaSkpLCJzdHJpbmciPT10eXBlb2Ygbikpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgaVtuXSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrbisnIicpO2lbbl0oKX19KX0sbnQodCxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC4xLjEifX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHlofX0se2tleToiTkFNRSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGF0fX0se2tleToiREFUQV9LRVkiLGdldDpmdW5jdGlvbigpe3JldHVybiBwdX19LHtrZXk6IkV2ZW50IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gcGh9fSx7a2V5OiJFVkVOVF9LRVkiLGdldDpmdW5jdGlvbigpe3JldHVybiBrfX0se2tleToiRGVmYXVsdFR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBhaH19XSksdH0oKSxyLmZuW2F0XT1wci5falF1ZXJ5SW50ZXJmYWNlLHIuZm5bYXRdLkNvbnN0cnVjdG9yPXByLHIuZm5bYXRdLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gci5mblthdF09Y2gscHIuX2pRdWVyeUludGVyZmFjZX0scHIpLGxsPShpaT0icG9wb3ZlciIsZD0iLiIrKGt1PSJicy5wb3BvdmVyIiksZ2g9KGc9dCkuZm5baWldLHJlPSJicy1wb3BvdmVyIixuYz1uZXcgUmVnRXhwKCIoXnxcXHMpIityZSsiXFxTKyIsImciKSx0Yz1hKHt9LHRmLkRlZmF1bHQse3BsYWNlbWVudDoicmlnaHQiLHRyaWdnZXI6ImNsaWNrIixjb250ZW50OiIiLHRlbXBsYXRlOic8ZGl2IGNsYXNzPSJwb3BvdmVyIiByb2xlPSJ0b29sdGlwIj48ZGl2IGNsYXNzPSJhcnJvdyI+PFwvZGl2PjxoMyBjbGFzcz0icG9wb3Zlci1oZWFkZXIiPjxcL2gzPjxkaXYgY2xhc3M9InBvcG92ZXItYm9keSI+PFwvZGl2PjxcL2Rpdj4nfSksaWM9YSh7fSx0Zi5EZWZhdWx0VHlwZSx7Y29udGVudDoiKHN0cmluZ3xlbGVtZW50fGZ1bmN0aW9uKSJ9KSxyYz0iZmFkZSIsZmM9Ii5wb3BvdmVyLWhlYWRlciIsZWM9Ii5wb3BvdmVyLWJvZHkiLG9jPXtISURFOiJoaWRlIitkLEhJRERFTjoiaGlkZGVuIitkLFNIT1c6KHVjPSJzaG93IikrZCxTSE9XTjoic2hvd24iK2QsSU5TRVJURUQ6Imluc2VydGVkIitkLENMSUNLOiJjbGljayIrZCxGT0NVU0lOOiJmb2N1c2luIitkLEZPQ1VTT1VUOiJmb2N1c291dCIrZCxNT1VTRUVOVEVSOiJtb3VzZWVudGVyIitkLE1PVVNFTEVBVkU6Im1vdXNlbGVhdmUiK2R9LHdyPWZ1bmN0aW9uKG4pe2Z1bmN0aW9uIGkoKXtyZXR1cm4gbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9dmFyIHIsdSx0O3JldHVybiB1PW4sKHI9aSkucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodS5wcm90b3R5cGUpLChyLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1yKS5fX3Byb3RvX189dSx0PWkucHJvdG90eXBlLHQuaXNXaXRoQ29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRpdGxlKCl8fHRoaXMuX2dldENvbnRlbnQoKX0sdC5hZGRBdHRhY2htZW50Q2xhc3M9ZnVuY3Rpb24obil7Zyh0aGlzLmdldFRpcEVsZW1lbnQoKSkuYWRkQ2xhc3MocmUrIi0iK24pfSx0LmdldFRpcEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aXA9dGhpcy50aXB8fGcodGhpcy5jb25maWcudGVtcGxhdGUpWzBdLHRoaXMudGlwfSx0LnNldENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgdD1nKHRoaXMuZ2V0VGlwRWxlbWVudCgpKSxuO3RoaXMuc2V0RWxlbWVudENvbnRlbnQodC5maW5kKGZjKSx0aGlzLmdldFRpdGxlKCkpO249dGhpcy5fZ2V0Q29udGVudCgpOyJmdW5jdGlvbiI9PXR5cGVvZiBuJiYobj1uLmNhbGwodGhpcy5lbGVtZW50KSk7dGhpcy5zZXRFbGVtZW50Q29udGVudCh0LmZpbmQoZWMpLG4pO3QucmVtb3ZlQ2xhc3MocmMrIiAiK3VjKX0sdC5fZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLWNvbnRlbnQiKXx8dGhpcy5jb25maWcuY29udGVudH0sdC5fY2xlYW5UaXBDbGFzcz1mdW5jdGlvbigpe3ZhciB0PWcodGhpcy5nZXRUaXBFbGVtZW50KCkpLG49dC5hdHRyKCJjbGFzcyIpLm1hdGNoKG5jKTtudWxsIT09biYmMDxuLmxlbmd0aCYmdC5yZW1vdmVDbGFzcyhuLmpvaW4oIiIpKX0saS5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgdD1nKHRoaXMpLmRhdGEoa3UpLHI9Im9iamVjdCI9PXR5cGVvZiBuP246bnVsbDtpZigodHx8IS9kZXN0cm95fGhpZGUvLnRlc3QobikpJiYodHx8KHQ9bmV3IGkodGhpcyxyKSxnKHRoaXMpLmRhdGEoa3UsdCkpLCJzdHJpbmciPT10eXBlb2Ygbikpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgdFtuXSl0aHJvdyBuZXcgVHlwZUVycm9yKCdObyBtZXRob2QgbmFtZWQgIicrbisnIicpO3Rbbl0oKX19KX0sbnQoaSxudWxsLFt7a2V5OiJWRVJTSU9OIixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4iNC4xLjEifX0se2tleToiRGVmYXVsdCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRjfX0se2tleToiTkFNRSIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGlpfX0se2tleToiREFUQV9LRVkiLGdldDpmdW5jdGlvbigpe3JldHVybiBrdX19LHtrZXk6IkV2ZW50IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gb2N9fSx7a2V5OiJFVkVOVF9LRVkiLGdldDpmdW5jdGlvbigpe3JldHVybiBkfX0se2tleToiRGVmYXVsdFR5cGUiLGdldDpmdW5jdGlvbigpe3JldHVybiBpY319XSksaX0odGYpLGcuZm5baWldPXdyLl9qUXVlcnlJbnRlcmZhY2UsZy5mbltpaV0uQ29uc3RydWN0b3I9d3IsZy5mbltpaV0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBnLmZuW2lpXT1naCx3ci5falF1ZXJ5SW50ZXJmYWNlfSx3ciksYWw9KHZ0PSJzY3JvbGxzcHkiLGJyPSIuIisoZHU9ImJzLnNjcm9sbHNweSIpLHNjPShjPXQpLmZuW3Z0XSx1ZT17b2Zmc2V0OjEwLG1ldGhvZDoiYXV0byIsdGFyZ2V0OiIifSxoYz17b2Zmc2V0OiJudW1iZXIiLG1ldGhvZDoic3RyaW5nIix0YXJnZXQ6IihzdHJpbmd8ZWxlbWVudCkifSxndT17QUNUSVZBVEU6ImFjdGl2YXRlIiticixTQ1JPTEw6InNjcm9sbCIrYnIsTE9BRF9EQVRBX0FQSToibG9hZCIrYnIrIi5kYXRhLWFwaSJ9LGNjPSJkcm9wZG93bi1pdGVtIixyaT0iYWN0aXZlIix5PXtEQVRBX1NQWTonW2RhdGEtc3B5PSJzY3JvbGwiXScsQUNUSVZFOiIuYWN0aXZlIixOQVZfTElTVF9HUk9VUDoiLm5hdiwgLmxpc3QtZ3JvdXAiLE5BVl9MSU5LUzoiLm5hdi1saW5rIixOQVZfSVRFTVM6Ii5uYXYtaXRlbSIsTElTVF9JVEVNUzoiLmxpc3QtZ3JvdXAtaXRlbSIsRFJPUERPV046Ii5kcm9wZG93biIsRFJPUERPV05fSVRFTVM6Ii5kcm9wZG93bi1pdGVtIixEUk9QRE9XTl9UT0dHTEU6Ii5kcm9wZG93bi10b2dnbGUifSxsYz0ib2Zmc2V0IixmZT0icG9zaXRpb24iLGdpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuLHQpe3ZhciBpPXRoaXM7dGhpcy5fZWxlbWVudD1uO3RoaXMuX3Njcm9sbEVsZW1lbnQ9IkJPRFkiPT09bi50YWdOYW1lP3dpbmRvdzpuO3RoaXMuX2NvbmZpZz10aGlzLl9nZXRDb25maWcodCk7dGhpcy5fc2VsZWN0b3I9dGhpcy5fY29uZmlnLnRhcmdldCsiICIreS5OQVZfTElOS1MrIiwiK3RoaXMuX2NvbmZpZy50YXJnZXQrIiAiK3kuTElTVF9JVEVNUysiLCIrdGhpcy5fY29uZmlnLnRhcmdldCsiICIreS5EUk9QRE9XTl9JVEVNUzt0aGlzLl9vZmZzZXRzPVtdO3RoaXMuX3RhcmdldHM9W107dGhpcy5fYWN0aXZlVGFyZ2V0PW51bGw7dGhpcy5fc2Nyb2xsSGVpZ2h0PTA7Yyh0aGlzLl9zY3JvbGxFbGVtZW50KS5vbihndS5TQ1JPTEwsZnVuY3Rpb24obil7cmV0dXJuIGkuX3Byb2Nlc3Mobil9KTt0aGlzLnJlZnJlc2goKTt0aGlzLl9wcm9jZXNzKCl9dmFyIG49dC5wcm90b3R5cGU7cmV0dXJuIG4ucmVmcmVzaD1mdW5jdGlvbigpe3ZhciBuPXRoaXMsaT10aGlzLl9zY3JvbGxFbGVtZW50PT09dGhpcy5fc2Nyb2xsRWxlbWVudC53aW5kb3c/bGM6ZmUsdD0iYXV0byI9PT10aGlzLl9jb25maWcubWV0aG9kP2k6dGhpcy5fY29uZmlnLm1ldGhvZCxyPXQ9PT1mZT90aGlzLl9nZXRTY3JvbGxUb3AoKTowO3RoaXMuX29mZnNldHM9W107dGhpcy5fdGFyZ2V0cz1bXTt0aGlzLl9zY3JvbGxIZWlnaHQ9dGhpcy5fZ2V0U2Nyb2xsSGVpZ2h0KCk7Yy5tYWtlQXJyYXkoYyh0aGlzLl9zZWxlY3RvcikpLm1hcChmdW5jdGlvbihuKXt2YXIgaSx1PWYuZ2V0U2VsZWN0b3JGcm9tRWxlbWVudChuKSxlO3JldHVybih1JiYoaT1jKHUpWzBdKSxpKSYmKGU9aS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxlLndpZHRofHxlLmhlaWdodCk/W2MoaSlbdF0oKS50b3Arcix1XTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBufSkuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBuWzBdLXRbMF19KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24uX29mZnNldHMucHVzaCh0WzBdKTtuLl90YXJnZXRzLnB1c2godFsxXSl9KX0sbi5kaXNwb3NlPWZ1bmN0aW9uKCl7Yy5yZW1vdmVEYXRhKHRoaXMuX2VsZW1lbnQsZHUpO2ModGhpcy5fc2Nyb2xsRWxlbWVudCkub2ZmKGJyKTt0aGlzLl9lbGVtZW50PW51bGw7dGhpcy5fc2Nyb2xsRWxlbWVudD1udWxsO3RoaXMuX2NvbmZpZz1udWxsO3RoaXMuX3NlbGVjdG9yPW51bGw7dGhpcy5fb2Zmc2V0cz1udWxsO3RoaXMuX3RhcmdldHM9bnVsbDt0aGlzLl9hY3RpdmVUYXJnZXQ9bnVsbDt0aGlzLl9zY3JvbGxIZWlnaHQ9bnVsbH0sbi5fZ2V0Q29uZmlnPWZ1bmN0aW9uKG4pe2lmKCJzdHJpbmciIT10eXBlb2Yobj1hKHt9LHVlLCJvYmplY3QiPT10eXBlb2YgbiYmbj9uOnt9KSkudGFyZ2V0KXt2YXIgdD1jKG4udGFyZ2V0KS5hdHRyKCJpZCIpO3R8fCh0PWYuZ2V0VUlEKHZ0KSxjKG4udGFyZ2V0KS5hdHRyKCJpZCIsdCkpO24udGFyZ2V0PSIjIit0fXJldHVybiBmLnR5cGVDaGVja0NvbmZpZyh2dCxuLGhjKSxufSxuLl9nZXRTY3JvbGxUb3A9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudD09PXdpbmRvdz90aGlzLl9zY3JvbGxFbGVtZW50LnBhZ2VZT2Zmc2V0OnRoaXMuX3Njcm9sbEVsZW1lbnQuc2Nyb2xsVG9wfSxuLl9nZXRTY3JvbGxIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudC5zY3JvbGxIZWlnaHR8fE1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQpfSxuLl9nZXRPZmZzZXRIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2Nyb2xsRWxlbWVudD09PXdpbmRvdz93aW5kb3cuaW5uZXJIZWlnaHQ6dGhpcy5fc2Nyb2xsRWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHR9LG4uX3Byb2Nlc3M9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9nZXRTY3JvbGxUb3AoKSt0aGlzLl9jb25maWcub2Zmc2V0LHI9dGhpcy5fZ2V0U2Nyb2xsSGVpZ2h0KCksdT10aGlzLl9jb25maWcub2Zmc2V0K3ItdGhpcy5fZ2V0T2Zmc2V0SGVpZ2h0KCksaSxuO2lmKHRoaXMuX3Njcm9sbEhlaWdodCE9PXImJnRoaXMucmVmcmVzaCgpLHU8PXQpaT10aGlzLl90YXJnZXRzW3RoaXMuX3RhcmdldHMubGVuZ3RoLTFdLHRoaXMuX2FjdGl2ZVRhcmdldCE9PWkmJnRoaXMuX2FjdGl2YXRlKGkpO2Vsc2V7aWYodGhpcy5fYWN0aXZlVGFyZ2V0JiZ0PHRoaXMuX29mZnNldHNbMF0mJjA8dGhpcy5fb2Zmc2V0c1swXSlyZXR1cm4gdGhpcy5fYWN0aXZlVGFyZ2V0PW51bGwsdm9pZCB0aGlzLl9jbGVhcigpO2ZvcihuPXRoaXMuX29mZnNldHMubGVuZ3RoO24tLTspdGhpcy5fYWN0aXZlVGFyZ2V0IT09dGhpcy5fdGFyZ2V0c1tuXSYmdD49dGhpcy5fb2Zmc2V0c1tuXSYmKCJ1bmRlZmluZWQiPT10eXBlb2YgdGhpcy5fb2Zmc2V0c1tuKzFdfHx0PHRoaXMuX29mZnNldHNbbisxXSkmJnRoaXMuX2FjdGl2YXRlKHRoaXMuX3RhcmdldHNbbl0pfX0sbi5fYWN0aXZhdGU9ZnVuY3Rpb24obil7dmFyIGksdDt0aGlzLl9hY3RpdmVUYXJnZXQ9bjt0aGlzLl9jbGVhcigpO2k9dGhpcy5fc2VsZWN0b3Iuc3BsaXQoIiwiKTtpPWkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0KydbZGF0YS10YXJnZXQ9IicrbisnIl0sJyt0KydbaHJlZj0iJytuKyciXSd9KTt0PWMoaS5qb2luKCIsIikpO3QuaGFzQ2xhc3MoY2MpPyh0LmNsb3Nlc3QoeS5EUk9QRE9XTikuZmluZCh5LkRST1BET1dOX1RPR0dMRSkuYWRkQ2xhc3MocmkpLHQuYWRkQ2xhc3MocmkpKToodC5hZGRDbGFzcyhyaSksdC5wYXJlbnRzKHkuTkFWX0xJU1RfR1JPVVApLnByZXYoeS5OQVZfTElOS1MrIiwgIit5LkxJU1RfSVRFTVMpLmFkZENsYXNzKHJpKSx0LnBhcmVudHMoeS5OQVZfTElTVF9HUk9VUCkucHJldih5Lk5BVl9JVEVNUykuY2hpbGRyZW4oeS5OQVZfTElOS1MpLmFkZENsYXNzKHJpKSk7Yyh0aGlzLl9zY3JvbGxFbGVtZW50KS50cmlnZ2VyKGd1LkFDVElWQVRFLHtyZWxhdGVkVGFyZ2V0Om59KX0sbi5fY2xlYXI9ZnVuY3Rpb24oKXtjKHRoaXMuX3NlbGVjdG9yKS5maWx0ZXIoeS5BQ1RJVkUpLnJlbW92ZUNsYXNzKHJpKX0sdC5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKG4pe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaT1jKHRoaXMpLmRhdGEoZHUpO2lmKGl8fChpPW5ldyB0KHRoaXMsIm9iamVjdCI9PXR5cGVvZiBuJiZuKSxjKHRoaXMpLmRhdGEoZHUsaSkpLCJzdHJpbmciPT10eXBlb2Ygbil7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW25dKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJytuKyciJyk7aVtuXSgpfX0pfSxudCh0LG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjEuMSJ9fSx7a2V5OiJEZWZhdWx0IixnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdWV9fV0pLHR9KCksYyh3aW5kb3cpLm9uKGd1LkxPQURfREFUQV9BUEksZnVuY3Rpb24oKXtmb3IodmFyIGksbj1jLm1ha2VBcnJheShjKHkuREFUQV9TUFkpKSx0PW4ubGVuZ3RoO3QtLTspaT1jKG5bdF0pLGdpLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChpLGkuZGF0YSgpKX0pLGMuZm5bdnRdPWdpLl9qUXVlcnlJbnRlcmZhY2UsYy5mblt2dF0uQ29uc3RydWN0b3I9Z2ksYy5mblt2dF0ubm9Db25mbGljdD1mdW5jdGlvbigpe3JldHVybiBjLmZuW3Z0XT1zYyxnaS5falF1ZXJ5SW50ZXJmYWNlfSxnaSksdmw9KG5yPSIuIisobmY9ImJzLnRhYiIpLGFjPShzPXQpLmZuLnRhYix0cj17SElERToiaGlkZSIrbnIsSElEREVOOiJoaWRkZW4iK25yLFNIT1c6InNob3ciK25yLFNIT1dOOiJzaG93biIrbnIsQ0xJQ0tfREFUQV9BUEk6ImNsaWNrIitucisiLmRhdGEtYXBpIn0sdmM9ImRyb3Bkb3duLW1lbnUiLGlyPSJhY3RpdmUiLHljPSJkaXNhYmxlZCIscGM9ImZhZGUiLGVlPSJzaG93Iix3Yz0iLmRyb3Bkb3duIixiYz0iLm5hdiwgLmxpc3QtZ3JvdXAiLG9lPSIuYWN0aXZlIixzZT0iPiBsaSA+IC5hY3RpdmUiLGtjPSdbZGF0YS10b2dnbGU9InRhYiJdLCBbZGF0YS10b2dnbGU9InBpbGwiXSwgW2RhdGEtdG9nZ2xlPSJsaXN0Il0nLGRjPSIuZHJvcGRvd24tdG9nZ2xlIixnYz0iPiAuZHJvcGRvd24tbWVudSAuYWN0aXZlIixycj1mdW5jdGlvbigpe2Z1bmN0aW9uIG4obil7dGhpcy5fZWxlbWVudD1ufXZhciB0PW4ucHJvdG90eXBlO3JldHVybiB0LnNob3c9ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGksbix0LHIsYyx1LGUsbzt0aGlzLl9lbGVtZW50LnBhcmVudE5vZGUmJnRoaXMuX2VsZW1lbnQucGFyZW50Tm9kZS5ub2RlVHlwZT09PU5vZGUuRUxFTUVOVF9OT0RFJiZzKHRoaXMuX2VsZW1lbnQpLmhhc0NsYXNzKGlyKXx8cyh0aGlzLl9lbGVtZW50KS5oYXNDbGFzcyh5Yyl8fCh0PXModGhpcy5fZWxlbWVudCkuY2xvc2VzdChiYylbMF0scj1mLmdldFNlbGVjdG9yRnJvbUVsZW1lbnQodGhpcy5fZWxlbWVudCksdCYmKGM9IlVMIj09PXQubm9kZU5hbWU/c2U6b2Usbj0obj1zLm1ha2VBcnJheShzKHQpLmZpbmQoYykpKVtuLmxlbmd0aC0xXSksdT1zLkV2ZW50KHRyLkhJREUse3JlbGF0ZWRUYXJnZXQ6dGhpcy5fZWxlbWVudH0pLGU9cy5FdmVudCh0ci5TSE9XLHtyZWxhdGVkVGFyZ2V0Om59KSwobiYmcyhuKS50cmlnZ2VyKHUpLHModGhpcy5fZWxlbWVudCkudHJpZ2dlcihlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpfHx1LmlzRGVmYXVsdFByZXZlbnRlZCgpKXx8KHImJihpPXMocilbMF0pLHRoaXMuX2FjdGl2YXRlKHRoaXMuX2VsZW1lbnQsdCksbz1mdW5jdGlvbigpe3ZhciB0PXMuRXZlbnQodHIuSElEREVOLHtyZWxhdGVkVGFyZ2V0OmguX2VsZW1lbnR9KSxpPXMuRXZlbnQodHIuU0hPV04se3JlbGF0ZWRUYXJnZXQ6bn0pO3MobikudHJpZ2dlcih0KTtzKGguX2VsZW1lbnQpLnRyaWdnZXIoaSl9LGk/dGhpcy5fYWN0aXZhdGUoaSxpLnBhcmVudE5vZGUsbyk6bygpKSl9LHQuZGlzcG9zZT1mdW5jdGlvbigpe3MucmVtb3ZlRGF0YSh0aGlzLl9lbGVtZW50LG5mKTt0aGlzLl9lbGVtZW50PW51bGx9LHQuX2FjdGl2YXRlPWZ1bmN0aW9uKG4sdCxpKXt2YXIgbz10aGlzLHI9KCJVTCI9PT10Lm5vZGVOYW1lP3ModCkuZmluZChzZSk6cyh0KS5jaGlsZHJlbihvZSkpWzBdLGg9aSYmciYmcyhyKS5oYXNDbGFzcyhwYyksdT1mdW5jdGlvbigpe3JldHVybiBvLl90cmFuc2l0aW9uQ29tcGxldGUobixyLGkpfSxlO3ImJmg/KGU9Zi5nZXRUcmFuc2l0aW9uRHVyYXRpb25Gcm9tRWxlbWVudChyKSxzKHIpLm9uZShmLlRSQU5TSVRJT05fRU5ELHUpLmVtdWxhdGVUcmFuc2l0aW9uRW5kKGUpKTp1KCl9LHQuX3RyYW5zaXRpb25Db21wbGV0ZT1mdW5jdGlvbihuLHQsaSl7dmFyIHIsdTt0JiYocyh0KS5yZW1vdmVDbGFzcyhlZSsiICIraXIpLHI9cyh0LnBhcmVudE5vZGUpLmZpbmQoZ2MpWzBdLHImJnMocikucmVtb3ZlQ2xhc3MoaXIpLCJ0YWIiPT09dC5nZXRBdHRyaWJ1dGUoInJvbGUiKSYmdC5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCExKSk7KHMobikuYWRkQ2xhc3MoaXIpLCJ0YWIiPT09bi5nZXRBdHRyaWJ1dGUoInJvbGUiKSYmbi5zZXRBdHRyaWJ1dGUoImFyaWEtc2VsZWN0ZWQiLCEwKSxmLnJlZmxvdyhuKSxzKG4pLmFkZENsYXNzKGVlKSxuLnBhcmVudE5vZGUmJnMobi5wYXJlbnROb2RlKS5oYXNDbGFzcyh2YykpJiYodT1zKG4pLmNsb3Nlc3Qod2MpWzBdLHUmJnModSkuZmluZChkYykuYWRkQ2xhc3MoaXIpLG4uc2V0QXR0cmlidXRlKCJhcmlhLWV4cGFuZGVkIiwhMCkpO2kmJmkoKX0sbi5falF1ZXJ5SW50ZXJmYWNlPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgcj1zKHRoaXMpLGk9ci5kYXRhKG5mKTtpZihpfHwoaT1uZXcgbih0aGlzKSxyLmRhdGEobmYsaSkpLCJzdHJpbmciPT10eXBlb2YgdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBpW3RdKXRocm93IG5ldyBUeXBlRXJyb3IoJ05vIG1ldGhvZCBuYW1lZCAiJyt0KyciJyk7aVt0XSgpfX0pfSxudChuLG51bGwsW3trZXk6IlZFUlNJT04iLGdldDpmdW5jdGlvbigpe3JldHVybiI0LjEuMSJ9fV0pLG59KCkscyhkb2N1bWVudCkub24odHIuQ0xJQ0tfREFUQV9BUEksa2MsZnVuY3Rpb24obil7bi5wcmV2ZW50RGVmYXVsdCgpO3JyLl9qUXVlcnlJbnRlcmZhY2UuY2FsbChzKHRoaXMpLCJzaG93Iil9KSxzLmZuLnRhYj1yci5falF1ZXJ5SW50ZXJmYWNlLHMuZm4udGFiLkNvbnN0cnVjdG9yPXJyLHMuZm4udGFiLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gcy5mbi50YWI9YWMscnIuX2pRdWVyeUludGVyZmFjZX0scnIpOyFmdW5jdGlvbihuKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIG4pdGhyb3cgbmV3IFR5cGVFcnJvcigiQm9vdHN0cmFwJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnkuIGpRdWVyeSBtdXN0IGJlIGluY2x1ZGVkIGJlZm9yZSBCb290c3RyYXAncyBKYXZhU2NyaXB0LiIpO3ZhciB0PW4uZm4uanF1ZXJ5LnNwbGl0KCIgIilbMF0uc3BsaXQoIi4iKTtpZih0WzBdPDImJnRbMV08OXx8MT09PXRbMF0mJjk9PT10WzFdJiZ0WzJdPDF8fDQ8PXRbMF0pdGhyb3cgbmV3IEVycm9yKCJCb290c3RyYXAncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSB2MS45LjEgYnV0IGxlc3MgdGhhbiB2NC4wLjAiKTt9KHQpO24uVXRpbD1mO24uQWxlcnQ9bmw7bi5CdXR0b249dGw7bi5DYXJvdXNlbD1pbDtuLkNvbGxhcHNlPXJsO24uRHJvcGRvd249aGw7bi5Nb2RhbD1jbDtuLlBvcG92ZXI9bGw7bi5TY3JvbGxzcHk9YWw7bi5UYWI9dmw7bi5Ub29sdGlwPXRmO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KX0pOwovKiEKICogVnVlLmpzIHYyLjUuMTMKICogKGMpIDIwMTQtMjAxNyBFdmFuIFlvdQogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuCiAqLwohZnVuY3Rpb24obix0KXsib2JqZWN0Ij09dHlwZW9mIGV4cG9ydHMmJiJ1bmRlZmluZWQiIT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPXQoKToiZnVuY3Rpb24iPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZSh0KTpuLlZ1ZT10KCl9KHRoaXMsZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChuKXtyZXR1cm4gdm9pZCAwPT09bnx8bnVsbD09PW59ZnVuY3Rpb24gbihuKXtyZXR1cm4gdm9pZCAwIT09biYmbnVsbCE9PW59ZnVuY3Rpb24gdShuKXtyZXR1cm4hMD09PW59ZnVuY3Rpb24gdmkobil7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBufHwibnVtYmVyIj09dHlwZW9mIG58fCJzeW1ib2wiPT10eXBlb2Ygbnx8ImJvb2xlYW4iPT10eXBlb2Ygbn1mdW5jdGlvbiBoKG4pe3JldHVybiBudWxsIT09biYmIm9iamVjdCI9PXR5cGVvZiBufWZ1bmN0aW9uIHYobil7cmV0dXJuIltvYmplY3QgT2JqZWN0XSI9PT1ybC5jYWxsKG4pfWZ1bmN0aW9uIHNvKG4pe3ZhciB0PXBhcnNlRmxvYXQoU3RyaW5nKG4pKTtyZXR1cm4gdD49MCYmTWF0aC5mbG9vcih0KT09PXQmJmlzRmluaXRlKG4pfWZ1bmN0aW9uIHR5KG4pe3JldHVybiBudWxsPT1uPyIiOiJvYmplY3QiPT10eXBlb2Ygbj9KU09OLnN0cmluZ2lmeShuLG51bGwsMik6U3RyaW5nKG4pfWZ1bmN0aW9uIHlpKG4pe3ZhciB0PXBhcnNlRmxvYXQobik7cmV0dXJuIGlzTmFOKHQpP246dH1mdW5jdGlvbiBlKG4sdCl7Zm9yKHZhciBpPU9iamVjdC5jcmVhdGUobnVsbCksdT1uLnNwbGl0KCIsIikscj0wO3I8dS5sZW5ndGg7cisrKWlbdVtyXV09ITA7cmV0dXJuIHQ/ZnVuY3Rpb24obil7cmV0dXJuIGlbbi50b0xvd2VyQ2FzZSgpXX06ZnVuY3Rpb24obil7cmV0dXJuIGlbbl19fWZ1bmN0aW9uIGh0KG4sdCl7aWYobi5sZW5ndGgpe3ZhciBpPW4uaW5kZXhPZih0KTtpZihpPi0xKXJldHVybiBuLnNwbGljZShpLDEpfX1mdW5jdGlvbiBjKG4sdCl7cmV0dXJuIHlwLmNhbGwobix0KX1mdW5jdGlvbiBrKG4pe3ZhciB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiB0W2ldfHwodFtpXT1uKGkpKX19ZnVuY3Rpb24gaXkobix0KXtmdW5jdGlvbiBpKGkpe3ZhciByPWFyZ3VtZW50cy5sZW5ndGg7cmV0dXJuIHI/cj4xP24uYXBwbHkodCxhcmd1bWVudHMpOm4uY2FsbCh0LGkpOm4uY2FsbCh0KX1yZXR1cm4gaS5fbGVuZ3RoPW4ubGVuZ3RoLGl9ZnVuY3Rpb24gZnUobix0KXt0PXR8fDA7Zm9yKHZhciBpPW4ubGVuZ3RoLXQscj1uZXcgQXJyYXkoaSk7aS0tOylyW2ldPW5baSt0XTtyZXR1cm4gcn1mdW5jdGlvbiBpKG4sdCl7Zm9yKHZhciBpIGluIHQpbltpXT10W2ldO3JldHVybiBufWZ1bmN0aW9uIGhvKG4pe2Zvcih2YXIgcj17fSx0PTA7dDxuLmxlbmd0aDt0Kyspblt0XSYmaShyLG5bdF0pO3JldHVybiByfWZ1bmN0aW9uIG8oKXt9ZnVuY3Rpb24gdnQobix0KXt2YXIgaSxyLHUsZixlLG87aWYobj09PXQpcmV0dXJuITA7aWYoaT1oKG4pLHI9aCh0KSwhaXx8IXIpcmV0dXJuIWkmJiFyJiZTdHJpbmcobik9PT1TdHJpbmcodCk7dHJ5e3JldHVybih1PUFycmF5LmlzQXJyYXkobiksZj1BcnJheS5pc0FycmF5KHQpLHUmJmYpP24ubGVuZ3RoPT09dC5sZW5ndGgmJm4uZXZlcnkoZnVuY3Rpb24obixpKXtyZXR1cm4gdnQobix0W2ldKX0pOnV8fGY/ITE6KGU9T2JqZWN0LmtleXMobiksbz1PYmplY3Qua2V5cyh0KSxlLmxlbmd0aD09PW8ubGVuZ3RoJiZlLmV2ZXJ5KGZ1bmN0aW9uKGkpe3JldHVybiB2dChuW2ldLHRbaV0pfSkpfWNhdGNoKG4pe3JldHVybiExfX1mdW5jdGlvbiBjbyhuLHQpe2Zvcih2YXIgaT0wO2k8bi5sZW5ndGg7aSsrKWlmKHZ0KG5baV0sdCkpcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gcnIobil7dmFyIHQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7dHx8KHQ9ITAsbi5hcHBseSh0aGlzLGFyZ3VtZW50cykpfX1mdW5jdGlvbiByeShuKXt2YXIgdD0obisiIikuY2hhckNvZGVBdCgwKTtyZXR1cm4gMzY9PT10fHw5NT09PXR9ZnVuY3Rpb24gZXUobix0LGkscil7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEhcix3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1mdW5jdGlvbiBpaShuKXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgbiYmL25hdGl2ZSBjb2RlLy50ZXN0KG4udG9TdHJpbmcoKSl9ZnVuY3Rpb24gcmkobil7cmV0dXJuIG5ldyBhKHZvaWQgMCx2b2lkIDAsdm9pZCAwLFN0cmluZyhuKSl9ZnVuY3Rpb24gbG8obix0KXt2YXIgcj1uLmNvbXBvbmVudE9wdGlvbnMsaT1uZXcgYShuLnRhZyxuLmRhdGEsbi5jaGlsZHJlbixuLnRleHQsbi5lbG0sbi5jb250ZXh0LHIsbi5hc3luY0ZhY3RvcnkpO3JldHVybiBpLm5zPW4ubnMsaS5pc1N0YXRpYz1uLmlzU3RhdGljLGkua2V5PW4ua2V5LGkuaXNDb21tZW50PW4uaXNDb21tZW50LGkuZm5Db250ZXh0PW4uZm5Db250ZXh0LGkuZm5PcHRpb25zPW4uZm5PcHRpb25zLGkuZm5TY29wZUlkPW4uZm5TY29wZUlkLGkuaXNDbG9uZWQ9ITAsdCYmKG4uY2hpbGRyZW4mJihpLmNoaWxkcmVuPXVyKG4uY2hpbGRyZW4sITApKSxyJiZyLmNoaWxkcmVuJiYoci5jaGlsZHJlbj11cihyLmNoaWxkcmVuLCEwKSkpLGl9ZnVuY3Rpb24gdXIobix0KXtmb3IodmFyIHI9bi5sZW5ndGgsdT1uZXcgQXJyYXkociksaT0wO2k8cjtpKyspdVtpXT1sbyhuW2ldLHQpO3JldHVybiB1fWZ1bmN0aW9uIHV5KG4sdCl7bi5fX3Byb3RvX189dH1mdW5jdGlvbiBmeShuLHQsaSl7Zm9yKHZhciB1LHI9MCxmPWkubGVuZ3RoO3I8ZjtyKyspdT1pW3JdLGV1KG4sdSx0W3VdKX1mdW5jdGlvbiB1aShuLHQpe2lmKGgobikmJiEobiBpbnN0YW5jZW9mIGEpKXt2YXIgaTtyZXR1cm4gYyhuLCJfX29iX18iKSYmbi5fX29iX18gaW5zdGFuY2VvZiB5cj9pPW4uX19vYl9fOnJ0LnNob3VsZENvbnZlcnQmJiFkaSgpJiYoQXJyYXkuaXNBcnJheShuKXx8dihuKSkmJk9iamVjdC5pc0V4dGVuc2libGUobikmJiFuLl9pc1Z1ZSYmKGk9bmV3IHlyKG4pKSx0JiZpJiZpLnZtQ291bnQrKyxpfX1mdW5jdGlvbiB5dChuLHQsaSxyLHUpe3ZhciBoPW5ldyBzLGY9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihuLHQpO2lmKCFmfHwhMSE9PWYuY29uZmlndXJhYmxlKXt2YXIgZT1mJiZmLmdldCxjPWYmJmYuc2V0LG89IXUmJnVpKGkpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLHQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3ZhciB0PWU/ZS5jYWxsKG4pOmk7cmV0dXJuIHMudGFyZ2V0JiYoaC5kZXBlbmQoKSxvJiYoby5kZXAuZGVwZW5kKCksQXJyYXkuaXNBcnJheSh0KSYmdm8odCkpKSx0fSxzZXQ6ZnVuY3Rpb24odCl7dmFyIHI9ZT9lLmNhbGwobik6aTt0PT09cnx8dCE9dCYmciE9cnx8KGM/Yy5jYWxsKG4sdCk6aT10LG89IXUmJnVpKHQpLGgubm90aWZ5KCkpfX0pfX1mdW5jdGlvbiBvdShuLHQsaSl7aWYoQXJyYXkuaXNBcnJheShuKSYmc28odCkpcmV0dXJuIG4ubGVuZ3RoPU1hdGgubWF4KG4ubGVuZ3RoLHQpLG4uc3BsaWNlKHQsMSxpKSxpO2lmKHQgaW4gbiYmISh0IGluIE9iamVjdC5wcm90b3R5cGUpKXJldHVybiBuW3RdPWksaTt2YXIgcj1uLl9fb2JfXztyZXR1cm4gbi5faXNWdWV8fHImJnIudm1Db3VudD9pOnI/KHl0KHIudmFsdWUsdCxpKSxyLmRlcC5ub3RpZnkoKSxpKTooblt0XT1pLGkpfWZ1bmN0aW9uIGFvKG4sdCl7aWYoQXJyYXkuaXNBcnJheShuKSYmc28odCkpbi5zcGxpY2UodCwxKTtlbHNle3ZhciBpPW4uX19vYl9fO24uX2lzVnVlfHxpJiZpLnZtQ291bnR8fGMobix0KSYmKGRlbGV0ZSBuW3RdLGkmJmkuZGVwLm5vdGlmeSgpKX19ZnVuY3Rpb24gdm8obil7Zm9yKHZhciB0PXZvaWQgMCxpPTAscj1uLmxlbmd0aDtpPHI7aSsrKSh0PW5baV0pJiZ0Ll9fb2JfXyYmdC5fX29iX18uZGVwLmRlcGVuZCgpLEFycmF5LmlzQXJyYXkodCkmJnZvKHQpfWZ1bmN0aW9uIHN1KG4sdCl7aWYoIXQpcmV0dXJuIG47Zm9yKHZhciBpLHUscixlPU9iamVjdC5rZXlzKHQpLGY9MDtmPGUubGVuZ3RoO2YrKyl1PW5baT1lW2ZdXSxyPXRbaV0sYyhuLGkpP3YodSkmJnYocikmJnN1KHUscik6b3UobixpLHIpO3JldHVybiBufWZ1bmN0aW9uIGh1KG4sdCxpKXtyZXR1cm4gaT9mdW5jdGlvbigpe3ZhciByPSJmdW5jdGlvbiI9PXR5cGVvZiB0P3QuY2FsbChpLGkpOnQsdT0iZnVuY3Rpb24iPT10eXBlb2Ygbj9uLmNhbGwoaSxpKTpuO3JldHVybiByP3N1KHIsdSk6dX06dD9uP2Z1bmN0aW9uKCl7cmV0dXJuIHN1KCJmdW5jdGlvbiI9PXR5cGVvZiB0P3QuY2FsbCh0aGlzLHRoaXMpOnQsImZ1bmN0aW9uIj09dHlwZW9mIG4/bi5jYWxsKHRoaXMsdGhpcyk6bil9OnQ6bn1mdW5jdGlvbiBleShuLHQpe3JldHVybiB0P24/bi5jb25jYXQodCk6QXJyYXkuaXNBcnJheSh0KT90Olt0XTpufWZ1bmN0aW9uIG95KG4sdCl7dmFyIHI9T2JqZWN0LmNyZWF0ZShufHxudWxsKTtyZXR1cm4gdD9pKHIsdCk6cn1mdW5jdGlvbiBwdChuLHQscil7ZnVuY3Rpb24gcyhpKXt2YXIgdT1udFtpXXx8dXc7b1tpXT11KG5baV0sdFtpXSxyLGkpfXZhciBlLGYsaCx1LG87aWYoImZ1bmN0aW9uIj09dHlwZW9mIHQmJih0PXQub3B0aW9ucyksZnVuY3Rpb24obil7dmFyIHQ9bi5wcm9wcyx1LGkscixmO2lmKHQpe2lmKHI9e30sQXJyYXkuaXNBcnJheSh0KSlmb3IodT10Lmxlbmd0aDt1LS07KSJzdHJpbmciPT10eXBlb2YoaT10W3VdKSYmKHJbaXQoaSldPXt0eXBlOm51bGx9KTtlbHNlIGlmKHYodCkpZm9yKGYgaW4gdClpPXRbZl0scltpdChmKV09dihpKT9pOnt0eXBlOml9O24ucHJvcHM9cn19KHQpLGZ1bmN0aW9uKG4pe3ZhciB0PW4uaW5qZWN0LGUscix1LGY7aWYodClpZihlPW4uaW5qZWN0PXt9LEFycmF5LmlzQXJyYXkodCkpZm9yKHI9MDtyPHQubGVuZ3RoO3IrKyllW3Rbcl1dPXtmcm9tOnRbcl19O2Vsc2UgaWYodih0KSlmb3IodSBpbiB0KWY9dFt1XSxlW3VdPXYoZik/aSh7ZnJvbTp1fSxmKTp7ZnJvbTpmfX0odCksZnVuY3Rpb24obil7dmFyIHQ9bi5kaXJlY3RpdmVzLHIsaTtpZih0KWZvcihyIGluIHQpaT10W3JdLCJmdW5jdGlvbiI9PXR5cGVvZiBpJiYodFtyXT17YmluZDppLHVwZGF0ZTppfSl9KHQpLGU9dC5leHRlbmRzLGUmJihuPXB0KG4sZSxyKSksdC5taXhpbnMpZm9yKGY9MCxoPXQubWl4aW5zLmxlbmd0aDtmPGg7ZisrKW49cHQobix0Lm1peGluc1tmXSxyKTtvPXt9O2Zvcih1IGluIG4pcyh1KTtmb3IodSBpbiB0KWMobix1KXx8cyh1KTtyZXR1cm4gb31mdW5jdGlvbiBjdShuLHQsaSl7dmFyIHIsdSxmO2lmKCJzdHJpbmciPT10eXBlb2YgaSlyZXR1cm4ocj1uW3RdLGMocixpKSk/cltpXToodT1pdChpKSxjKHIsdSkpP3JbdV06KGY9d3AodSksYyhyLGYpKT9yW2ZdOnJbaV18fHJbdV18fHJbZl19ZnVuY3Rpb24gbHUobix0LGkscil7dmFyIGY9dFtuXSxvPSFjKGksbiksdT1pW25dLGU7cmV0dXJuKHlvKEJvb2xlYW4sZi50eXBlKSYmKG8mJiFjKGYsImRlZmF1bHQiKT91PSExOnlvKFN0cmluZyxmLnR5cGUpfHwiIiE9PXUmJnUhPT1nZihuKXx8KHU9ITApKSx2b2lkIDA9PT11KSYmKHU9ZnVuY3Rpb24obix0LGkpe2lmKGModCwiZGVmYXVsdCIpKXt2YXIgcj10LmRlZmF1bHQ7cmV0dXJuIG4mJm4uJG9wdGlvbnMucHJvcHNEYXRhJiZ2b2lkIDA9PT1uLiRvcHRpb25zLnByb3BzRGF0YVtpXSYmdm9pZCAwIT09bi5fcHJvcHNbaV0/bi5fcHJvcHNbaV06ImZ1bmN0aW9uIj09dHlwZW9mIHImJiJGdW5jdGlvbiIhPT1waSh0LnR5cGUpP3IuY2FsbChuKTpyfX0ocixmLG4pLGU9cnQuc2hvdWxkQ29udmVydCxydC5zaG91bGRDb252ZXJ0PSEwLHVpKHUpLHJ0LnNob3VsZENvbnZlcnQ9ZSksdX1mdW5jdGlvbiBwaShuKXt2YXIgdD1uJiZuLnRvU3RyaW5nKCkubWF0Y2goL15ccypmdW5jdGlvbiAoXHcrKS8pO3JldHVybiB0P3RbMV06IiJ9ZnVuY3Rpb24geW8obix0KXtpZighQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4gcGkodCk9PT1waShuKTtmb3IodmFyIGk9MCxyPXQubGVuZ3RoO2k8cjtpKyspaWYocGkodFtpXSk9PT1waShuKSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBjdChuLHQsaSl7dmFyIHIsdSxmO2lmKHQpZm9yKHI9dDtyPXIuJHBhcmVudDspaWYodT1yLiRvcHRpb25zLmVycm9yQ2FwdHVyZWQsdSlmb3IoZj0wO2Y8dS5sZW5ndGg7ZisrKXRyeXtpZighMT09PXVbZl0uY2FsbChyLG4sdCxpKSlyZXR1cm59Y2F0Y2gobil7cG8obixyLCJlcnJvckNhcHR1cmVkIGhvb2siKX1wbyhuLHQsaSl9ZnVuY3Rpb24gcG8obix0LGkpe2lmKHcuZXJyb3JIYW5kbGVyKXRyeXtyZXR1cm4gdy5lcnJvckhhbmRsZXIuY2FsbChudWxsLG4sdCxpKX1jYXRjaChuKXt3byhuLG51bGwsImNvbmZpZy5lcnJvckhhbmRsZXIiKX13byhuLHQsaSl9ZnVuY3Rpb24gd28obil7aWYoIWwmJiFvbHx8InVuZGVmaW5lZCI9PXR5cGVvZiBjb25zb2xlKXRocm93IG47Y29uc29sZS5lcnJvcihuKX1mdW5jdGlvbiBmcigpe3ZhciB0LG47Zm9yKGVlPSExLHQ9ZmUuc2xpY2UoMCksZmUubGVuZ3RoPTAsbj0wO248dC5sZW5ndGg7bisrKXRbbl0oKX1mdW5jdGlvbiBhdShuLHQpe3ZhciBpO2lmKGZlLnB1c2goZnVuY3Rpb24oKXtpZihuKXRyeXtuLmNhbGwodCl9Y2F0Y2gobil7Y3Qobix0LCJuZXh0VGljayIpfWVsc2UgaSYmaSh0KX0pLGVlfHwoZWU9ITAsb2U/Z2koKTp1ZSgpKSwhbiYmInVuZGVmaW5lZCIhPXR5cGVvZiBQcm9taXNlKXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuKXtpPW59KX1mdW5jdGlvbiBibyhuKXt2dShuLGJsKTtibC5jbGVhcigpfWZ1bmN0aW9uIHZ1KG4sdCl7dmFyIGksdSxmPUFycmF5LmlzQXJyYXkobikscjtpZigoZnx8aChuKSkmJiFPYmplY3QuaXNGcm96ZW4obikpe2lmKG4uX19vYl9fKXtpZihyPW4uX19vYl9fLmRlcC5pZCx0LmhhcyhyKSlyZXR1cm47dC5hZGQocil9aWYoZilmb3IoaT1uLmxlbmd0aDtpLS07KXZ1KG5baV0sdCk7ZWxzZSBmb3IoaT0odT1PYmplY3Qua2V5cyhuKSkubGVuZ3RoO2ktLTspdnUoblt1W2ldXSx0KX19ZnVuY3Rpb24geXUobil7ZnVuY3Rpb24gdCgpe3ZhciB1PWFyZ3VtZW50cyxpPXQuZm5zLHIsbjtpZighQXJyYXkuaXNBcnJheShpKSlyZXR1cm4gaS5hcHBseShudWxsLGFyZ3VtZW50cyk7Zm9yKHI9aS5zbGljZSgpLG49MDtuPHIubGVuZ3RoO24rKylyW25dLmFwcGx5KG51bGwsdSl9cmV0dXJuIHQuZm5zPW4sdH1mdW5jdGlvbiBrbyhuLGkscix1KXt2YXIgZixlLHMsbztmb3IoZiBpbiBuKWU9bltmXSxzPWlbZl0sbz1rbChmKSx0KGUpfHwodChzKT8odChlLmZucykmJihlPW5bZl09eXUoZSkpLHIoby5uYW1lLGUsby5vbmNlLG8uY2FwdHVyZSxvLnBhc3NpdmUsby5wYXJhbXMpKTplIT09cyYmKHMuZm5zPWUsbltmXT1zKSk7Zm9yKGYgaW4gaSl0KG5bZl0pJiZ1KChvPWtsKGYpKS5uYW1lLGlbZl0sby5jYXB0dXJlKX1mdW5jdGlvbiBsdChpLHIsZil7ZnVuY3Rpb24gcygpe2YuYXBwbHkodGhpcyxhcmd1bWVudHMpO2h0KGUuZm5zLHMpfWkgaW5zdGFuY2VvZiBhJiYoaT1pLmRhdGEuaG9va3x8KGkuZGF0YS5ob29rPXt9KSk7dmFyIGUsbz1pW3JdO3Qobyk/ZT15dShbc10pOm4oby5mbnMpJiZ1KG8ubWVyZ2VkKT8oZT1vKS5mbnMucHVzaChzKTplPXl1KFtvLHNdKTtlLm1lcmdlZD0hMDtpW3JdPWV9ZnVuY3Rpb24gZ28odCxpLHIsdSxmKXtpZihuKGkpKXtpZihjKGkscikpcmV0dXJuIHRbcl09aVtyXSxmfHxkZWxldGUgaVtyXSwhMDtpZihjKGksdSkpcmV0dXJuIHRbcl09aVt1XSxmfHxkZWxldGUgaVt1XSwhMH1yZXR1cm4hMX1mdW5jdGlvbiB3aSh0KXtyZXR1cm4gbih0KSYmbih0LnRleHQpJiZmdW5jdGlvbihuKXtyZXR1cm4hMT09PW59KHQuaXNDb21tZW50KX1mdW5jdGlvbiBucyhpLHIpe2Zvcih2YXIgZixoLG8sZT1bXSxzPTA7czxpLmxlbmd0aDtzKyspdChmPWlbc10pfHwiYm9vbGVhbiI9PXR5cGVvZiBmfHwobz1lW2g9ZS5sZW5ndGgtMV0sQXJyYXkuaXNBcnJheShmKT9mLmxlbmd0aD4wJiYod2koKGY9bnMoZiwocnx8IiIpKyJfIitzKSlbMF0pJiZ3aShvKSYmKGVbaF09cmkoby50ZXh0K2ZbMF0udGV4dCksZi5zaGlmdCgpKSxlLnB1c2guYXBwbHkoZSxmKSk6dmkoZik/d2kobyk/ZVtoXT1yaShvLnRleHQrZik6IiIhPT1mJiZlLnB1c2gocmkoZikpOndpKGYpJiZ3aShvKT9lW2hdPXJpKG8udGV4dCtmLnRleHQpOih1KGkuX2lzVkxpc3QpJiZuKGYudGFnKSYmdChmLmtleSkmJm4ocikmJihmLmtleT0iX192bGlzdCIrcisiXyIrcysiX18iKSxlLnB1c2goZikpKTtyZXR1cm4gZX1mdW5jdGlvbiBwdShuLHQpe3JldHVybihuLl9fZXNNb2R1bGV8fGxsJiYiTW9kdWxlIj09PW5bU3ltYm9sLnRvU3RyaW5nVGFnXSkmJihuPW4uZGVmYXVsdCksaChuKT90LmV4dGVuZChuKTpufWZ1bmN0aW9uIGVyKG4pe3JldHVybiBuLmlzQ29tbWVudCYmbi5hc3luY0ZhY3Rvcnl9ZnVuY3Rpb24gdHModCl7dmFyIHIsaTtpZihBcnJheS5pc0FycmF5KHQpKWZvcihyPTA7cjx0Lmxlbmd0aDtyKyspaWYoaT10W3JdLG4oaSkmJihuKGkuY29tcG9uZW50T3B0aW9ucyl8fGVyKGkpKSlyZXR1cm4gaX1mdW5jdGlvbiBzeShuLHQsaSl7aT9uci4kb25jZShuLHQpOm5yLiRvbihuLHQpfWZ1bmN0aW9uIGh5KG4sdCl7bnIuJG9mZihuLHQpfWZ1bmN0aW9uIGlzKG4sdCxpKXtucj1uO2tvKHQsaXx8e30sc3ksaHkpO25yPXZvaWQgMH1mdW5jdGlvbiB3dShuLHQpe3ZhciBpPXt9LGYsaCxyLHUsbyxlLHM7aWYoIW4pcmV0dXJuIGk7Zm9yKGY9MCxoPW4ubGVuZ3RoO2Y8aDtmKyspcj1uW2ZdLHU9ci5kYXRhLCh1JiZ1LmF0dHJzJiZ1LmF0dHJzLnNsb3QmJmRlbGV0ZSB1LmF0dHJzLnNsb3QsKHIuY29udGV4dD09PXR8fHIuZm5Db250ZXh0PT09dCkmJnUmJm51bGwhPXUuc2xvdCk/KG89dS5zbG90LGU9aVtvXXx8KGlbb109W10pLCJ0ZW1wbGF0ZSI9PT1yLnRhZz9lLnB1c2guYXBwbHkoZSxyLmNoaWxkcmVufHxbXSk6ZS5wdXNoKHIpKTooaS5kZWZhdWx0fHwoaS5kZWZhdWx0PVtdKSkucHVzaChyKTtmb3IocyBpbiBpKWlbc10uZXZlcnkoY3kpJiZkZWxldGUgaVtzXTtyZXR1cm4gaX1mdW5jdGlvbiBjeShuKXtyZXR1cm4gbi5pc0NvbW1lbnQmJiFuLmFzeW5jRmFjdG9yeXx8IiAiPT09bi50ZXh0fWZ1bmN0aW9uIHJzKG4sdCl7dD10fHx7fTtmb3IodmFyIGk9MDtpPG4ubGVuZ3RoO2krKylBcnJheS5pc0FycmF5KG5baV0pP3JzKG5baV0sdCk6dFtuW2ldLmtleV09bltpXS5mbjtyZXR1cm4gdH1mdW5jdGlvbiB1cyhuKXtmb3IoO24mJihuPW4uJHBhcmVudCk7KWlmKG4uX2luYWN0aXZlKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGJ1KG4sdCl7aWYodCl7aWYobi5fZGlyZWN0SW5hY3RpdmU9ITEsdXMobikpcmV0dXJufWVsc2UgaWYobi5fZGlyZWN0SW5hY3RpdmUpcmV0dXJuO2lmKG4uX2luYWN0aXZlfHxudWxsPT09bi5faW5hY3RpdmUpe24uX2luYWN0aXZlPSExO2Zvcih2YXIgaT0wO2k8bi4kY2hpbGRyZW4ubGVuZ3RoO2krKylidShuLiRjaGlsZHJlbltpXSk7ZChuLCJhY3RpdmF0ZWQiKX19ZnVuY3Rpb24gZnMobix0KXtpZighKHQmJihuLl9kaXJlY3RJbmFjdGl2ZT0hMCx1cyhuKSl8fG4uX2luYWN0aXZlKSl7bi5faW5hY3RpdmU9ITA7Zm9yKHZhciBpPTA7aTxuLiRjaGlsZHJlbi5sZW5ndGg7aSsrKWZzKG4uJGNoaWxkcmVuW2ldKTtkKG4sImRlYWN0aXZhdGVkIil9fWZ1bmN0aW9uIGQobix0KXt2YXIgaT1uLiRvcHRpb25zW3RdLHIsdTtpZihpKWZvcihyPTAsdT1pLmxlbmd0aDtyPHU7cisrKXRyeXtpW3JdLmNhbGwobil9Y2F0Y2goaSl7Y3QoaSxuLHQrIiBob29rIil9bi5faGFzSG9va0V2ZW50JiZuLiRlbWl0KCJob29rOiIrdCl9ZnVuY3Rpb24gbHkoKXt2YXIgbix0LGkscjtmb3IobGU9ITAsZXQuc29ydChmdW5jdGlvbihuLHQpe3JldHVybiBuLmlkLXQuaWR9KSxsaT0wO2xpPGV0Lmxlbmd0aDtsaSsrKXQ9KG49ZXRbbGldKS5pZCxwclt0XT1udWxsLG4ucnVuKCk7aT1oZS5zbGljZSgpO3I9ZXQuc2xpY2UoKTtsaT1ldC5sZW5ndGg9aGUubGVuZ3RoPTA7cHI9e307Y2U9bGU9ITEsZnVuY3Rpb24obil7Zm9yKHZhciB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5faW5hY3RpdmU9ITAsYnUoblt0XSwhMCl9KGkpLGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj1uLmxlbmd0aCxpLHQ7ci0tOylpPW5bcl0sdD1pLnZtLHQuX3dhdGNoZXI9PT1pJiZ0Ll9pc01vdW50ZWQmJmQodCwidXBkYXRlZCIpfShyKTt2ciYmdy5kZXZ0b29scyYmdnIuZW1pdCgiZmx1c2giKX1mdW5jdGlvbiBrdShuLHQsaSl7b3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdF1baV19O290LnNldD1mdW5jdGlvbihuKXt0aGlzW3RdW2ldPW59O09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLGksb3QpfWZ1bmN0aW9uIGF5KG4pe24uX3dhdGNoZXJzPVtdO3ZhciB0PW4uJG9wdGlvbnM7dC5wcm9wcyYmZnVuY3Rpb24obix0KXt2YXIgdT1uLiRvcHRpb25zLnByb3BzRGF0YXx8e30sZj1uLl9wcm9wcz17fSxlPW4uJG9wdGlvbnMuX3Byb3BLZXlzPVtdLG89IW4uJHBhcmVudCxpLHI7cnQuc2hvdWxkQ29udmVydD1vO2k9ZnVuY3Rpb24oaSl7ZS5wdXNoKGkpO3ZhciByPWx1KGksdCx1LG4pO3l0KGYsaSxyKTtpIGluIG58fGt1KG4sIl9wcm9wcyIsaSl9O2ZvcihyIGluIHQpaShyKTtydC5zaG91bGRDb252ZXJ0PSEwfShuLHQucHJvcHMpO3QubWV0aG9kcyYmZnVuY3Rpb24obix0KXtuLiRvcHRpb25zLnByb3BzO2Zvcih2YXIgaSBpbiB0KW5baV09bnVsbD09dFtpXT9vOml5KHRbaV0sbil9KG4sdC5tZXRob2RzKTt0LmRhdGE/ZnVuY3Rpb24obil7dmFyIHQ9bi4kb3B0aW9ucy5kYXRhLGk7dD1uLl9kYXRhPSJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKG4sdCl7dHJ5e3JldHVybiBuLmNhbGwodCx0KX1jYXRjaChuKXtyZXR1cm4gY3Qobix0LCJkYXRhKCkiKSx7fX19KHQsbik6dHx8e307dih0KXx8KHQ9e30pO2Zvcih2YXIgcj1PYmplY3Qua2V5cyh0KSx1PW4uJG9wdGlvbnMucHJvcHMsZj0obi4kb3B0aW9ucy5tZXRob2RzLHIubGVuZ3RoKTtmLS07KWk9cltmXSx1JiZjKHUsaSl8fHJ5KGkpfHxrdShuLCJfZGF0YSIsaSk7dWkodCwhMCl9KG4pOnVpKG4uX2RhdGE9e30sITApO3QuY29tcHV0ZWQmJmZ1bmN0aW9uKG4sdCl7dmFyIGY9bi5fY29tcHV0ZWRXYXRjaGVycz1PYmplY3QuY3JlYXRlKG51bGwpLGU9ZGkoKSxpLHIsdTtmb3IoaSBpbiB0KXI9dFtpXSx1PSJmdW5jdGlvbiI9PXR5cGVvZiByP3I6ci5nZXQsZXx8KGZbaV09bmV3IHR0KG4sdXx8byxvLGRsKSksaSBpbiBufHxlcyhuLGkscil9KG4sdC5jb21wdXRlZCk7dC53YXRjaCYmdC53YXRjaCE9PW5lJiZmdW5jdGlvbihuLHQpe3ZhciByLGksdTtmb3IociBpbiB0KWlmKGk9dFtyXSxBcnJheS5pc0FycmF5KGkpKWZvcih1PTA7dTxpLmxlbmd0aDt1KyspZHUobixyLGlbdV0pO2Vsc2UgZHUobixyLGkpfShuLHQud2F0Y2gpfWZ1bmN0aW9uIGVzKG4sdCxpKXt2YXIgcj0hZGkoKTsiZnVuY3Rpb24iPT10eXBlb2YgaT8ob3QuZ2V0PXI/b3ModCk6aSxvdC5zZXQ9byk6KG90LmdldD1pLmdldD9yJiYhMSE9PWkuY2FjaGU/b3ModCk6aS5nZXQ6byxvdC5zZXQ9aS5zZXQ/aS5zZXQ6byk7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sdCxvdCl9ZnVuY3Rpb24gb3Mobil7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fY29tcHV0ZWRXYXRjaGVycyYmdGhpcy5fY29tcHV0ZWRXYXRjaGVyc1tuXTtpZih0KXJldHVybiB0LmRpcnR5JiZ0LmV2YWx1YXRlKCkscy50YXJnZXQmJnQuZGVwZW5kKCksdC52YWx1ZX19ZnVuY3Rpb24gZHUobix0LGkscil7cmV0dXJuIHYoaSkmJihyPWksaT1pLmhhbmRsZXIpLCJzdHJpbmciPT10eXBlb2YgaSYmKGk9bltpXSksbi4kd2F0Y2godCxpLHIpfWZ1bmN0aW9uIHNzKG4sdCl7dmFyIHU7aWYobil7Zm9yKHZhciBmPU9iamVjdC5jcmVhdGUobnVsbCksbz1sbD9SZWZsZWN0Lm93bktleXMobikuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG4sdCkuZW51bWVyYWJsZX0pOk9iamVjdC5rZXlzKG4pLGU9MDtlPG8ubGVuZ3RoO2UrKyl7Zm9yKHZhciByPW9bZV0scz1uW3JdLmZyb20saT10O2k7KXtpZihpLl9wcm92aWRlZCYmcyBpbiBpLl9wcm92aWRlZCl7ZltyXT1pLl9wcm92aWRlZFtzXTticmVha31pPWkuJHBhcmVudH0haSYmImRlZmF1bHQiaW4gbltyXSYmKHU9bltyXS5kZWZhdWx0LGZbcl09ImZ1bmN0aW9uIj09dHlwZW9mIHU/dS5jYWxsKHQpOnUpfXJldHVybiBmfX1mdW5jdGlvbiB2eSh0LGkpe3ZhciB1LHIsZixlLG87aWYoQXJyYXkuaXNBcnJheSh0KXx8InN0cmluZyI9PXR5cGVvZiB0KWZvcih1PW5ldyBBcnJheSh0Lmxlbmd0aCkscj0wLGY9dC5sZW5ndGg7cjxmO3IrKyl1W3JdPWkodFtyXSxyKTtlbHNlIGlmKCJudW1iZXIiPT10eXBlb2YgdClmb3IodT1uZXcgQXJyYXkodCkscj0wO3I8dDtyKyspdVtyXT1pKHIrMSxyKTtlbHNlIGlmKGgodCkpZm9yKGU9T2JqZWN0LmtleXModCksdT1uZXcgQXJyYXkoZS5sZW5ndGgpLHI9MCxmPWUubGVuZ3RoO3I8ZjtyKyspbz1lW3JdLHVbcl09aSh0W29dLG8scik7cmV0dXJuIG4odSkmJih1Ll9pc1ZMaXN0PSEwKSx1fWZ1bmN0aW9uIHl5KG4sdCxyLHUpe3ZhciBmLHM9dGhpcy4kc2NvcGVkU2xvdHNbbl0sZSxvO3JldHVybiBzPyhyPXJ8fHt9LHUmJihyPWkoaSh7fSx1KSxyKSksZj1zKHIpfHx0KTooZT10aGlzLiRzbG90c1tuXSxlJiYoZS5fcmVuZGVyZWQ9ITApLGY9ZXx8dCksbz1yJiZyLnNsb3Qsbz90aGlzLiRjcmVhdGVFbGVtZW50KCJ0ZW1wbGF0ZSIse3Nsb3Q6b30sZik6Zn1mdW5jdGlvbiBweShuKXtyZXR1cm4gY3UodGhpcy4kb3B0aW9ucywiZmlsdGVycyIsbil8fHVsfWZ1bmN0aW9uIHd5KG4sdCxpLHIpe3ZhciB1PXcua2V5Q29kZXNbdF18fGk7cmV0dXJuIHU/QXJyYXkuaXNBcnJheSh1KT8tMT09PXUuaW5kZXhPZihuKTp1IT09bjpyP2dmKHIpIT09dDp2b2lkIDB9ZnVuY3Rpb24gYnkobix0LGkscix1KXt2YXIgZixlLG87aWYoaSYmaChpKSl7QXJyYXkuaXNBcnJheShpKSYmKGk9aG8oaSkpO2U9ZnVuY3Rpb24oZSl7aWYoImNsYXNzIj09PWV8fCJzdHlsZSI9PT1lfHx2cChlKSlmPW47ZWxzZXt2YXIgbz1uLmF0dHJzJiZuLmF0dHJzLnR5cGU7Zj1yfHx3Lm11c3RVc2VQcm9wKHQsbyxlKT9uLmRvbVByb3BzfHwobi5kb21Qcm9wcz17fSk6bi5hdHRyc3x8KG4uYXR0cnM9e30pfWUgaW4gZnx8KGZbZV09aVtlXSwhdSl8fCgobi5vbnx8KG4ub249e30pKVsidXBkYXRlOiIrZV09ZnVuY3Rpb24obil7aVtlXT1ufSl9O2ZvcihvIGluIGkpZShvKX1yZXR1cm4gbn1mdW5jdGlvbiBreShuLHQpe3ZhciByPXRoaXMuX3N0YXRpY1RyZWVzfHwodGhpcy5fc3RhdGljVHJlZXM9W10pLGk9cltuXTtyZXR1cm4gaSYmIXQ/QXJyYXkuaXNBcnJheShpKT91cihpKTpsbyhpKTooaT1yW25dPXRoaXMuJG9wdGlvbnMuc3RhdGljUmVuZGVyRm5zW25dLmNhbGwodGhpcy5fcmVuZGVyUHJveHksbnVsbCx0aGlzKSxocyhpLCJfX3N0YXRpY19fIituLCExKSxpKX1mdW5jdGlvbiBkeShuLHQsaSl7cmV0dXJuIGhzKG4sIl9fb25jZV9fIit0KyhpPyJfIitpOiIiKSwhMCksbn1mdW5jdGlvbiBocyhuLHQsaSl7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIHI9MDtyPG4ubGVuZ3RoO3IrKyluW3JdJiYic3RyaW5nIiE9dHlwZW9mIG5bcl0mJmNzKG5bcl0sdCsiXyIrcixpKTtlbHNlIGNzKG4sdCxpKX1mdW5jdGlvbiBjcyhuLHQsaSl7bi5pc1N0YXRpYz0hMDtuLmtleT10O24uaXNPbmNlPWl9ZnVuY3Rpb24gZ3kobix0KXt2YXIgdSxyLGYsZTtpZih0JiZ2KHQpKXt1PW4ub249bi5vbj9pKHt9LG4ub24pOnt9O2ZvcihyIGluIHQpZj11W3JdLGU9dFtyXSx1W3JdPWY/W10uY29uY2F0KGYsZSk6ZX1yZXR1cm4gbn1mdW5jdGlvbiBscyhuKXtuLl9vPWR5O24uX249eWk7bi5fcz10eTtuLl9sPXZ5O24uX3Q9eXk7bi5fcT12dDtuLl9pPWNvO24uX209a3k7bi5fZj1weTtuLl9rPXd5O24uX2I9Ynk7bi5fdj1yaTtuLl9lPWd0O24uX3U9cnM7bi5fZz1neX1mdW5jdGlvbiBhcyhuLHQsaSxyLGYpe3ZhciBlPWYub3B0aW9uczt0aGlzLmRhdGE9bjt0aGlzLnByb3BzPXQ7dGhpcy5jaGlsZHJlbj1pO3RoaXMucGFyZW50PXI7dGhpcy5saXN0ZW5lcnM9bi5vbnx8cDt0aGlzLmluamVjdGlvbnM9c3MoZS5pbmplY3Qscik7dGhpcy5zbG90cz1mdW5jdGlvbigpe3JldHVybiB3dShpLHIpfTt2YXIgbz1PYmplY3QuY3JlYXRlKHIpLHM9dShlLl9jb21waWxlZCksaD0hcztzJiYodGhpcy4kb3B0aW9ucz1lLHRoaXMuJHNsb3RzPXRoaXMuc2xvdHMoKSx0aGlzLiRzY29wZWRTbG90cz1uLnNjb3BlZFNsb3RzfHxwKTt0aGlzLl9jPWUuX3Njb3BlSWQ/ZnVuY3Rpb24obix0LGksdSl7dmFyIGY9b3IobyxuLHQsaSx1LGgpO3JldHVybiBmJiYoZi5mblNjb3BlSWQ9ZS5fc2NvcGVJZCxmLmZuQ29udGV4dD1yKSxmfTpmdW5jdGlvbihuLHQsaSxyKXtyZXR1cm4gb3IobyxuLHQsaSxyLGgpfX1mdW5jdGlvbiB2cyhuLHQpe2Zvcih2YXIgaSBpbiB0KW5baXQoaSldPXRbaV19ZnVuY3Rpb24geXMoaSxyLGYsZSxvKXt2YXIgYyxzLGwsdyx2LHk7aWYoIXQoaSkmJihjPWYuJG9wdGlvbnMuX2Jhc2UsaChpKSYmKGk9Yy5leHRlbmQoaSkpLCJmdW5jdGlvbiI9PXR5cGVvZiBpKSlyZXR1cm4gdChpLmNpZCkmJihzPWksdm9pZCAwPT09KGk9ZnVuY3Rpb24oaSxyLGYpe2lmKHUoaS5lcnJvcikmJm4oaS5lcnJvckNvbXApKXJldHVybiBpLmVycm9yQ29tcDtpZihuKGkucmVzb2x2ZWQpKXJldHVybiBpLnJlc29sdmVkO2lmKHUoaS5sb2FkaW5nKSYmbihpLmxvYWRpbmdDb21wKSlyZXR1cm4gaS5sb2FkaW5nQ29tcDtpZighbihpLmNvbnRleHRzKSl7dmFyIGw9aS5jb250ZXh0cz1bZl0sYT0hMCxzPWZ1bmN0aW9uKCl7Zm9yKHZhciBuPTAsdD1sLmxlbmd0aDtuPHQ7bisrKWxbbl0uJGZvcmNlVXBkYXRlKCl9LGM9cnIoZnVuY3Rpb24obil7aS5yZXNvbHZlZD1wdShuLHIpO2F8fHMoKX0pLG89cnIoZnVuY3Rpb24oKXtuKGkuZXJyb3JDb21wKSYmKGkuZXJyb3I9ITAscygpKX0pLGU9aShjLG8pO3JldHVybiBoKGUpJiYoImZ1bmN0aW9uIj09dHlwZW9mIGUudGhlbj90KGkucmVzb2x2ZWQpJiZlLnRoZW4oYyxvKTpuKGUuY29tcG9uZW50KSYmImZ1bmN0aW9uIj09dHlwZW9mIGUuY29tcG9uZW50LnRoZW4mJihlLmNvbXBvbmVudC50aGVuKGMsbyksbihlLmVycm9yKSYmKGkuZXJyb3JDb21wPXB1KGUuZXJyb3IscikpLG4oZS5sb2FkaW5nKSYmKGkubG9hZGluZ0NvbXA9cHUoZS5sb2FkaW5nLHIpLDA9PT1lLmRlbGF5P2kubG9hZGluZz0hMDpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dChpLnJlc29sdmVkKSYmdChpLmVycm9yKSYmKGkubG9hZGluZz0hMCxzKCkpfSxlLmRlbGF5fHwyMDApKSxuKGUudGltZW91dCkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXt0KGkucmVzb2x2ZWQpJiZvKG51bGwpfSxlLnRpbWVvdXQpKSksYT0hMSxpLmxvYWRpbmc/aS5sb2FkaW5nQ29tcDppLnJlc29sdmVkfWkuY29udGV4dHMucHVzaChmKX0ocyxjLGYpKSk/ZnVuY3Rpb24obix0LGkscix1KXt2YXIgZj1ndCgpO3JldHVybiBmLmFzeW5jRmFjdG9yeT1uLGYuYXN5bmNNZXRhPXtkYXRhOnQsY29udGV4dDppLGNoaWxkcmVuOnIsdGFnOnV9LGZ9KHMscixmLGUsbyk6KHI9cnx8e30sZ3UoaSksbihyLm1vZGVsKSYmZnVuY3Rpb24odCxpKXt2YXIgZj10Lm1vZGVsJiZ0Lm1vZGVsLnByb3B8fCJ2YWx1ZSIsdT10Lm1vZGVsJiZ0Lm1vZGVsLmV2ZW50fHwiaW5wdXQiLHI7KGkucHJvcHN8fChpLnByb3BzPXt9KSlbZl09aS5tb2RlbC52YWx1ZTtyPWkub258fChpLm9uPXt9KTtyW3VdPW4oclt1XSk/W2kubW9kZWwuY2FsbGJhY2tdLmNvbmNhdChyW3VdKTppLm1vZGVsLmNhbGxiYWNrfShpLm9wdGlvbnMsciksbD1mdW5jdGlvbihpLHIpe3ZhciBvPXIub3B0aW9ucy5wcm9wcyx1LGU7aWYoIXQobykpe3ZhciBmPXt9LHM9aS5hdHRycyxoPWkucHJvcHM7aWYobihzKXx8bihoKSlmb3IodSBpbiBvKWU9Z2YodSksZ28oZixoLHUsZSwhMCl8fGdvKGYscyx1LGUsITEpO3JldHVybiBmfX0ocixpKSx1KGkub3B0aW9ucy5mdW5jdGlvbmFsKSk/ZnVuY3Rpb24odCxpLHIsdSxmKXt2YXIgcz10Lm9wdGlvbnMsbz17fSxoPXMucHJvcHMsYyxsLGU7aWYobihoKSlmb3IoYyBpbiBoKW9bY109bHUoYyxoLGl8fHApO2Vsc2UgbihyLmF0dHJzKSYmdnMobyxyLmF0dHJzKSxuKHIucHJvcHMpJiZ2cyhvLHIucHJvcHMpO3JldHVybiBsPW5ldyBhcyhyLG8sZix1LHQpLGU9cy5yZW5kZXIuY2FsbChudWxsLGwuX2MsbCksZSBpbnN0YW5jZW9mIGEmJihlLmZuQ29udGV4dD11LGUuZm5PcHRpb25zPXMsci5zbG90JiYoKGUuZGF0YXx8KGUuZGF0YT17fSkpLnNsb3Q9ci5zbG90KSksZX0oaSxsLHIsZixlKToodz1yLm9uLChyLm9uPXIubmF0aXZlT24sdShpLm9wdGlvbnMuYWJzdHJhY3QpKSYmKHY9ci5zbG90LHI9e30sdiYmKHIuc2xvdD12KSksIWZ1bmN0aW9uKG4pe3ZhciB0O2ZvcihuLmhvb2t8fChuLmhvb2s9e30pLHQ9MDt0PGdsLmxlbmd0aDt0Kyspe3ZhciBpPWdsW3RdLHI9bi5ob29rW2ldLHU9YWVbaV07bi5ob29rW2ldPXI/ZnVuY3Rpb24obix0KXtyZXR1cm4gZnVuY3Rpb24oaSxyLHUsZil7bihpLHIsdSxmKTt0KGkscix1LGYpfX0odSxyKTp1fX0ocikseT1pLm9wdGlvbnMubmFtZXx8byxuZXcgYSgidnVlLWNvbXBvbmVudC0iK2kuY2lkKyh5PyItIit5OiIiKSxyLHZvaWQgMCx2b2lkIDAsdm9pZCAwLGYse0N0b3I6aSxwcm9wc0RhdGE6bCxsaXN0ZW5lcnM6dyx0YWc6byxjaGlsZHJlbjplfSxzKSl9ZnVuY3Rpb24gb3IodCxpLHIsZixlLG8pe3JldHVybihBcnJheS5pc0FycmF5KHIpfHx2aShyKSkmJihlPWYsZj1yLHI9dm9pZCAwKSx1KG8pJiYoZT1uYSksZnVuY3Rpb24odCxpLHIsdSxmKXt2YXIgZSxvLHM7cmV0dXJuIG4ocikmJm4oci5fX29iX18pP2d0KCk6KG4ocikmJm4oci5pcykmJihpPXIuaXMpLCFpKT9ndCgpOihBcnJheS5pc0FycmF5KHUpJiYiZnVuY3Rpb24iPT10eXBlb2YgdVswXSYmKChyPXJ8fHt9KS5zY29wZWRTbG90cz17ImRlZmF1bHQiOnVbMF19LHUubGVuZ3RoPTApLGY9PT1uYT91PWZ1bmN0aW9uKG4pe3JldHVybiB2aShuKT9bcmkobildOkFycmF5LmlzQXJyYXkobik/bnMobik6dm9pZCAwfSh1KTpmPT09ZXcmJih1PWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD0wO3Q8bi5sZW5ndGg7dCsrKWlmKEFycmF5LmlzQXJyYXkoblt0XSkpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sbik7cmV0dXJuIG59KHUpKSwic3RyaW5nIj09dHlwZW9mIGk/KG89dC4kdm5vZGUmJnQuJHZub2RlLm5zfHx3LmdldFRhZ05hbWVzcGFjZShpKSxlPXcuaXNSZXNlcnZlZFRhZyhpKT9uZXcgYSh3LnBhcnNlUGxhdGZvcm1UYWdOYW1lKGkpLHIsdSx2b2lkIDAsdm9pZCAwLHQpOm4ocz1jdSh0LiRvcHRpb25zLCJjb21wb25lbnRzIixpKSk/eXMocyxyLHQsdSxpKTpuZXcgYShpLHIsdSx2b2lkIDAsdm9pZCAwLHQpKTplPXlzKGkscix0LHUpLG4oZSk/KG8mJnBzKGUsbyksZSk6Z3QoKSl9KHQsaSxyLGYsZSl9ZnVuY3Rpb24gcHMoaSxyLGYpe3ZhciBlLHMsbztpZihpLm5zPXIsImZvcmVpZ25PYmplY3QiPT09aS50YWcmJihyPXZvaWQgMCxmPSEwKSxuKGkuY2hpbGRyZW4pKWZvcihlPTAscz1pLmNoaWxkcmVuLmxlbmd0aDtlPHM7ZSsrKW89aS5jaGlsZHJlbltlXSxuKG8udGFnKSYmKHQoby5ucyl8fHUoZikpJiZwcyhvLHIsZil9ZnVuY3Rpb24gZ3Uobil7dmFyIHQ9bi5vcHRpb25zLHIsdTtyZXR1cm4gbi5zdXBlciYmKHI9Z3Uobi5zdXBlciksciE9PW4uc3VwZXJPcHRpb25zJiYobi5zdXBlck9wdGlvbnM9cix1PWZ1bmN0aW9uKG4pe3ZhciBpLHI9bi5vcHRpb25zLGY9bi5leHRlbmRPcHRpb25zLHU9bi5zZWFsZWRPcHRpb25zO2Zvcih2YXIgdCBpbiByKXJbdF0hPT11W3RdJiYoaXx8KGk9e30pLGlbdF09ZnVuY3Rpb24obix0LGkpe3ZhciB1LHI7aWYoQXJyYXkuaXNBcnJheShuKSl7Zm9yKHU9W10saT1BcnJheS5pc0FycmF5KGkpP2k6W2ldLHQ9QXJyYXkuaXNBcnJheSh0KT90Olt0XSxyPTA7cjxuLmxlbmd0aDtyKyspKHQuaW5kZXhPZihuW3JdKT49MHx8aS5pbmRleE9mKG5bcl0pPDApJiZ1LnB1c2gobltyXSk7cmV0dXJuIHV9cmV0dXJuIG59KHJbdF0sZlt0XSx1W3RdKSk7cmV0dXJuIGl9KG4pLHUmJmkobi5leHRlbmRPcHRpb25zLHUpLCh0PW4ub3B0aW9ucz1wdChyLG4uZXh0ZW5kT3B0aW9ucykpLm5hbWUmJih0LmNvbXBvbmVudHNbdC5uYW1lXT1uKSkpLHR9ZnVuY3Rpb24gcihuKXt0aGlzLl9pbml0KG4pfWZ1bmN0aW9uIG5wKG4pe24uY2lkPTA7dmFyIHQ9MTtuLmV4dGVuZD1mdW5jdGlvbihuKXt2YXIgbyxyO249bnx8e307dmFyIHU9dGhpcyxmPXUuY2lkLGU9bi5fQ3Rvcnx8KG4uX0N0b3I9e30pO3JldHVybiBlW2ZdP2VbZl06KG89bi5uYW1lfHx1Lm9wdGlvbnMubmFtZSxyPWZ1bmN0aW9uKG4pe3RoaXMuX2luaXQobil9LHIucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodS5wcm90b3R5cGUpLHIucHJvdG90eXBlLmNvbnN0cnVjdG9yPXIsci5jaWQ9dCsrLHIub3B0aW9ucz1wdCh1Lm9wdGlvbnMsbiksci5zdXBlcj11LHIub3B0aW9ucy5wcm9wcyYmZnVuY3Rpb24obil7dmFyIHQ9bi5vcHRpb25zLnByb3BzO2Zvcih2YXIgaSBpbiB0KWt1KG4ucHJvdG90eXBlLCJfcHJvcHMiLGkpfShyKSxyLm9wdGlvbnMuY29tcHV0ZWQmJmZ1bmN0aW9uKG4pe3ZhciB0PW4ub3B0aW9ucy5jb21wdXRlZDtmb3IodmFyIGkgaW4gdCllcyhuLnByb3RvdHlwZSxpLHRbaV0pfShyKSxyLmV4dGVuZD11LmV4dGVuZCxyLm1peGluPXUubWl4aW4sci51c2U9dS51c2UsbHIuZm9yRWFjaChmdW5jdGlvbihuKXtyW25dPXVbbl19KSxvJiYoci5vcHRpb25zLmNvbXBvbmVudHNbb109ciksci5zdXBlck9wdGlvbnM9dS5vcHRpb25zLHIuZXh0ZW5kT3B0aW9ucz1uLHIuc2VhbGVkT3B0aW9ucz1pKHt9LHIub3B0aW9ucyksZVtmXT1yLHIpfX1mdW5jdGlvbiB3cyhuKXtyZXR1cm4gbiYmKG4uQ3Rvci5vcHRpb25zLm5hbWV8fG4udGFnKX1mdW5jdGlvbiBzcihuLHQpe3JldHVybiBBcnJheS5pc0FycmF5KG4pP24uaW5kZXhPZih0KT4tMToic3RyaW5nIj09dHlwZW9mIG4/bi5zcGxpdCgiLCIpLmluZGV4T2YodCk+LTE6ISFmdW5jdGlvbihuKXtyZXR1cm4iW29iamVjdCBSZWdFeHBdIj09PXJsLmNhbGwobil9KG4pJiZuLnRlc3QodCl9ZnVuY3Rpb24gYnMobix0KXt2YXIgaT1uLmNhY2hlLGU9bi5rZXlzLG89bi5fdm5vZGUscix1LGY7Zm9yKHIgaW4gaSl1PWlbcl0sdSYmKGY9d3ModS5jb21wb25lbnRPcHRpb25zKSxmJiYhdChmKSYmbmYoaSxyLGUsbykpfWZ1bmN0aW9uIG5mKG4sdCxpLHIpe3ZhciB1PW5bdF07IXV8fHImJnUudGFnPT09ci50YWd8fHUuY29tcG9uZW50SW5zdGFuY2UuJGRlc3Ryb3koKTtuW3RdPW51bGw7aHQoaSx0KX1mdW5jdGlvbiB0cCh0KXtmb3IodmFyIGk9dC5kYXRhLHI9dCx1PXQ7bih1LmNvbXBvbmVudEluc3RhbmNlKTspKHU9dS5jb21wb25lbnRJbnN0YW5jZS5fdm5vZGUpJiZ1LmRhdGEmJihpPWtzKHUuZGF0YSxpKSk7Zm9yKDtuKHI9ci5wYXJlbnQpOylyJiZyLmRhdGEmJihpPWtzKGksci5kYXRhKSk7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7cmV0dXJuIG4odCl8fG4oaSk/dGYodCxyZihpKSk6IiJ9KGkuc3RhdGljQ2xhc3MsaS5jbGFzcyl9ZnVuY3Rpb24ga3ModCxpKXtyZXR1cm57c3RhdGljQ2xhc3M6dGYodC5zdGF0aWNDbGFzcyxpLnN0YXRpY0NsYXNzKSwiY2xhc3MiOm4odC5jbGFzcyk/W3QuY2xhc3MsaS5jbGFzc106aS5jbGFzc319ZnVuY3Rpb24gdGYobix0KXtyZXR1cm4gbj90P24rIiAiK3Q6bjp0fHwiIn1mdW5jdGlvbiByZih0KXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KT9mdW5jdGlvbih0KXtmb3IodmFyIHIsaT0iIix1PTAsZj10Lmxlbmd0aDt1PGY7dSsrKW4ocj1yZih0W3VdKSkmJiIiIT09ciYmKGkmJihpKz0iICIpLGkrPXIpO3JldHVybiBpfSh0KTpoKHQpP2Z1bmN0aW9uKG4pe3ZhciB0PSIiO2Zvcih2YXIgaSBpbiBuKW5baV0mJih0JiYodCs9IiAiKSx0Kz1pKTtyZXR1cm4gdH0odCk6InN0cmluZyI9PXR5cGVvZiB0P3Q6IiJ9ZnVuY3Rpb24gZHMobil7cmV0dXJuIGVhKG4pPyJzdmciOiJtYXRoIj09PW4/Im1hdGgiOnZvaWQgMH1mdW5jdGlvbiB1ZihuKXtpZigic3RyaW5nIj09dHlwZW9mIG4pe3ZhciB0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iobik7cmV0dXJuIHR8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpfXJldHVybiBufWZ1bmN0aW9uIGZpKG4sdCl7dmFyIGk9bi5kYXRhLnJlZjtpZihpKXt2YXIgZj1uLmNvbnRleHQsdT1uLmNvbXBvbmVudEluc3RhbmNlfHxuLmVsbSxyPWYuJHJlZnM7dD9BcnJheS5pc0FycmF5KHJbaV0pP2h0KHJbaV0sdSk6cltpXT09PXUmJihyW2ldPXZvaWQgMCk6bi5kYXRhLnJlZkluRm9yP0FycmF5LmlzQXJyYXkocltpXSk/cltpXS5pbmRleE9mKHUpPDAmJnJbaV0ucHVzaCh1KTpyW2ldPVt1XTpyW2ldPXV9fWZ1bmN0aW9uIHd0KGkscil7cmV0dXJuIGkua2V5PT09ci5rZXkmJihpLnRhZz09PXIudGFnJiZpLmlzQ29tbWVudD09PXIuaXNDb21tZW50JiZuKGkuZGF0YSk9PT1uKHIuZGF0YSkmJmZ1bmN0aW9uKHQsaSl7aWYoImlucHV0IiE9PXQudGFnKXJldHVybiEwO3ZhciByLHU9bihyPXQuZGF0YSkmJm4ocj1yLmF0dHJzKSYmci50eXBlLGY9bihyPWkuZGF0YSkmJm4ocj1yLmF0dHJzKSYmci50eXBlO3JldHVybiB1PT09Znx8ZGUodSkmJmRlKGYpfShpLHIpfHx1KGkuaXNBc3luY1BsYWNlaG9sZGVyKSYmaS5hc3luY0ZhY3Rvcnk9PT1yLmFzeW5jRmFjdG9yeSYmdChyLmFzeW5jRmFjdG9yeS5lcnJvcikpfWZ1bmN0aW9uIGlwKHQsaSxyKXtmb3IodmFyIGYsZT17fSx1PWk7dTw9cjsrK3UpbihmPXRbdV0ua2V5KSYmKGVbZl09dSk7cmV0dXJuIGV9ZnVuY3Rpb24gZmYobix0KXsobi5kYXRhLmRpcmVjdGl2ZXN8fHQuZGF0YS5kaXJlY3RpdmVzKSYmZnVuY3Rpb24obix0KXt2YXIgcixlLGksYz1uPT09dGksbD10PT09dGksbz1ncyhuLmRhdGEuZGlyZWN0aXZlcyxuLmNvbnRleHQpLHM9Z3ModC5kYXRhLmRpcmVjdGl2ZXMsdC5jb250ZXh0KSx1PVtdLGY9W10saDtmb3IociBpbiBzKWU9b1tyXSxpPXNbcl0sZT8oaS5vbGRWYWx1ZT1lLnZhbHVlLGJpKGksInVwZGF0ZSIsdCxuKSxpLmRlZiYmaS5kZWYuY29tcG9uZW50VXBkYXRlZCYmZi5wdXNoKGkpKTooYmkoaSwiYmluZCIsdCxuKSxpLmRlZiYmaS5kZWYuaW5zZXJ0ZWQmJnUucHVzaChpKSk7aWYodS5sZW5ndGgmJihoPWZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTx1Lmxlbmd0aDtpKyspYmkodVtpXSwiaW5zZXJ0ZWQiLHQsbil9LGM/bHQodCwiaW5zZXJ0IixoKTpoKCkpLGYubGVuZ3RoJiZsdCh0LCJwb3N0cGF0Y2giLGZ1bmN0aW9uKCl7Zm9yKHZhciBpPTA7aTxmLmxlbmd0aDtpKyspYmkoZltpXSwiY29tcG9uZW50VXBkYXRlZCIsdCxuKX0pLCFjKWZvcihyIGluIG8pc1tyXXx8Ymkob1tyXSwidW5iaW5kIixuLG4sbCl9KG4sdCl9ZnVuY3Rpb24gZ3Mobix0KXt2YXIgdT1PYmplY3QuY3JlYXRlKG51bGwpLHIsaTtpZighbilyZXR1cm4gdTtmb3Iocj0wO3I8bi5sZW5ndGg7cisrKShpPW5bcl0pLm1vZGlmaWVyc3x8KGkubW9kaWZpZXJzPXd3KSx1W2Z1bmN0aW9uKG4pe3JldHVybiBuLnJhd05hbWV8fG4ubmFtZSsiLiIrT2JqZWN0LmtleXMobi5tb2RpZmllcnN8fHt9KS5qb2luKCIuIil9KGkpXT1pLGkuZGVmPWN1KHQuJG9wdGlvbnMsImRpcmVjdGl2ZXMiLGkubmFtZSk7cmV0dXJuIHV9ZnVuY3Rpb24gYmkobix0LGkscix1KXt2YXIgZj1uLmRlZiYmbi5kZWZbdF07aWYoZil0cnl7ZihpLmVsbSxuLGkscix1KX1jYXRjaChyKXtjdChyLGkuY29udGV4dCwiZGlyZWN0aXZlICIrbi5uYW1lKyIgIit0KyIgaG9vayIpfX1mdW5jdGlvbiBuaChyLHUpe3ZhciBjPXUuY29tcG9uZW50T3B0aW9ucztpZighKG4oYykmJiExPT09Yy5DdG9yLm9wdGlvbnMuaW5oZXJpdEF0dHJzfHx0KHIuZGF0YS5hdHRycykmJnQodS5kYXRhLmF0dHJzKSkpe3ZhciBmLHMsbz11LmVsbSxoPXIuZGF0YS5hdHRyc3x8e30sZT11LmRhdGEuYXR0cnN8fHt9O24oZS5fX29iX18pJiYoZT11LmRhdGEuYXR0cnM9aSh7fSxlKSk7Zm9yKGYgaW4gZSlzPWVbZl0saFtmXSE9PXMmJnRoKG8sZixzKTsoaGl8fGhsKSYmZS52YWx1ZSE9PWgudmFsdWUmJnRoKG8sInZhbHVlIixlLnZhbHVlKTtmb3IoZiBpbiBoKXQoZVtmXSkmJihiZShmKT9vLnJlbW92ZUF0dHJpYnV0ZU5TKHdlLGZhKGYpKTp1YShmKXx8by5yZW1vdmVBdHRyaWJ1dGUoZikpfX1mdW5jdGlvbiB0aChuLHQsaSl7aWYoY3codCkpZHIoaSk/bi5yZW1vdmVBdHRyaWJ1dGUodCk6KGk9ImFsbG93ZnVsbHNjcmVlbiI9PT10JiYiRU1CRUQiPT09bi50YWdOYW1lPyJ0cnVlIjp0LG4uc2V0QXR0cmlidXRlKHQsaSkpO2Vsc2UgaWYodWEodCkpbi5zZXRBdHRyaWJ1dGUodCxkcihpKXx8ImZhbHNlIj09PWk/ImZhbHNlIjoidHJ1ZSIpO2Vsc2UgaWYoYmUodCkpZHIoaSk/bi5yZW1vdmVBdHRyaWJ1dGVOUyh3ZSxmYSh0KSk6bi5zZXRBdHRyaWJ1dGVOUyh3ZSx0LGkpO2Vsc2UgaWYoZHIoaSkpbi5yZW1vdmVBdHRyaWJ1dGUodCk7ZWxzZXtpZihoaSYmIWNpJiYiVEVYVEFSRUEiPT09bi50YWdOYW1lJiYicGxhY2Vob2xkZXIiPT09dCYmIW4uX19pZXBoKXt2YXIgcj1mdW5jdGlvbih0KXt0LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO24ucmVtb3ZlRXZlbnRMaXN0ZW5lcigiaW5wdXQiLHIpfTtuLmFkZEV2ZW50TGlzdGVuZXIoImlucHV0IixyKTtuLl9faWVwaD0hMH1uLnNldEF0dHJpYnV0ZSh0LGkpfX1mdW5jdGlvbiBpaChpLHIpe3ZhciBmPXIuZWxtLHM9ci5kYXRhLGU9aS5kYXRhLHUsbzt0KHMuc3RhdGljQ2xhc3MpJiZ0KHMuY2xhc3MpJiYodChlKXx8dChlLnN0YXRpY0NsYXNzKSYmdChlLmNsYXNzKSl8fCh1PXRwKHIpLG89Zi5fdHJhbnNpdGlvbkNsYXNzZXMsbihvKSYmKHU9dGYodSxyZihvKSkpLHUhPT1mLl9wcmV2Q2xhc3MmJihmLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHUpLGYuX3ByZXZDbGFzcz11KSl9ZnVuY3Rpb24gZWYobil7ZnVuY3Rpb24gdygpeyhmfHwoZj1bXSkpLnB1c2gobi5zbGljZShlLHQpLnRyaW0oKSk7ZT10KzF9Zm9yKHZhciBpLHUscixmLGg9ITEsYz0hMSxsPSExLGE9ITEsdj0wLHk9MCxwPTAsZT0wLG8scyx0PTA7dDxuLmxlbmd0aDt0KyspaWYodT1pLGk9bi5jaGFyQ29kZUF0KHQpLGgpMzk9PT1pJiY5MiE9PXUmJihoPSExKTtlbHNlIGlmKGMpMzQ9PT1pJiY5MiE9PXUmJihjPSExKTtlbHNlIGlmKGwpOTY9PT1pJiY5MiE9PXUmJihsPSExKTtlbHNlIGlmKGEpNDc9PT1pJiY5MiE9PXUmJihhPSExKTtlbHNlIGlmKDEyNCE9PWl8fDEyND09PW4uY2hhckNvZGVBdCh0KzEpfHwxMjQ9PT1uLmNoYXJDb2RlQXQodC0xKXx8dnx8eXx8cCl7c3dpdGNoKGkpe2Nhc2UgMzQ6Yz0hMDticmVhaztjYXNlIDM5Omg9ITA7YnJlYWs7Y2FzZSA5NjpsPSEwO2JyZWFrO2Nhc2UgNDA6cCsrO2JyZWFrO2Nhc2UgNDE6cC0tO2JyZWFrO2Nhc2UgOTE6eSsrO2JyZWFrO2Nhc2UgOTM6eS0tO2JyZWFrO2Nhc2UgMTIzOnYrKzticmVhaztjYXNlIDEyNTp2LS19aWYoNDc9PT1pKXtmb3Iobz10LTEscz12b2lkIDA7bz49MCYmIiAiPT09KHM9bi5jaGFyQXQobykpO28tLSk7cyYmZ3cudGVzdChzKXx8KGE9ITApfX1lbHNlIHZvaWQgMD09PXI/KGU9dCsxLHI9bi5zbGljZSgwLHQpLnRyaW0oKSk6dygpO2lmKHZvaWQgMD09PXI/cj1uLnNsaWNlKDAsdCkudHJpbSgpOjAhPT1lJiZ3KCksZilmb3IodD0wO3Q8Zi5sZW5ndGg7dCsrKXI9ZnVuY3Rpb24obix0KXt2YXIgaT10LmluZGV4T2YoIigiKSxyLHU7cmV0dXJuIGk8MD8nX2YoIicrdCsnIikoJytuKyIpIjoocj10LnNsaWNlKDAsaSksdT10LnNsaWNlKGkrMSksJ19mKCInK3IrJyIpKCcrbisiLCIrdSl9KHIsZlt0XSk7cmV0dXJuIHJ9ZnVuY3Rpb24gcmgobil7Y29uc29sZS5lcnJvcigiW1Z1ZSBjb21waWxlcl06ICIrbil9ZnVuY3Rpb24ga2kobix0KXtyZXR1cm4gbj9uLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gblt0XX0pLmZpbHRlcihmdW5jdGlvbihuKXtyZXR1cm4gbn0pOltdfWZ1bmN0aW9uIGJ0KG4sdCxpKXsobi5wcm9wc3x8KG4ucHJvcHM9W10pKS5wdXNoKHtuYW1lOnQsdmFsdWU6aX0pO24ucGxhaW49ITF9ZnVuY3Rpb24gb2Yobix0LGkpeyhuLmF0dHJzfHwobi5hdHRycz1bXSkpLnB1c2goe25hbWU6dCx2YWx1ZTppfSk7bi5wbGFpbj0hMX1mdW5jdGlvbiBzZihuLHQsaSl7bi5hdHRyc01hcFt0XT1pO24uYXR0cnNMaXN0LnB1c2goe25hbWU6dCx2YWx1ZTppfSl9ZnVuY3Rpb24gcnAobix0LGkscix1LGYpeyhuLmRpcmVjdGl2ZXN8fChuLmRpcmVjdGl2ZXM9W10pKS5wdXNoKHtuYW1lOnQscmF3TmFtZTppLHZhbHVlOnIsYXJnOnUsbW9kaWZpZXJzOmZ9KTtuLnBsYWluPSExfWZ1bmN0aW9uIGt0KG4sdCxpLHIsdSl7dmFyIG8sZixlOyhyPXJ8fHApLmNhcHR1cmUmJihkZWxldGUgci5jYXB0dXJlLHQ9IiEiK3QpO3Iub25jZSYmKGRlbGV0ZSByLm9uY2UsdD0ifiIrdCk7ci5wYXNzaXZlJiYoZGVsZXRlIHIucGFzc2l2ZSx0PSImIit0KTsiY2xpY2siPT09dCYmKHIucmlnaHQ/KHQ9ImNvbnRleHRtZW51IixkZWxldGUgci5yaWdodCk6ci5taWRkbGUmJih0PSJtb3VzZXVwIikpO3IubmF0aXZlPyhkZWxldGUgci5uYXRpdmUsbz1uLm5hdGl2ZUV2ZW50c3x8KG4ubmF0aXZlRXZlbnRzPXt9KSk6bz1uLmV2ZW50c3x8KG4uZXZlbnRzPXt9KTtmPXt2YWx1ZTppfTtyIT09cCYmKGYubW9kaWZpZXJzPXIpO2U9b1t0XTtBcnJheS5pc0FycmF5KGUpP3U/ZS51bnNoaWZ0KGYpOmUucHVzaChmKTpvW3RdPWU/dT9bZixlXTpbZSxmXTpmO24ucGxhaW49ITF9ZnVuY3Rpb24geShuLHQsaSl7dmFyIHU9ZihuLCI6Iit0KXx8ZihuLCJ2LWJpbmQ6Iit0KSxyO3JldHVybiBudWxsIT11P2VmKHUpOiExIT09aSYmKHI9ZihuLHQpLG51bGwhPXIpP0pTT04uc3RyaW5naWZ5KHIpOnZvaWQgMH1mdW5jdGlvbiBmKG4sdCxpKXt2YXIgZjtpZihudWxsIT0oZj1uLmF0dHJzTWFwW3RdKSlmb3IodmFyIHU9bi5hdHRyc0xpc3Qscj0wLGU9dS5sZW5ndGg7cjxlO3IrKylpZih1W3JdLm5hbWU9PT10KXt1LnNwbGljZShyLDEpO2JyZWFrfXJldHVybiBpJiZkZWxldGUgbi5hdHRyc01hcFt0XSxmfWZ1bmN0aW9uIHVoKG4sdCxpKXt2YXIgdT1pfHx7fSxyPSIkJHYiLGY7dS50cmltJiYocj0iKHR5cGVvZiAkJHYgPT09ICdzdHJpbmcnPyAkJHYudHJpbSgpOiAkJHYpIik7dS5udW1iZXImJihyPSJfbigiK3IrIikiKTtmPWVpKHQscik7bi5tb2RlbD17dmFsdWU6IigiK3QrIikiLGV4cHJlc3Npb246JyInK3QrJyInLGNhbGxiYWNrOiJmdW5jdGlvbiAoJCR2KSB7IitmKyJ9In19ZnVuY3Rpb24gZWkobix0KXt2YXIgaT1mdW5jdGlvbihuKXtpZih5ZT1uLmxlbmd0aCxuLmluZGV4T2YoIlsiKTwwfHxuLmxhc3RJbmRleE9mKCJdIik8eWUtMSlyZXR1cm4oYXQ9bi5sYXN0SW5kZXhPZigiLiIpKT4tMT97ZXhwOm4uc2xpY2UoMCxhdCksa2V5OiciJytuLnNsaWNlKGF0KzEpKyciJ306e2V4cDpuLGtleTpudWxsfTtmb3IoaWE9bixhdD1icj1wZT0wOyFjZigpOylmaCh3cj1oZigpKT9laCh3cik6OTE9PT13ciYmZnVuY3Rpb24obil7dmFyIHQ9MTtmb3IoYnI9YXQ7IWNmKCk7KWlmKG49aGYoKSxmaChuKSllaChuKTtlbHNlIGlmKDkxPT09biYmdCsrLDkzPT09biYmdC0tLDA9PT10KXtwZT1hdDticmVha319KHdyKTtyZXR1cm57ZXhwOm4uc2xpY2UoMCxiciksa2V5Om4uc2xpY2UoYnIrMSxwZSl9fShuKTtyZXR1cm4gbnVsbD09PWkua2V5P24rIj0iK3Q6IiRzZXQoIitpLmV4cCsiLCAiK2kua2V5KyIsICIrdCsiKSJ9ZnVuY3Rpb24gaGYoKXtyZXR1cm4gaWEuY2hhckNvZGVBdCgrK2F0KX1mdW5jdGlvbiBjZigpe3JldHVybiBhdD49eWV9ZnVuY3Rpb24gZmgobil7cmV0dXJuIDM0PT09bnx8Mzk9PT1ufWZ1bmN0aW9uIGVoKG4pe2Zvcih2YXIgdD1uOyFjZigpJiYobj1oZigpKSE9PXQ7KTt9ZnVuY3Rpb24gdXAobix0LGkscix1KXt0PWZ1bmN0aW9uKG4pe3JldHVybiBuLl93aXRoVGFza3x8KG4uX3dpdGhUYXNrPWZ1bmN0aW9uKCl7b2U9ITA7dmFyIHQ9bi5hcHBseShudWxsLGFyZ3VtZW50cyk7cmV0dXJuIG9lPSExLHR9KX0odCk7aSYmKHQ9ZnVuY3Rpb24obix0LGkpe3ZhciByPXRyO3JldHVybiBmdW5jdGlvbiB1KCl7bnVsbCE9PW4uYXBwbHkobnVsbCxhcmd1bWVudHMpJiZvaCh0LHUsaSxyKX19KHQsbixyKSk7dHIuYWRkRXZlbnRMaXN0ZW5lcihuLHQsY2w/e2NhcHR1cmU6cixwYXNzaXZlOnV9OnIpfWZ1bmN0aW9uIG9oKG4sdCxpLHIpeyhyfHx0cikucmVtb3ZlRXZlbnRMaXN0ZW5lcihuLHQuX3dpdGhUYXNrfHx0LGkpfWZ1bmN0aW9uIHNoKGkscil7aWYoIXQoaS5kYXRhLm9uKXx8IXQoci5kYXRhLm9uKSl7dmFyIHU9ci5kYXRhLm9ufHx7fSxmPWkuZGF0YS5vbnx8e307dHI9ci5lbG0sZnVuY3Rpb24odCl7aWYobih0W251XSkpe3ZhciBpPWhpPyJjaGFuZ2UiOiJpbnB1dCI7dFtpXT1bXS5jb25jYXQodFtudV0sdFtpXXx8W10pO2RlbGV0ZSB0W251XX1uKHRbZ2VdKSYmKHQuY2hhbmdlPVtdLmNvbmNhdCh0W2dlXSx0LmNoYW5nZXx8W10pLGRlbGV0ZSB0W2dlXSl9KHUpO2tvKHUsZix1cCxvaCxyLmNvbnRleHQpO3RyPXZvaWQgMH19ZnVuY3Rpb24gaGgocix1KXt2YXIgaDtpZighdChyLmRhdGEuZG9tUHJvcHMpfHwhdCh1LmRhdGEuZG9tUHJvcHMpKXt2YXIgZixvLGU9dS5lbG0sYz1yLmRhdGEuZG9tUHJvcHN8fHt9LHM9dS5kYXRhLmRvbVByb3BzfHx7fTtuKHMuX19vYl9fKSYmKHM9dS5kYXRhLmRvbVByb3BzPWkoe30scykpO2ZvcihmIGluIGMpdChzW2ZdKSYmKGVbZl09IiIpO2ZvcihmIGluIHMpe2lmKG89c1tmXSwidGV4dENvbnRlbnQiPT09Znx8ImlubmVySFRNTCI9PT1mKXtpZih1LmNoaWxkcmVuJiYodS5jaGlsZHJlbi5sZW5ndGg9MCksbz09PWNbZl0pY29udGludWU7MT09PWUuY2hpbGROb2Rlcy5sZW5ndGgmJmUucmVtb3ZlQ2hpbGQoZS5jaGlsZE5vZGVzWzBdKX0idmFsdWUiPT09Zj8oZS5fdmFsdWU9byxoPXQobyk/IiI6U3RyaW5nKG8pLGZ1bmN0aW9uKHQsaSl7cmV0dXJuIXQuY29tcG9zaW5nJiYoIk9QVElPTiI9PT10LnRhZ05hbWV8fGZ1bmN0aW9uKG4sdCl7dmFyIGk9ITA7dHJ5e2k9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PW59Y2F0Y2gobil7fXJldHVybiBpJiZuLnZhbHVlIT09dH0odCxpKXx8ZnVuY3Rpb24odCxpKXt2YXIgdT10LnZhbHVlLHI9dC5fdk1vZGlmaWVycztpZihuKHIpKXtpZihyLmxhenkpcmV0dXJuITE7aWYoci5udW1iZXIpcmV0dXJuIHlpKHUpIT09eWkoaSk7aWYoci50cmltKXJldHVybiB1LnRyaW0oKSE9PWkudHJpbSgpfXJldHVybiB1IT09aX0odCxpKSl9KGUsaCkmJihlLnZhbHVlPWgpKTplW2ZdPW99fX1mdW5jdGlvbiBsZihuKXt2YXIgdD1jaChuLnN0eWxlKTtyZXR1cm4gbi5zdGF0aWNTdHlsZT9pKG4uc3RhdGljU3R5bGUsdCk6dH1mdW5jdGlvbiBjaChuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKT9obyhuKToic3RyaW5nIj09dHlwZW9mIG4/b2Eobik6bn1mdW5jdGlvbiBsaChyLHUpe3ZhciBjPXUuZGF0YSxlPXIuZGF0YSxvO2lmKCEodChjLnN0YXRpY1N0eWxlKSYmdChjLnN0eWxlKSYmdChlLnN0YXRpY1N0eWxlKSYmdChlLnN0eWxlKSkpe3ZhciBzLGYsbD11LmVsbSx2PWUuc3RhdGljU3R5bGUseT1lLm5vcm1hbGl6ZWRTdHlsZXx8ZS5zdHlsZXx8e30sYT12fHx5LGg9Y2godS5kYXRhLnN0eWxlKXx8e307dS5kYXRhLm5vcm1hbGl6ZWRTdHlsZT1uKGguX19vYl9fKT9pKHt9LGgpOmg7bz1mdW5jdGlvbihuLHQpe3ZhciByLGU9e30sdSxmO2lmKHQpZm9yKHU9bjt1LmNvbXBvbmVudEluc3RhbmNlOykodT11LmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSkmJnUuZGF0YSYmKHI9bGYodS5kYXRhKSkmJmkoZSxyKTtmb3IoKHI9bGYobi5kYXRhKSkmJmkoZSxyKSxmPW47Zj1mLnBhcmVudDspZi5kYXRhJiYocj1sZihmLmRhdGEpKSYmaShlLHIpO3JldHVybiBlfSh1LCEwKTtmb3IoZiBpbiBhKXQob1tmXSkmJmhhKGwsZiwiIik7Zm9yKGYgaW4gbykocz1vW2ZdKSE9PWFbZl0mJmhhKGwsZixudWxsPT1zPyIiOnMpfX1mdW5jdGlvbiBhaChuLHQpe2lmKHQmJih0PXQudHJpbSgpKSlpZihuLmNsYXNzTGlzdCl0LmluZGV4T2YoIiAiKT4tMT90LnNwbGl0KC9ccysvKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybiBuLmNsYXNzTGlzdC5hZGQodCl9KTpuLmNsYXNzTGlzdC5hZGQodCk7ZWxzZXt2YXIgaT0iICIrKG4uZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIikrIiAiO2kuaW5kZXhPZigiICIrdCsiICIpPDAmJm4uc2V0QXR0cmlidXRlKCJjbGFzcyIsKGkrdCkudHJpbSgpKX19ZnVuY3Rpb24gdmgobix0KXtpZih0JiYodD10LnRyaW0oKSkpaWYobi5jbGFzc0xpc3QpdC5pbmRleE9mKCIgIik+LTE/dC5zcGxpdCgvXHMrLykuZm9yRWFjaChmdW5jdGlvbih0KXtyZXR1cm4gbi5jbGFzc0xpc3QucmVtb3ZlKHQpfSk6bi5jbGFzc0xpc3QucmVtb3ZlKHQpLG4uY2xhc3NMaXN0Lmxlbmd0aHx8bi5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIik7ZWxzZXtmb3IodmFyIGk9IiAiKyhuLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIixyPSIgIit0KyIgIjtpLmluZGV4T2Yocik+PTA7KWk9aS5yZXBsYWNlKHIsIiAiKTsoaT1pLnRyaW0oKSk/bi5zZXRBdHRyaWJ1dGUoImNsYXNzIixpKTpuLnJlbW92ZUF0dHJpYnV0ZSgiY2xhc3MiKX19ZnVuY3Rpb24geWgobil7aWYobil7aWYoIm9iamVjdCI9PXR5cGVvZiBuKXt2YXIgdD17fTtyZXR1cm4hMSE9PW4uY3NzJiZpKHQsbGEobi5uYW1lfHwidiIpKSxpKHQsbiksdH1yZXR1cm4ic3RyaW5nIj09dHlwZW9mIG4/bGEobik6dm9pZCAwfX1mdW5jdGlvbiBwaChuKXt5YShmdW5jdGlvbigpe3lhKG4pfSl9ZnVuY3Rpb24gZHQobix0KXt2YXIgaT1uLl90cmFuc2l0aW9uQ2xhc3Nlc3x8KG4uX3RyYW5zaXRpb25DbGFzc2VzPVtdKTtpLmluZGV4T2YodCk8MCYmKGkucHVzaCh0KSxhaChuLHQpKX1mdW5jdGlvbiB1dChuLHQpe24uX3RyYW5zaXRpb25DbGFzc2VzJiZodChuLl90cmFuc2l0aW9uQ2xhc3Nlcyx0KTt2aChuLHQpfWZ1bmN0aW9uIHdoKG4sdCxpKXt2YXIgcj1iaChuLHQpLHU9ci50eXBlLGM9ci50aW1lb3V0LGY9ci5wcm9wQ291bnQ7aWYoIXUpcmV0dXJuIGkoKTt2YXIgZT11PT09YWk/aXU6dmEsbz0wLHM9ZnVuY3Rpb24oKXtuLnJlbW92ZUV2ZW50TGlzdGVuZXIoZSxoKTtpKCl9LGg9ZnVuY3Rpb24odCl7dC50YXJnZXQ9PT1uJiYrK28+PWYmJnMoKX07c2V0VGltZW91dChmdW5jdGlvbigpe288ZiYmcygpfSxjKzEpO24uYWRkRXZlbnRMaXN0ZW5lcihlLGgpfWZ1bmN0aW9uIGJoKG4sdCl7dmFyIGkscj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKSxjPXJbdHUrIkRlbGF5Il0uc3BsaXQoIiwgIikscz1yW3R1KyJEdXJhdGlvbiJdLnNwbGl0KCIsICIpLHU9a2goYyxzKSxsPXJbdG8rIkRlbGF5Il0uc3BsaXQoIiwgIiksaD1yW3RvKyJEdXJhdGlvbiJdLnNwbGl0KCIsICIpLGY9a2gobCxoKSxlPTAsbz0wO3JldHVybiB0PT09YWk/dT4wJiYoaT1haSxlPXUsbz1zLmxlbmd0aCk6dD09PW5vP2Y+MCYmKGk9bm8sZT1mLG89aC5sZW5ndGgpOm89KGk9KGU9TWF0aC5tYXgodSxmKSk+MD91PmY/YWk6bm86bnVsbCk/aT09PWFpP3MubGVuZ3RoOmgubGVuZ3RoOjAse3R5cGU6aSx0aW1lb3V0OmUscHJvcENvdW50Om8saGFzVHJhbnNmb3JtOmk9PT1haSYmZmIudGVzdChyW3R1KyJQcm9wZXJ0eSJdKX19ZnVuY3Rpb24ga2gobix0KXtmb3IoO24ubGVuZ3RoPHQubGVuZ3RoOyluPW4uY29uY2F0KG4pO3JldHVybiBNYXRoLm1heC5hcHBseShudWxsLHQubWFwKGZ1bmN0aW9uKHQsaSl7cmV0dXJuIGRoKHQpK2RoKG5baV0pfSkpfWZ1bmN0aW9uIGRoKG4pe3JldHVybiAxZTMqTnVtYmVyKG4uc2xpY2UoMCwtMSkpfWZ1bmN0aW9uIGFmKGkscil7dmFyIHU9aS5lbG0sZixlO2lmKG4odS5fbGVhdmVDYikmJih1Ll9sZWF2ZUNiLmNhbmNlbGxlZD0hMCx1Ll9sZWF2ZUNiKCkpLGY9eWgoaS5kYXRhLnRyYW5zaXRpb24pLCF0KGYpJiYhbih1Ll9lbnRlckNiKSYmMT09PXUubm9kZVR5cGUpe2Zvcih2YXIgaHQ9Zi5jc3MsY3Q9Zi50eXBlLGF0PWYuZW50ZXJDbGFzcyx2dD1mLmVudGVyVG9DbGFzcyx5dD1mLmVudGVyQWN0aXZlQ2xhc3MscD1mLmFwcGVhckNsYXNzLHc9Zi5hcHBlYXJUb0NsYXNzLGI9Zi5hcHBlYXJBY3RpdmVDbGFzcyxrPWYuYmVmb3JlRW50ZXIscHQ9Zi5lbnRlcixkPWYuYWZ0ZXJFbnRlcixnPWYuZW50ZXJDYW5jZWxsZWQsd3Q9Zi5iZWZvcmVBcHBlYXIsYz1mLmFwcGVhcixidD1mLmFmdGVyQXBwZWFyLGt0PWYuYXBwZWFyQ2FuY2VsbGVkLHY9Zi5kdXJhdGlvbixudD1uaSxsPW5pLiR2bm9kZTtsJiZsLnBhcmVudDspbnQ9KGw9bC5wYXJlbnQpLmNvbnRleHQ7aWYoZT0hbnQuX2lzTW91bnRlZHx8IWkuaXNSb290SW5zZXJ0LCFlfHxjfHwiIj09PWMpe3ZhciB5PWUmJnA/cDphdCx0dD1lJiZiP2I6eXQsaXQ9ZSYmdz93OnZ0LHJ0PWU/d3R8fGs6ayxzPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBjP2M6cHQsZnQ9ZT9idHx8ZDpkLGV0PWU/a3R8fGc6ZyxvdD15aShoKHYpP3YuZW50ZXI6diksYT0hMSE9PWh0JiYhY2ksc3Q9dmYocyksbz11Ll9lbnRlckNiPXJyKGZ1bmN0aW9uKCl7YSYmKHV0KHUsaXQpLHV0KHUsdHQpKTtvLmNhbmNlbGxlZD8oYSYmdXQodSx5KSxldCYmZXQodSkpOmZ0JiZmdCh1KTt1Ll9lbnRlckNiPW51bGx9KTtpLmRhdGEuc2hvd3x8bHQoaSwiaW5zZXJ0IixmdW5jdGlvbigpe3ZhciB0PXUucGFyZW50Tm9kZSxuPXQmJnQuX3BlbmRpbmcmJnQuX3BlbmRpbmdbaS5rZXldO24mJm4udGFnPT09aS50YWcmJm4uZWxtLl9sZWF2ZUNiJiZuLmVsbS5fbGVhdmVDYigpO3MmJnModSxvKX0pO3J0JiZydCh1KTthJiYoZHQodSx5KSxkdCh1LHR0KSxwaChmdW5jdGlvbigpe2R0KHUsaXQpO3V0KHUseSk7by5jYW5jZWxsZWR8fHN0fHwobmMob3QpP3NldFRpbWVvdXQobyxvdCk6d2godSxjdCxvKSl9KSk7aS5kYXRhLnNob3cmJihyJiZyKCkscyYmcyh1LG8pKTthfHxzdHx8bygpfX19ZnVuY3Rpb24gZ2goaSxyKXtmdW5jdGlvbiBhKCl7ZS5jYW5jZWxsZWR8fChpLmRhdGEuc2hvd3x8KCh1LnBhcmVudE5vZGUuX3BlbmRpbmd8fCh1LnBhcmVudE5vZGUuX3BlbmRpbmc9e30pKVtpLmtleV09aSkscCYmcCh1KSxvJiYoZHQodSxzKSxkdCh1LHkpLHBoKGZ1bmN0aW9uKCl7ZHQodSx2KTt1dCh1LHMpO2UuY2FuY2VsbGVkfHxkfHwobmMoZyk/c2V0VGltZW91dChlLGcpOndoKHUsdHQsZSkpfSkpLGMmJmModSxlKSxvfHxkfHxlKCkpfXZhciB1PWkuZWxtLGY7aWYobih1Ll9lbnRlckNiKSYmKHUuX2VudGVyQ2IuY2FuY2VsbGVkPSEwLHUuX2VudGVyQ2IoKSksZj15aChpLmRhdGEudHJhbnNpdGlvbiksdChmKXx8MSE9PXUubm9kZVR5cGUpcmV0dXJuIHIoKTtpZighbih1Ll9sZWF2ZUNiKSl7dmFyIG50PWYuY3NzLHR0PWYudHlwZSxzPWYubGVhdmVDbGFzcyx2PWYubGVhdmVUb0NsYXNzLHk9Zi5sZWF2ZUFjdGl2ZUNsYXNzLHA9Zi5iZWZvcmVMZWF2ZSxjPWYubGVhdmUsdz1mLmFmdGVyTGVhdmUsYj1mLmxlYXZlQ2FuY2VsbGVkLGs9Zi5kZWxheUxlYXZlLGw9Zi5kdXJhdGlvbixvPSExIT09bnQmJiFjaSxkPXZmKGMpLGc9eWkoaChsKT9sLmxlYXZlOmwpLGU9dS5fbGVhdmVDYj1ycihmdW5jdGlvbigpe3UucGFyZW50Tm9kZSYmdS5wYXJlbnROb2RlLl9wZW5kaW5nJiYodS5wYXJlbnROb2RlLl9wZW5kaW5nW2kua2V5XT1udWxsKTtvJiYodXQodSx2KSx1dCh1LHkpKTtlLmNhbmNlbGxlZD8obyYmdXQodSxzKSxiJiZiKHUpKToocigpLHcmJncodSkpO3UuX2xlYXZlQ2I9bnVsbH0pO2s/ayhhKTphKCl9fWZ1bmN0aW9uIG5jKG4pe3JldHVybiJudW1iZXIiPT10eXBlb2YgbiYmIWlzTmFOKG4pfWZ1bmN0aW9uIHZmKGkpe2lmKHQoaSkpcmV0dXJuITE7dmFyIHI9aS5mbnM7cmV0dXJuIG4ocik/dmYoQXJyYXkuaXNBcnJheShyKT9yWzBdOnIpOihpLl9sZW5ndGh8fGkubGVuZ3RoKT4xfWZ1bmN0aW9uIHRjKG4sdCl7ITAhPT10LmRhdGEuc2hvdyYmYWYodCl9ZnVuY3Rpb24gaWMobix0LGkpe3JjKG4sdCxpKTsoaGl8fGhsKSYmc2V0VGltZW91dChmdW5jdGlvbigpe3JjKG4sdCxpKX0sMCl9ZnVuY3Rpb24gcmMobix0KXt2YXIgdT10LnZhbHVlLGY9bi5tdWx0aXBsZSxlLHIsaSxvO2lmKCFmfHxBcnJheS5pc0FycmF5KHUpKXtmb3IoaT0wLG89bi5vcHRpb25zLmxlbmd0aDtpPG87aSsrKWlmKHI9bi5vcHRpb25zW2ldLGYpZT1jbyh1LGhyKHIpKT4tMSxyLnNlbGVjdGVkIT09ZSYmKHIuc2VsZWN0ZWQ9ZSk7ZWxzZSBpZih2dChocihyKSx1KSlyZXR1cm4gdm9pZChuLnNlbGVjdGVkSW5kZXghPT1pJiYobi5zZWxlY3RlZEluZGV4PWkpKTtmfHwobi5zZWxlY3RlZEluZGV4PS0xKX19ZnVuY3Rpb24gdWMobix0KXtyZXR1cm4gdC5ldmVyeShmdW5jdGlvbih0KXtyZXR1cm4hdnQodCxuKX0pfWZ1bmN0aW9uIGhyKG4pe3JldHVybiJfdmFsdWUiaW4gbj9uLl92YWx1ZTpuLnZhbHVlfWZ1bmN0aW9uIGZwKG4pe24udGFyZ2V0LmNvbXBvc2luZz0hMH1mdW5jdGlvbiBmYyhuKXtuLnRhcmdldC5jb21wb3NpbmcmJihuLnRhcmdldC5jb21wb3Npbmc9ITEseWYobi50YXJnZXQsImlucHV0IikpfWZ1bmN0aW9uIHlmKG4sdCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkhUTUxFdmVudHMiKTtpLmluaXRFdmVudCh0LCEwLCEwKTtuLmRpc3BhdGNoRXZlbnQoaSl9ZnVuY3Rpb24gcGYobil7cmV0dXJuIW4uY29tcG9uZW50SW5zdGFuY2V8fG4uZGF0YSYmbi5kYXRhLnRyYW5zaXRpb24/bjpwZihuLmNvbXBvbmVudEluc3RhbmNlLl92bm9kZSl9ZnVuY3Rpb24gd2Yobil7dmFyIHQ9biYmbi5jb21wb25lbnRPcHRpb25zO3JldHVybiB0JiZ0LkN0b3Iub3B0aW9ucy5hYnN0cmFjdD93Zih0cyh0LmNoaWxkcmVuKSk6bn1mdW5jdGlvbiBlYyhuKXt2YXIgdD17fSxmPW4uJG9wdGlvbnMsaSxyLHU7Zm9yKGkgaW4gZi5wcm9wc0RhdGEpdFtpXT1uW2ldO3I9Zi5fcGFyZW50TGlzdGVuZXJzO2Zvcih1IGluIHIpdFtpdCh1KV09clt1XTtyZXR1cm4gdH1mdW5jdGlvbiBvYyhuLHQpe2lmKC9cZC1rZWVwLWFsaXZlJC8udGVzdCh0LnRhZykpcmV0dXJuIG4oImtlZXAtYWxpdmUiLHtwcm9wczp0LmNvbXBvbmVudE9wdGlvbnMucHJvcHNEYXRhfSl9ZnVuY3Rpb24gZXAobil7bi5lbG0uX21vdmVDYiYmbi5lbG0uX21vdmVDYigpO24uZWxtLl9lbnRlckNiJiZuLmVsbS5fZW50ZXJDYigpfWZ1bmN0aW9uIG9wKG4pe24uZGF0YS5uZXdQb3M9bi5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9ZnVuY3Rpb24gc3Aobil7dmFyIGk9bi5kYXRhLnBvcyxyPW4uZGF0YS5uZXdQb3MsdT1pLmxlZnQtci5sZWZ0LGY9aS50b3Atci50b3AsdDsodXx8ZikmJihuLmRhdGEubW92ZWQ9ITAsdD1uLmVsbS5zdHlsZSx0LnRyYW5zZm9ybT10LldlYmtpdFRyYW5zZm9ybT0idHJhbnNsYXRlKCIrdSsicHgsIitmKyJweCkiLHQudHJhbnNpdGlvbkR1cmF0aW9uPSIwcyIpfWZ1bmN0aW9uIGhwKG4sdCl7dmFyIGk9dD90azpuaztyZXR1cm4gbi5yZXBsYWNlKGksZnVuY3Rpb24obil7cmV0dXJuIGdiW25dfSl9ZnVuY3Rpb24gc2Mobix0LGkpe3JldHVybnt0eXBlOjEsdGFnOm4sYXR0cnNMaXN0OnQsYXR0cnNNYXA6ZnVuY3Rpb24obil7Zm9yKHZhciBpPXt9LHQ9MCxyPW4ubGVuZ3RoO3Q8cjt0KyspaVtuW3RdLm5hbWVdPW5bdF0udmFsdWU7cmV0dXJuIGl9KHQpLHBhcmVudDppLGNoaWxkcmVuOltdfX1mdW5jdGlvbiBjcChuLHQpe2Z1bmN0aW9uIHMobil7bi5wcmUmJihlPSExKTtmbyhuLnRhZykmJihvPSExKTtmb3IodmFyIGk9MDtpPHVvLmxlbmd0aDtpKyspdW9baV0obix0KX1ldj10Lndhcm58fHJoO2ZvPXQuaXNQcmVUYWd8fGc7ZW89dC5tdXN0VXNlUHJvcHx8Zztzdj10LmdldFRhZ05hbWVzcGFjZXx8Zztpbz1raSh0Lm1vZHVsZXMsInRyYW5zZm9ybU5vZGUiKTtybz1raSh0Lm1vZHVsZXMsInByZVRyYW5zZm9ybU5vZGUiKTt1bz1raSh0Lm1vZHVsZXMsInBvc3RUcmFuc2Zvcm1Ob2RlIik7b3Y9dC5kZWxpbWl0ZXJzO3ZhciB1LGkscj1bXSxoPSExIT09dC5wcmVzZXJ2ZVdoaXRlc3BhY2UsZT0hMSxvPSExO3JldHVybiBmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIodCl7aSs9dDtuPW4uc3Vic3RyaW5nKHQpfWZ1bmN0aW9uIGgobixyLGYpe3ZhciBvLHMsaDtpZihudWxsPT1yJiYocj1pKSxudWxsPT1mJiYoZj1pKSxuJiYocz1uLnRvTG93ZXJDYXNlKCkpLG4pZm9yKG89ZS5sZW5ndGgtMTtvPj0wJiZlW29dLmxvd2VyQ2FzZWRUYWchPT1zO28tLSk7ZWxzZSBvPTA7aWYobz49MCl7Zm9yKGg9ZS5sZW5ndGgtMTtoPj1vO2gtLSl0LmVuZCYmdC5lbmQoZVtoXS50YWcscixmKTtlLmxlbmd0aD1vO3U9byYmZVtvLTFdLnRhZ31lbHNlImJyIj09PXM/dC5zdGFydCYmdC5zdGFydChuLFtdLCEwLHIsZik6InAiPT09cyYmKHQuc3RhcnQmJnQuc3RhcnQobixbXSwhMSxyLGYpLHQuZW5kJiZ0LmVuZChuLHIsZikpfWZvcih2YXIgZixjLHYseSxsLGQscCx3LHUsZT1bXSx0dD10LmV4cGVjdEhUTUwsaXQ9dC5pc1VuYXJ5VGFnfHxnLHJ0PXQuY2FuQmVMZWZ0T3BlblRhZ3x8ZyxpPTA7bjspe2lmKHc9bix1JiZjdih1KSl7dmFyIGI9MCxvPXUudG9Mb3dlckNhc2UoKSx1dD1sdltvXXx8KGx2W29dPW5ldyBSZWdFeHAoIihbXFxzXFxTXSo/KSg8XC8iK28rIltePl0qPikiLCJpIikpLGs9bi5yZXBsYWNlKHV0LGZ1bmN0aW9uKG4saSxyKXtyZXR1cm4gYj1yLmxlbmd0aCxjdihvKXx8Im5vc2NyaXB0Ij09PW98fChpPWkucmVwbGFjZSgvPCEtLShbXHNcU10qPyktLT4vZywiJDEiKS5yZXBsYWNlKC88IVxbQ0RBVEFcWyhbXHNcU10qPyldXT4vZywiJDEiKSksYXYobyxpKSYmKGk9aS5zbGljZSgxKSksdC5jaGFycyYmdC5jaGFycyhpKSwiIn0pO2krPW4ubGVuZ3RoLWsubGVuZ3RoO249aztoKG8saS1iLGkpfWVsc2V7aWYoZj1uLmluZGV4T2YoIjwiKSwwPT09Zil7aWYocnYudGVzdChuKSYmKGM9bi5pbmRleE9mKCItLT4iKSxjPj0wKSl7dC5zaG91bGRLZWVwQ29tbWVudCYmdC5jb21tZW50KG4uc3Vic3RyaW5nKDQsYykpO3IoYyszKTtjb250aW51ZX1pZih1di50ZXN0KG4pJiYodj1uLmluZGV4T2YoIl0+Iiksdj49MCkpe3IodisyKTtjb250aW51ZX1pZih5PW4ubWF0Y2goZGIpLHkpe3IoeVswXS5sZW5ndGgpO2NvbnRpbnVlfWlmKGw9bi5tYXRjaChpdiksbCl7ZD1pO3IobFswXS5sZW5ndGgpO2gobFsxXSxkLGkpO2NvbnRpbnVlfWlmKHA9ZnVuY3Rpb24oKXt2YXIgZj1uLm1hdGNoKHR2KSx0LHUsZTtpZihmKXtmb3IodD17dGFnTmFtZTpmWzFdLGF0dHJzOltdLHN0YXJ0Oml9LHIoZlswXS5sZW5ndGgpOyEodT1uLm1hdGNoKGtiKSkmJihlPW4ubWF0Y2goYmIpKTspcihlWzBdLmxlbmd0aCksdC5hdHRycy5wdXNoKGUpO2lmKHUpcmV0dXJuIHQudW5hcnlTbGFzaD11WzFdLHIodVswXS5sZW5ndGgpLHQuZW5kPWksdH19KCkscCl7IWZ1bmN0aW9uKG4pe3ZhciByPW4udGFnTmFtZSx2PW4udW5hcnlTbGFzaCxpLGwsYTt0dCYmKCJwIj09PXUmJndiKHIpJiZoKHUpLHJ0KHIpJiZ1PT09ciYmaChyKSk7Zm9yKHZhciBzPWl0KHIpfHwhIXYsYz1uLmF0dHJzLmxlbmd0aCxvPW5ldyBBcnJheShjKSxmPTA7ZjxjO2YrKylpPW4uYXR0cnNbZl0sZnYmJi0xPT09aVswXS5pbmRleE9mKCciIicpJiYoIiI9PT1pWzNdJiZkZWxldGUgaVszXSwiIj09PWlbNF0mJmRlbGV0ZSBpWzRdLCIiPT09aVs1XSYmZGVsZXRlIGlbNV0pLGw9aVszXXx8aVs0XXx8aVs1XXx8IiIsYT0iYSI9PT1yJiYiaHJlZiI9PT1pWzFdP3Quc2hvdWxkRGVjb2RlTmV3bGluZXNGb3JIcmVmOnQuc2hvdWxkRGVjb2RlTmV3bGluZXMsb1tmXT17bmFtZTppWzFdLHZhbHVlOmhwKGwsYSl9O3N8fChlLnB1c2goe3RhZzpyLGxvd2VyQ2FzZWRUYWc6ci50b0xvd2VyQ2FzZSgpLGF0dHJzOm99KSx1PXIpO3Quc3RhcnQmJnQuc3RhcnQocixvLHMsbi5zdGFydCxuLmVuZCl9KHApO2F2KHUsbikmJnIoMSk7Y29udGludWV9fXZhciBhPXZvaWQgMCxzPXZvaWQgMCxudD12b2lkIDA7aWYoZj49MCl7Zm9yKHM9bi5zbGljZShmKTshKGl2LnRlc3Qocyl8fHR2LnRlc3Qocyl8fHJ2LnRlc3Qocyl8fHV2LnRlc3Qocyl8fChudD1zLmluZGV4T2YoIjwiLDEpKTwwKTspZis9bnQscz1uLnNsaWNlKGYpO2E9bi5zdWJzdHJpbmcoMCxmKTtyKGYpfWY8MCYmKGE9bixuPSIiKTt0LmNoYXJzJiZhJiZ0LmNoYXJzKGEpfWlmKG49PT13KXt0LmNoYXJzJiZ0LmNoYXJzKG4pO2JyZWFrfX1oKCl9KG4se3dhcm46ZXYsZXhwZWN0SFRNTDp0LmV4cGVjdEhUTUwsaXNVbmFyeVRhZzp0LmlzVW5hcnlUYWcsY2FuQmVMZWZ0T3BlblRhZzp0LmNhbkJlTGVmdE9wZW5UYWcsc2hvdWxkRGVjb2RlTmV3bGluZXM6dC5zaG91bGREZWNvZGVOZXdsaW5lcyxzaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWY6dC5zaG91bGREZWNvZGVOZXdsaW5lc0ZvckhyZWYsc2hvdWxkS2VlcENvbW1lbnQ6dC5jb21tZW50cyxzdGFydDpmdW5jdGlvbihuLGgsYyl7dmFyIHY9aSYmaS5uc3x8c3YobiksbCxhLHk7Zm9yKGhpJiYic3ZnIj09PXYmJihoPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdCxyPVtdLGk9MDtpPG4ubGVuZ3RoO2krKyl0PW5baV0sb2sudGVzdCh0Lm5hbWUpfHwodC5uYW1lPXQubmFtZS5yZXBsYWNlKHNrLCIiKSxyLnB1c2godCkpO3JldHVybiByfShoKSksbD1zYyhuLGgsaSksdiYmKGwubnM9diksZnVuY3Rpb24obil7cmV0dXJuInN0eWxlIj09PW4udGFnfHwic2NyaXB0Ij09PW4udGFnJiYoIW4uYXR0cnNNYXAudHlwZXx8InRleHQvamF2YXNjcmlwdCI9PT1uLmF0dHJzTWFwLnR5cGUpfShsKSYmIWRpKCkmJihsLmZvcmJpZGRlbj0hMCksYT0wO2E8cm8ubGVuZ3RoO2ErKylsPXJvW2FdKGwsdCl8fGw7KGV8fCghZnVuY3Rpb24obil7bnVsbCE9ZihuLCJ2LXByZSIpJiYobi5wcmU9ITApfShsKSxsLnByZSYmKGU9ITApKSxmbyhsLnRhZykmJihvPSEwKSxlP2Z1bmN0aW9uKG4pe3ZhciBpPW4uYXR0cnNMaXN0Lmxlbmd0aCxyLHQ7aWYoaSlmb3Iocj1uLmF0dHJzPW5ldyBBcnJheShpKSx0PTA7dDxpO3QrKylyW3RdPXtuYW1lOm4uYXR0cnNMaXN0W3RdLm5hbWUsdmFsdWU6SlNPTi5zdHJpbmdpZnkobi5hdHRyc0xpc3RbdF0udmFsdWUpfTtlbHNlIG4ucHJlfHwobi5wbGFpbj0hMCl9KGwpOmwucHJvY2Vzc2VkfHwoaGMobCksZnVuY3Rpb24obil7dmFyIHQ9ZihuLCJ2LWlmIiksaTt0PyhuLmlmPXQsb2kobix7ZXhwOnQsYmxvY2s6bn0pKToobnVsbCE9ZihuLCJ2LWVsc2UiKSYmKG4uZWxzZT0hMCksaT1mKG4sInYtZWxzZS1pZiIpLGkmJihuLmVsc2VpZj1pKSl9KGwpLGZ1bmN0aW9uKG4pe251bGwhPWYobiwidi1vbmNlIikmJihuLm9uY2U9ITApfShsKSxjcihsLHQpKSx1P3IubGVuZ3RofHx1LmlmJiYobC5lbHNlaWZ8fGwuZWxzZSkmJm9pKHUse2V4cDpsLmVsc2VpZixibG9jazpsfSk6dT1sLGkmJiFsLmZvcmJpZGRlbikmJihsLmVsc2VpZnx8bC5lbHNlPyFmdW5jdGlvbihuLHQpe3ZhciBpPWZ1bmN0aW9uKG4pe2Zvcih2YXIgdD1uLmxlbmd0aDt0LS07KXtpZigxPT09blt0XS50eXBlKXJldHVybiBuW3RdO24ucG9wKCl9fSh0LmNoaWxkcmVuKTtpJiZpLmlmJiZvaShpLHtleHA6bi5lbHNlaWYsYmxvY2s6bn0pfShsLGkpOmwuc2xvdFNjb3BlPyhpLnBsYWluPSExLHk9bC5zbG90VGFyZ2V0fHwnImRlZmF1bHQiJywoaS5zY29wZWRTbG90c3x8KGkuc2NvcGVkU2xvdHM9e30pKVt5XT1sKTooaS5jaGlsZHJlbi5wdXNoKGwpLGwucGFyZW50PWkpKTtjP3MobCk6KGk9bCxyLnB1c2gobCkpfSxlbmQ6ZnVuY3Rpb24oKXt2YXIgbj1yW3IubGVuZ3RoLTFdLHQ9bi5jaGlsZHJlbltuLmNoaWxkcmVuLmxlbmd0aC0xXTt0JiYzPT09dC50eXBlJiYiICI9PT10LnRleHQmJiFvJiZuLmNoaWxkcmVuLnBvcCgpO3IubGVuZ3RoLT0xO2k9cltyLmxlbmd0aC0xXTtzKG4pfSxjaGFyczpmdW5jdGlvbihuKXt2YXIgdCxyO2kmJighaGl8fCJ0ZXh0YXJlYSIhPT1pLnRhZ3x8aS5hdHRyc01hcC5wbGFjZWhvbGRlciE9PW4pJiYodD1pLmNoaWxkcmVuLChuPW98fG4udHJpbSgpP2Z1bmN0aW9uKG4pe3JldHVybiJzY3JpcHQiPT09bi50YWd8fCJzdHlsZSI9PT1uLnRhZ30oaSk/bjplayhuKTpoJiZ0Lmxlbmd0aD8iICI6IiIpJiYoIWUmJiIgIiE9PW4mJihyPWZ1bmN0aW9uKG4sdCl7dmFyIG89dD9jYih0KTpoYixoO2lmKG8udGVzdChuKSl7Zm9yKHZhciByLHMsdSxmPVtdLGU9W10saT1vLmxhc3RJbmRleD0wO3I9by5leGVjKG4pOykocz1yLmluZGV4KT5pJiYoZS5wdXNoKHU9bi5zbGljZShpLHMpKSxmLnB1c2goSlNPTi5zdHJpbmdpZnkodSkpKSxoPWVmKHJbMV0udHJpbSgpKSxmLnB1c2goIl9zKCIraCsiKSIpLGUucHVzaCh7IkBiaW5kaW5nIjpofSksaT1zK3JbMF0ubGVuZ3RoO3JldHVybiBpPG4ubGVuZ3RoJiYoZS5wdXNoKHU9bi5zbGljZShpKSksZi5wdXNoKEpTT04uc3RyaW5naWZ5KHUpKSkse2V4cHJlc3Npb246Zi5qb2luKCIrIiksdG9rZW5zOmV9fX0obixvdikpP3QucHVzaCh7dHlwZToyLGV4cHJlc3Npb246ci5leHByZXNzaW9uLHRva2VuczpyLnRva2Vucyx0ZXh0Om59KToiICI9PT1uJiZ0Lmxlbmd0aCYmIiAiPT09dFt0Lmxlbmd0aC0xXS50ZXh0fHx0LnB1c2goe3R5cGU6Myx0ZXh0Om59KSkpfSxjb21tZW50OmZ1bmN0aW9uKG4pe2kuY2hpbGRyZW4ucHVzaCh7dHlwZTozLHRleHQ6bixpc0NvbW1lbnQ6ITB9KX19KSx1fWZ1bmN0aW9uIGNyKG4sdCl7IWZ1bmN0aW9uKG4pe3ZhciB0PXkobiwia2V5Iik7dCYmKG4ua2V5PXQpfShuKTtuLnBsYWluPSFuLmtleSYmIW4uYXR0cnNMaXN0Lmxlbmd0aCxmdW5jdGlvbihuKXt2YXIgdD15KG4sInJlZiIpO3QmJihuLnJlZj10LG4ucmVmSW5Gb3I9ZnVuY3Rpb24obil7Zm9yKHZhciB0PW47dDspe2lmKHZvaWQgMCE9PXQuZm9yKXJldHVybiEwO3Q9dC5wYXJlbnR9cmV0dXJuITF9KG4pKX0obiksZnVuY3Rpb24obil7dmFyIGksdDsic2xvdCI9PT1uLnRhZz9uLnNsb3ROYW1lPXkobiwibmFtZSIpOigidGVtcGxhdGUiPT09bi50YWc/KGk9ZihuLCJzY29wZSIpLG4uc2xvdFNjb3BlPWl8fGYobiwic2xvdC1zY29wZSIpKTooaT1mKG4sInNsb3Qtc2NvcGUiKSkmJihuLnNsb3RTY29wZT1pKSx0PXkobiwic2xvdCIpLHQmJihuLnNsb3RUYXJnZXQ9JyIiJz09PXQ/JyJkZWZhdWx0Iic6dCwidGVtcGxhdGUiPT09bi50YWd8fG4uc2xvdFNjb3BlfHxvZihuLCJzbG90Iix0KSkpfShuKSxmdW5jdGlvbihuKXt2YXIgdDsodD15KG4sImlzIikpJiYobi5jb21wb25lbnQ9dCk7bnVsbCE9ZihuLCJpbmxpbmUtdGVtcGxhdGUiKSYmKG4uaW5saW5lVGVtcGxhdGU9ITApfShuKTtmb3IodmFyIGk9MDtpPGlvLmxlbmd0aDtpKyspbj1pb1tpXShuLHQpfHxuOyFmdW5jdGlvbihuKXtmb3IodmFyIHQsYyxpLHIsZSxvPW4uYXR0cnNMaXN0LHMsZix1PTAsaD1vLmxlbmd0aDt1PGg7dSsrKSh0PWM9b1t1XS5uYW1lLGk9b1t1XS52YWx1ZSx5di50ZXN0KHQpKT8obi5oYXNCaW5kaW5ncz0hMCwocj1mdW5jdGlvbihuKXt2YXIgaT1uLm1hdGNoKGJ2KSx0O2lmKGkpcmV0dXJuIHQ9e30saS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3Rbbi5zbGljZSgxKV09ITB9KSx0fSh0KSkmJih0PXQucmVwbGFjZShidiwiIikpLHd2LnRlc3QodCkpPyh0PXQucmVwbGFjZSh3diwiIiksaT1lZihpKSxlPSExLHImJihyLnByb3AmJihlPSEwLCJpbm5lckh0bWwiPT09KHQ9aXQodCkpJiYodD0iaW5uZXJIVE1MIikpLHIuY2FtZWwmJih0PWl0KHQpKSxyLnN5bmMmJmt0KG4sInVwZGF0ZToiK2l0KHQpLGVpKGksIiRldmVudCIpKSksZXx8IW4uY29tcG9uZW50JiZlbyhuLnRhZyxuLmF0dHJzTWFwLnR5cGUsdCk/YnQobix0LGkpOm9mKG4sdCxpKSk6dnYudGVzdCh0KT8odD10LnJlcGxhY2UodnYsIiIpLGt0KG4sdCxpLHIsITEpKToocz0odD10LnJlcGxhY2UoeXYsIiIpKS5tYXRjaChmayksZj1zJiZzWzFdLGYmJih0PXQuc2xpY2UoMCwtKGYubGVuZ3RoKzEpKSkscnAobix0LGMsaSxmLHIpKToob2Yobix0LEpTT04uc3RyaW5naWZ5KGkpKSwhbi5jb21wb25lbnQmJiJtdXRlZCI9PT10JiZlbyhuLnRhZyxuLmF0dHJzTWFwLnR5cGUsdCkmJmJ0KG4sdCwidHJ1ZSIpKX0obil9ZnVuY3Rpb24gaGMobil7dmFyIHIsdDsocj1mKG4sInYtZm9yIikpJiYodD1mdW5jdGlvbihuKXt2YXIgdT1uLm1hdGNoKHJrKSx0LHIsaTtpZih1KXJldHVybiB0PXt9LHQuZm9yPXVbMl0udHJpbSgpLHI9dVsxXS50cmltKCkucmVwbGFjZSh1aywiIiksaT1yLm1hdGNoKHB2KSxpPyh0LmFsaWFzPXIucmVwbGFjZShwdiwiIiksdC5pdGVyYXRvcjE9aVsxXS50cmltKCksaVsyXSYmKHQuaXRlcmF0b3IyPWlbMl0udHJpbSgpKSk6dC5hbGlhcz1yLHR9KHIpLHQmJmkobix0KSl9ZnVuY3Rpb24gb2kobix0KXtuLmlmQ29uZGl0aW9uc3x8KG4uaWZDb25kaXRpb25zPVtdKTtuLmlmQ29uZGl0aW9ucy5wdXNoKHQpfWZ1bmN0aW9uIGJmKG4pe3JldHVybiBzYyhuLnRhZyxuLmF0dHJzTGlzdC5zbGljZSgpLG4ucGFyZW50KX1mdW5jdGlvbiBrZihuKXt2YXIgdCxmLHIsaSxlLHU7aWYobi5zdGF0aWM9ZnVuY3Rpb24obil7cmV0dXJuIDI9PT1uLnR5cGU/ITE6Mz09PW4udHlwZT8hMDohKCFuLnByZSYmKG4uaGFzQmluZGluZ3N8fG4uaWZ8fG4uZm9yfHxhcChuLnRhZyl8fCFvbyhuLnRhZyl8fGZ1bmN0aW9uKG4pe2Zvcig7bi5wYXJlbnQ7KXtpZigidGVtcGxhdGUiIT09KG49bi5wYXJlbnQpLnRhZylyZXR1cm4hMTtpZihuLmZvcilyZXR1cm4hMH1yZXR1cm4hMX0obil8fCFPYmplY3Qua2V5cyhuKS5ldmVyeShodikpKX0obiksMT09PW4udHlwZSl7aWYoIW9vKG4udGFnKSYmInNsb3QiIT09bi50YWcmJm51bGw9PW4uYXR0cnNNYXBbImlubGluZS10ZW1wbGF0ZSJdKXJldHVybjtmb3IodD0wLGY9bi5jaGlsZHJlbi5sZW5ndGg7dDxmO3QrKylyPW4uY2hpbGRyZW5bdF0sa2Yociksci5zdGF0aWN8fChuLnN0YXRpYz0hMSk7aWYobi5pZkNvbmRpdGlvbnMpZm9yKGk9MSxlPW4uaWZDb25kaXRpb25zLmxlbmd0aDtpPGU7aSsrKXU9bi5pZkNvbmRpdGlvbnNbaV0uYmxvY2ssa2YodSksdS5zdGF0aWN8fChuLnN0YXRpYz0hMSl9fWZ1bmN0aW9uIGRmKG4sdCl7dmFyIGksdSxyLGY7aWYoMT09PW4udHlwZSl7aWYoKG4uc3RhdGljfHxuLm9uY2UpJiYobi5zdGF0aWNJbkZvcj10KSxuLnN0YXRpYyYmbi5jaGlsZHJlbi5sZW5ndGgmJigxIT09bi5jaGlsZHJlbi5sZW5ndGh8fDMhPT1uLmNoaWxkcmVuWzBdLnR5cGUpKXJldHVybiB2b2lkKG4uc3RhdGljUm9vdD0hMCk7aWYobi5zdGF0aWNSb290PSExLG4uY2hpbGRyZW4pZm9yKGk9MCx1PW4uY2hpbGRyZW4ubGVuZ3RoO2k8dTtpKyspZGYobi5jaGlsZHJlbltpXSx0fHwhIW4uZm9yKTtpZihuLmlmQ29uZGl0aW9ucylmb3Iocj0xLGY9bi5pZkNvbmRpdGlvbnMubGVuZ3RoO3I8ZjtyKyspZGYobi5pZkNvbmRpdGlvbnNbcl0uYmxvY2ssdCl9fWZ1bmN0aW9uIGNjKG4sdCl7dmFyIHI9dD8ibmF0aXZlT246eyI6Im9uOnsiO2Zvcih2YXIgaSBpbiBuKXIrPSciJytpKyciOicrbGMoaSxuW2ldKSsiLCI7cmV0dXJuIHIuc2xpY2UoMCwtMSkrIn0ifWZ1bmN0aW9uIGxjKG4sdCl7dmFyIGYsZSxpLHM7aWYoIXQpcmV0dXJuImZ1bmN0aW9uKCl7fSI7aWYoQXJyYXkuaXNBcnJheSh0KSlyZXR1cm4iWyIrdC5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIGxjKG4sdCl9KS5qb2luKCIsIikrIl0iO2lmKGY9YWsudGVzdCh0LnZhbHVlKSxlPWxrLnRlc3QodC52YWx1ZSksdC5tb2RpZmllcnMpe3ZhciBvPSIiLHI9IiIsdT1bXTtmb3IoaSBpbiB0Lm1vZGlmaWVycylndltpXT8ocis9Z3ZbaV0sZHZbaV0mJnUucHVzaChpKSk6ImV4YWN0Ij09PWk/KHM9dC5tb2RpZmllcnMscis9c3QoWyJjdHJsIiwic2hpZnQiLCJhbHQiLCJtZXRhIl0uZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiFzW25dfSkubWFwKGZ1bmN0aW9uKG4pe3JldHVybiIkZXZlbnQuIituKyJLZXkifSkuam9pbigifHwiKSkpOnUucHVzaChpKTtyZXR1cm4gdS5sZW5ndGgmJihvKz1mdW5jdGlvbihuKXtyZXR1cm4iaWYoISgnYnV0dG9uJyBpbiAkZXZlbnQpJiYiK24ubWFwKGxwKS5qb2luKCImJiIpKyIpcmV0dXJuIG51bGw7In0odSkpLHImJihvKz1yKSwiZnVuY3Rpb24oJGV2ZW50KXsiK28rKGY/dC52YWx1ZSsiKCRldmVudCkiOmU/IigiK3QudmFsdWUrIikoJGV2ZW50KSI6dC52YWx1ZSkrIn0ifXJldHVybiBmfHxlP3QudmFsdWU6ImZ1bmN0aW9uKCRldmVudCl7Iit0LnZhbHVlKyJ9In1mdW5jdGlvbiBscChuKXt2YXIgdD1wYXJzZUludChuLDEwKSxpO3JldHVybiB0PyIkZXZlbnQua2V5Q29kZSE9PSIrdDooaT1kdltuXSwiX2soJGV2ZW50LmtleUNvZGUsIitKU09OLnN0cmluZ2lmeShuKSsiLCIrSlNPTi5zdHJpbmdpZnkoaSkrIiwkZXZlbnQua2V5KSIpfWZ1bmN0aW9uIGFjKG4sdCl7dmFyIGk9bmV3IHlrKHQpO3JldHVybntyZW5kZXI6IndpdGgodGhpcyl7cmV0dXJuICIrKG4/ZnQobixpKTonX2MoImRpdiIpJykrIn0iLHN0YXRpY1JlbmRlckZuczppLnN0YXRpY1JlbmRlckZuc319ZnVuY3Rpb24gZnQobix0KXt2YXIgaSx1LGYscjtpZihuLnN0YXRpY1Jvb3QmJiFuLnN0YXRpY1Byb2Nlc3NlZClyZXR1cm4gdmMobix0KTtpZihuLm9uY2UmJiFuLm9uY2VQcm9jZXNzZWQpcmV0dXJuIHljKG4sdCk7aWYobi5mb3ImJiFuLmZvclByb2Nlc3NlZClyZXR1cm4gZnVuY3Rpb24obix0LGkscil7dmFyIHU9bi5mb3IsZj1uLmFsaWFzLGU9bi5pdGVyYXRvcjE/IiwiK24uaXRlcmF0b3IxOiIiLG89bi5pdGVyYXRvcjI/IiwiK24uaXRlcmF0b3IyOiIiO3JldHVybiBuLmZvclByb2Nlc3NlZD0hMCwocnx8Il9sIikrIigoIit1KyIpLGZ1bmN0aW9uKCIrZitlK28rIil7cmV0dXJuICIrKGl8fGZ0KShuLHQpKyJ9KSJ9KG4sdCk7aWYobi5pZiYmIW4uaWZQcm9jZXNzZWQpcmV0dXJuIHBjKG4sdCk7aWYoInRlbXBsYXRlIiE9PW4udGFnfHxuLnNsb3RUYXJnZXQpe2lmKCJzbG90Ij09PW4udGFnKXJldHVybiBmdW5jdGlvbihuLHQpe3ZhciBlPW4uc2xvdE5hbWV8fCciZGVmYXVsdCInLHU9c2kobix0KSxpPSJfdCgiK2UrKHU/IiwiK3U6IiIpLHI9bi5hdHRycyYmInsiK24uYXR0cnMubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBpdChuLm5hbWUpKyI6IituLnZhbHVlfSkuam9pbigiLCIpKyJ9IixmPW4uYXR0cnNNYXBbInYtYmluZCJdO3JldHVybihyfHxmKSYmIXUmJihpKz0iLG51bGwiKSxyJiYoaSs9IiwiK3IpLGYmJihpKz0ocj8iIjoiLG51bGwiKSsiLCIrZiksaSsiKSJ9KG4sdCk7Zm9yKG4uY29tcG9uZW50P2k9ZnVuY3Rpb24obix0LGkpe3ZhciByPXQuaW5saW5lVGVtcGxhdGU/bnVsbDpzaSh0LGksITApO3JldHVybiJfYygiK24rIiwiK2JjKHQsaSkrKHI/IiwiK3I6IiIpKyIpIn0obi5jb21wb25lbnQsbix0KToodT1uLnBsYWluP3ZvaWQgMDpiYyhuLHQpLGY9bi5pbmxpbmVUZW1wbGF0ZT9udWxsOnNpKG4sdCwhMCksaT0iX2MoJyIrbi50YWcrIiciKyh1PyIsIit1OiIiKSsoZj8iLCIrZjoiIikrIikiKSxyPTA7cjx0LnRyYW5zZm9ybXMubGVuZ3RoO3IrKylpPXQudHJhbnNmb3Jtc1tyXShuLGkpO3JldHVybiBpfXJldHVybiBzaShuLHQpfHwidm9pZCAwIn1mdW5jdGlvbiB2YyhuLHQpe3JldHVybiBuLnN0YXRpY1Byb2Nlc3NlZD0hMCx0LnN0YXRpY1JlbmRlckZucy5wdXNoKCJ3aXRoKHRoaXMpe3JldHVybiAiK2Z0KG4sdCkrIn0iKSwiX20oIisodC5zdGF0aWNSZW5kZXJGbnMubGVuZ3RoLTEpKyhuLnN0YXRpY0luRm9yPyIsdHJ1ZSI6IiIpKyIpIn1mdW5jdGlvbiB5YyhuLHQpe2lmKG4ub25jZVByb2Nlc3NlZD0hMCxuLmlmJiYhbi5pZlByb2Nlc3NlZClyZXR1cm4gcGMobix0KTtpZihuLnN0YXRpY0luRm9yKXtmb3IodmFyIHI9IiIsaT1uLnBhcmVudDtpOyl7aWYoaS5mb3Ipe3I9aS5rZXk7YnJlYWt9aT1pLnBhcmVudH1yZXR1cm4gcj8iX28oIitmdChuLHQpKyIsIit0Lm9uY2VJZCsrKyIsIityKyIpIjpmdChuLHQpfXJldHVybiB2YyhuLHQpfWZ1bmN0aW9uIHBjKG4sdCxpLHIpe3JldHVybiBuLmlmUHJvY2Vzc2VkPSEwLHdjKG4uaWZDb25kaXRpb25zLnNsaWNlKCksdCxpLHIpfWZ1bmN0aW9uIHdjKG4sdCxpLHIpe2Z1bmN0aW9uIGYobil7cmV0dXJuIGk/aShuLHQpOm4ub25jZT95YyhuLHQpOmZ0KG4sdCl9aWYoIW4ubGVuZ3RoKXJldHVybiByfHwiX2UoKSI7dmFyIHU9bi5zaGlmdCgpO3JldHVybiB1LmV4cD8iKCIrdS5leHArIik/IitmKHUuYmxvY2spKyI6Iit3YyhuLHQsaSxyKToiIitmKHUuYmxvY2spfWZ1bmN0aW9uIGJjKG4sdCl7dmFyIGk9InsiLGY9ZnVuY3Rpb24obix0KXt2YXIgdT1uLmRpcmVjdGl2ZXMscixoLGksZixlLG8scztpZih1KXtmb3IoZT0iZGlyZWN0aXZlczpbIixvPSExLHI9MCxoPXUubGVuZ3RoO3I8aDtyKyspaT11W3JdLGY9ITAscz10LmRpcmVjdGl2ZXNbaS5uYW1lXSxzJiYoZj0hIXMobixpLHQud2FybikpLGYmJihvPSEwLGUrPSd7bmFtZToiJytpLm5hbWUrJyIscmF3TmFtZToiJytpLnJhd05hbWUrJyInKyhpLnZhbHVlPyIsdmFsdWU6KCIraS52YWx1ZSsiKSxleHByZXNzaW9uOiIrSlNPTi5zdHJpbmdpZnkoaS52YWx1ZSk6IiIpKyhpLmFyZz8nLGFyZzoiJytpLmFyZysnIic6IiIpKyhpLm1vZGlmaWVycz8iLG1vZGlmaWVyczoiK0pTT04uc3RyaW5naWZ5KGkubW9kaWZpZXJzKToiIikrIn0sIik7aWYobylyZXR1cm4gZS5zbGljZSgwLC0xKSsiXSJ9fShuLHQpLHIsdTtmb3IoZiYmKGkrPWYrIiwiKSxuLmtleSYmKGkrPSJrZXk6IituLmtleSsiLCIpLG4ucmVmJiYoaSs9InJlZjoiK24ucmVmKyIsIiksbi5yZWZJbkZvciYmKGkrPSJyZWZJbkZvcjp0cnVlLCIpLG4ucHJlJiYoaSs9InByZTp0cnVlLCIpLG4uY29tcG9uZW50JiYoaSs9J3RhZzoiJytuLnRhZysnIiwnKSxyPTA7cjx0LmRhdGFHZW5GbnMubGVuZ3RoO3IrKylpKz10LmRhdGFHZW5GbnNbcl0obik7cmV0dXJuKG4uYXR0cnMmJihpKz0iYXR0cnM6eyIrZ2Mobi5hdHRycykrIn0sIiksbi5wcm9wcyYmKGkrPSJkb21Qcm9wczp7IitnYyhuLnByb3BzKSsifSwiKSxuLmV2ZW50cyYmKGkrPWNjKG4uZXZlbnRzLCExLHQud2FybikrIiwiKSxuLm5hdGl2ZUV2ZW50cyYmKGkrPWNjKG4ubmF0aXZlRXZlbnRzLCEwLHQud2FybikrIiwiKSxuLnNsb3RUYXJnZXQmJiFuLnNsb3RTY29wZSYmKGkrPSJzbG90OiIrbi5zbG90VGFyZ2V0KyIsIiksbi5zY29wZWRTbG90cyYmKGkrPWZ1bmN0aW9uKG4sdCl7cmV0dXJuInNjb3BlZFNsb3RzOl91KFsiK09iamVjdC5rZXlzKG4pLm1hcChmdW5jdGlvbihpKXtyZXR1cm4ga2MoaSxuW2ldLHQpfSkuam9pbigiLCIpKyJdKSJ9KG4uc2NvcGVkU2xvdHMsdCkrIiwiKSxuLm1vZGVsJiYoaSs9Im1vZGVsOnt2YWx1ZToiK24ubW9kZWwudmFsdWUrIixjYWxsYmFjazoiK24ubW9kZWwuY2FsbGJhY2srIixleHByZXNzaW9uOiIrbi5tb2RlbC5leHByZXNzaW9uKyJ9LCIpLG4uaW5saW5lVGVtcGxhdGUpJiYodT1mdW5jdGlvbihuLHQpe3ZhciByPW4uY2hpbGRyZW5bMF0saTtpZigxPT09ci50eXBlKXJldHVybiBpPWFjKHIsdC5vcHRpb25zKSwiaW5saW5lVGVtcGxhdGU6e3JlbmRlcjpmdW5jdGlvbigpeyIraS5yZW5kZXIrIn0sc3RhdGljUmVuZGVyRm5zOlsiK2kuc3RhdGljUmVuZGVyRm5zLm1hcChmdW5jdGlvbihuKXtyZXR1cm4iZnVuY3Rpb24oKXsiK24rIn0ifSkuam9pbigiLCIpKyJdfSJ9KG4sdCksdSYmKGkrPXUrIiwiKSksaT1pLnJlcGxhY2UoLywkLywiIikrIn0iLG4ud3JhcERhdGEmJihpPW4ud3JhcERhdGEoaSkpLG4ud3JhcExpc3RlbmVycyYmKGk9bi53cmFwTGlzdGVuZXJzKGkpKSxpfWZ1bmN0aW9uIGtjKG4sdCxpKXtyZXR1cm4gdC5mb3ImJiF0LmZvclByb2Nlc3NlZD9mdW5jdGlvbihuLHQsaSl7dmFyIHI9dC5mb3IsdT10LmFsaWFzLGY9dC5pdGVyYXRvcjE/IiwiK3QuaXRlcmF0b3IxOiIiLGU9dC5pdGVyYXRvcjI/IiwiK3QuaXRlcmF0b3IyOiIiO3JldHVybiB0LmZvclByb2Nlc3NlZD0hMCwiX2woKCIrcisiKSxmdW5jdGlvbigiK3UrZitlKyIpe3JldHVybiAiK2tjKG4sdCxpKSsifSkifShuLHQsaSk6IntrZXk6IituKyIsZm46IisoImZ1bmN0aW9uKCIrU3RyaW5nKHQuc2xvdFNjb3BlKSsiKXtyZXR1cm4gIisoInRlbXBsYXRlIj09PXQudGFnP3QuaWY/dC5pZisiPyIrKHNpKHQsaSl8fCJ1bmRlZmluZWQiKSsiOnVuZGVmaW5lZCI6c2kodCxpKXx8InVuZGVmaW5lZCI6ZnQodCxpKSkrIn0iKSsifSJ9ZnVuY3Rpb24gc2kobix0LGkscix1KXt2YXIgZj1uLmNoaWxkcmVuLGUsbyxzO2lmKGYubGVuZ3RoKXJldHVybihlPWZbMF0sMT09PWYubGVuZ3RoJiZlLmZvciYmInRlbXBsYXRlIiE9PWUudGFnJiYic2xvdCIhPT1lLnRhZyk/KHJ8fGZ0KShlLHQpOihvPWk/ZnVuY3Rpb24obix0KXtmb3IodmFyIGkscj0wLHU9MDt1PG4ubGVuZ3RoO3UrKylpZihpPW5bdV0sMT09PWkudHlwZSl7aWYoZGMoaSl8fGkuaWZDb25kaXRpb25zJiZpLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uKG4pe3JldHVybiBkYyhuLmJsb2NrKX0pKXtyPTI7YnJlYWt9KHQoaSl8fGkuaWZDb25kaXRpb25zJiZpLmlmQ29uZGl0aW9ucy5zb21lKGZ1bmN0aW9uKG4pe3JldHVybiB0KG4uYmxvY2spfSkpJiYocj0xKX1yZXR1cm4gcn0oZix0Lm1heWJlQ29tcG9uZW50KTowLHM9dXx8ZnVuY3Rpb24obix0KXtyZXR1cm4gMT09PW4udHlwZT9mdChuLHQpOjM9PT1uLnR5cGUmJm4uaXNDb21tZW50P2Z1bmN0aW9uKG4pe3JldHVybiJfZSgiK0pTT04uc3RyaW5naWZ5KG4udGV4dCkrIikifShuKTpmdW5jdGlvbihuKXtyZXR1cm4iX3YoIisoMj09PW4udHlwZT9uLmV4cHJlc3Npb246bmwoSlNPTi5zdHJpbmdpZnkobi50ZXh0KSkpKyIpIn0obil9LCJbIitmLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gcyhuLHQpfSkuam9pbigiLCIpKyJdIisobz8iLCIrbzoiIikpfWZ1bmN0aW9uIGRjKG4pe3JldHVybiB2b2lkIDAhPT1uLmZvcnx8InRlbXBsYXRlIj09PW4udGFnfHwic2xvdCI9PT1uLnRhZ31mdW5jdGlvbiBnYyhuKXtmb3IodmFyIHIsaT0iIix0PTA7dDxuLmxlbmd0aDt0Kyspcj1uW3RdLGkrPSciJytyLm5hbWUrJyI6JytubChyLnZhbHVlKSsiLCI7cmV0dXJuIGkuc2xpY2UoMCwtMSl9ZnVuY3Rpb24gbmwobil7cmV0dXJuIG4ucmVwbGFjZSgvXHUyMDI4L2csIlxcdTIwMjgiKS5yZXBsYWNlKC9cdTIwMjkvZywiXFx1MjAyOSIpfWZ1bmN0aW9uIHRsKG4sdCl7dHJ5e3JldHVybiBuZXcgRnVuY3Rpb24obil9Y2F0Y2goaSl7cmV0dXJuIHQucHVzaCh7ZXJyOmksY29kZTpufSksb319ZnVuY3Rpb24gaWwobil7cmV0dXJuIHV1PXV1fHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSx1dS5pbm5lckhUTUw9bj8nPGEgaHJlZj0iXG4iLz4nOic8ZGl2IGE9IlxuIi8+Jyx1dS5pbm5lckhUTUwuaW5kZXhPZigiJiMxMDsiKT4wfXZhciBwPU9iamVjdC5mcmVlemUoe30pLHJsPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsYXA9ZSgic2xvdCxjb21wb25lbnQiLCEwKSx2cD1lKCJrZXkscmVmLHNsb3Qsc2xvdC1zY29wZSxpcyIpLHlwPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkscHA9Ly0oXHcpL2csaXQ9ayhmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKHBwLGZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ/dC50b1VwcGVyQ2FzZSgpOiIifSl9KSx3cD1rKGZ1bmN0aW9uKG4pe3JldHVybiBuLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK24uc2xpY2UoMSl9KSxicD0vXEIoW0EtWl0pL2csZ2Y9ayhmdW5jdGlvbihuKXtyZXR1cm4gbi5yZXBsYWNlKGJwLCItJDEiKS50b0xvd2VyQ2FzZSgpfSksZz1mdW5jdGlvbigpe3JldHVybiExfSx1bD1mdW5jdGlvbihuKXtyZXR1cm4gbn0sZmw9ImRhdGEtc2VydmVyLXJlbmRlcmVkIixscj1bImNvbXBvbmVudCIsImRpcmVjdGl2ZSIsImZpbHRlciJdLGVsPVsiYmVmb3JlQ3JlYXRlIiwiY3JlYXRlZCIsImJlZm9yZU1vdW50IiwibW91bnRlZCIsImJlZm9yZVVwZGF0ZSIsInVwZGF0ZWQiLCJiZWZvcmVEZXN0cm95IiwiZGVzdHJveWVkIiwiYWN0aXZhdGVkIiwiZGVhY3RpdmF0ZWQiLCJlcnJvckNhcHR1cmVkIl0sdz17b3B0aW9uTWVyZ2VTdHJhdGVnaWVzOk9iamVjdC5jcmVhdGUobnVsbCksc2lsZW50OiExLHByb2R1Y3Rpb25UaXA6ITEsZGV2dG9vbHM6ITEscGVyZm9ybWFuY2U6ITEsZXJyb3JIYW5kbGVyOm51bGwsd2FybkhhbmRsZXI6bnVsbCxpZ25vcmVkRWxlbWVudHM6W10sa2V5Q29kZXM6T2JqZWN0LmNyZWF0ZShudWxsKSxpc1Jlc2VydmVkVGFnOmcsaXNSZXNlcnZlZEF0dHI6Zyxpc1Vua25vd25FbGVtZW50OmcsZ2V0VGFnTmFtZXNwYWNlOm8scGFyc2VQbGF0Zm9ybVRhZ05hbWU6dWwsbXVzdFVzZVByb3A6ZyxfbGlmZWN5Y2xlSG9va3M6ZWx9LGtwPS9bXlx3LiRdLyxkcD0iX19wcm90b19fImlue30sbD0idW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyxvbD0idW5kZWZpbmVkIiE9dHlwZW9mIFdYRW52aXJvbm1lbnQmJiEhV1hFbnZpcm9ubWVudC5wbGF0Zm9ybSxzbD1vbCYmV1hFbnZpcm9ubWVudC5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpLGI9bCYmd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxoaT1iJiYvbXNpZXx0cmlkZW50Ly50ZXN0KGIpLGNpPWImJmIuaW5kZXhPZigibXNpZSA5LjAiKT4wLGhsPWImJmIuaW5kZXhPZigiZWRnZS8iKT4wLGdwPWImJmIuaW5kZXhPZigiYW5kcm9pZCIpPjB8fCJhbmRyb2lkIj09PXNsLG53PWImJi9pcGhvbmV8aXBhZHxpcG9kfGlvcy8udGVzdChiKXx8ImlvcyI9PT1zbCxuZT0oYiYmL2Nocm9tZVwvXGQrLy50ZXN0KGIpLHt9LndhdGNoKSxjbD0hMSx0ZSxudCxzZSxwbCx3bCxvdCxkbCx2ZSx0YSxrYTtpZihsKXRyeXt0ZT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGUsInBhc3NpdmUiLHtnZXQ6ZnVuY3Rpb24oKXtjbD0hMH19KTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigidGVzdC1wYXNzaXZlIixudWxsLHRlKX1jYXRjaCh0KXt9dmFyIGllLGFyLGRpPWZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWllJiYoaWU9IWwmJiJ1bmRlZmluZWQiIT10eXBlb2YgZ2xvYmFsJiYic2VydmVyIj09PWdsb2JhbC5wcm9jZXNzLmVudi5WVUVfRU5WKSxpZX0sdnI9bCYmd2luZG93Ll9fVlVFX0RFVlRPT0xTX0dMT0JBTF9IT09LX18sbGw9InVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJmlpKFN5bWJvbCkmJiJ1bmRlZmluZWQiIT10eXBlb2YgUmVmbGVjdCYmaWkoUmVmbGVjdC5vd25LZXlzKTthcj0idW5kZWZpbmVkIiE9dHlwZW9mIFNldCYmaWkoU2V0KT9TZXQ6ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKCl7dGhpcy5zZXQ9T2JqZWN0LmNyZWF0ZShudWxsKX1yZXR1cm4gbi5wcm90b3R5cGUuaGFzPWZ1bmN0aW9uKG4pe3JldHVybiEwPT09dGhpcy5zZXRbbl19LG4ucHJvdG90eXBlLmFkZD1mdW5jdGlvbihuKXt0aGlzLnNldFtuXT0hMH0sbi5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLnNldD1PYmplY3QuY3JlYXRlKG51bGwpfSxufSgpO3ZhciB0dz1vLGl3PTAscz1mdW5jdGlvbigpe3RoaXMuaWQ9aXcrKzt0aGlzLnN1YnM9W119O3MucHJvdG90eXBlLmFkZFN1Yj1mdW5jdGlvbihuKXt0aGlzLnN1YnMucHVzaChuKX07cy5wcm90b3R5cGUucmVtb3ZlU3ViPWZ1bmN0aW9uKG4pe2h0KHRoaXMuc3VicyxuKX07cy5wcm90b3R5cGUuZGVwZW5kPWZ1bmN0aW9uKCl7cy50YXJnZXQmJnMudGFyZ2V0LmFkZERlcCh0aGlzKX07cy5wcm90b3R5cGUubm90aWZ5PWZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMuc3Vicy5zbGljZSgpLG49MCxpPXQubGVuZ3RoO248aTtuKyspdFtuXS51cGRhdGUoKX07cy50YXJnZXQ9bnVsbDt2YXIgYWw9W10sYT1mdW5jdGlvbihuLHQsaSxyLHUsZixlLG8pe3RoaXMudGFnPW47dGhpcy5kYXRhPXQ7dGhpcy5jaGlsZHJlbj1pO3RoaXMudGV4dD1yO3RoaXMuZWxtPXU7dGhpcy5ucz12b2lkIDA7dGhpcy5jb250ZXh0PWY7dGhpcy5mbkNvbnRleHQ9dm9pZCAwO3RoaXMuZm5PcHRpb25zPXZvaWQgMDt0aGlzLmZuU2NvcGVJZD12b2lkIDA7dGhpcy5rZXk9dCYmdC5rZXk7dGhpcy5jb21wb25lbnRPcHRpb25zPWU7dGhpcy5jb21wb25lbnRJbnN0YW5jZT12b2lkIDA7dGhpcy5wYXJlbnQ9dm9pZCAwO3RoaXMucmF3PSExO3RoaXMuaXNTdGF0aWM9ITE7dGhpcy5pc1Jvb3RJbnNlcnQ9ITA7dGhpcy5pc0NvbW1lbnQ9ITE7dGhpcy5pc0Nsb25lZD0hMTt0aGlzLmlzT25jZT0hMTt0aGlzLmFzeW5jRmFjdG9yeT1vO3RoaXMuYXN5bmNNZXRhPXZvaWQgMDt0aGlzLmlzQXN5bmNQbGFjZWhvbGRlcj0hMX0sdmw9e2NoaWxkOntjb25maWd1cmFibGU6ITB9fTt2bC5jaGlsZC5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wb25lbnRJbnN0YW5jZX07T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoYS5wcm90b3R5cGUsdmwpO3ZhciBndD1mdW5jdGlvbihuKXt2b2lkIDA9PT1uJiYobj0iIik7dmFyIHQ9bmV3IGE7cmV0dXJuIHQudGV4dD1uLHQuaXNDb21tZW50PSEwLHR9LHlsPUFycmF5LnByb3RvdHlwZSxyZT1PYmplY3QuY3JlYXRlKHlsKTtbInB1c2giLCJwb3AiLCJzaGlmdCIsInVuc2hpZnQiLCJzcGxpY2UiLCJzb3J0IiwicmV2ZXJzZSJdLmZvckVhY2goZnVuY3Rpb24obil7dmFyIHQ9eWxbbl07ZXUocmUsbixmdW5jdGlvbigpe2Zvcih2YXIgdSxlLGYsaT1bXSxyPWFyZ3VtZW50cy5sZW5ndGg7ci0tOylpW3JdPWFyZ3VtZW50c1tyXTtlPXQuYXBwbHkodGhpcyxpKTtmPXRoaXMuX19vYl9fO3N3aXRjaChuKXtjYXNlInB1c2giOmNhc2UidW5zaGlmdCI6dT1pO2JyZWFrO2Nhc2Uic3BsaWNlIjp1PWkuc2xpY2UoMil9cmV0dXJuIHUmJmYub2JzZXJ2ZUFycmF5KHUpLGYuZGVwLm5vdGlmeSgpLGV9KX0pO3ZhciBydz1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhyZSkscnQ9e3Nob3VsZENvbnZlcnQ6ITB9LHlyPWZ1bmN0aW9uKG4peyh0aGlzLnZhbHVlPW4sdGhpcy5kZXA9bmV3IHMsdGhpcy52bUNvdW50PTAsZXUobiwiX19vYl9fIix0aGlzKSxBcnJheS5pc0FycmF5KG4pKT8oKGRwP3V5OmZ5KShuLHJlLHJ3KSx0aGlzLm9ic2VydmVBcnJheShuKSk6dGhpcy53YWxrKG4pfTt5ci5wcm90b3R5cGUud2Fsaz1mdW5jdGlvbihuKXtmb3IodmFyIGk9T2JqZWN0LmtleXMobiksdD0wO3Q8aS5sZW5ndGg7dCsrKXl0KG4saVt0XSxuW2lbdF1dKX07eXIucHJvdG90eXBlLm9ic2VydmVBcnJheT1mdW5jdGlvbihuKXtmb3IodmFyIHQ9MCxpPW4ubGVuZ3RoO3Q8aTt0KyspdWkoblt0XSl9O250PXcub3B0aW9uTWVyZ2VTdHJhdGVnaWVzO250LmRhdGE9ZnVuY3Rpb24obix0LGkpe3JldHVybiBpP2h1KG4sdCxpKTp0JiYiZnVuY3Rpb24iIT10eXBlb2YgdD9uOmh1KG4sdCl9O2VsLmZvckVhY2goZnVuY3Rpb24obil7bnRbbl09ZXl9KTtsci5mb3JFYWNoKGZ1bmN0aW9uKG4pe250W24rInMiXT1veX0pO250LndhdGNoPWZ1bmN0aW9uKG4sdCl7dmFyIHUsZSxyLGY7aWYobj09PW5lJiYobj12b2lkIDApLHQ9PT1uZSYmKHQ9dm9pZCAwKSwhdClyZXR1cm4gT2JqZWN0LmNyZWF0ZShufHxudWxsKTtpZighbilyZXR1cm4gdDt1PXt9O2kodSxuKTtmb3IoZSBpbiB0KXI9dVtlXSxmPXRbZV0sciYmIUFycmF5LmlzQXJyYXkocikmJihyPVtyXSksdVtlXT1yP3IuY29uY2F0KGYpOkFycmF5LmlzQXJyYXkoZik/ZjpbZl07cmV0dXJuIHV9O250LnByb3BzPW50Lm1ldGhvZHM9bnQuaW5qZWN0PW50LmNvbXB1dGVkPWZ1bmN0aW9uKG4sdCl7aWYoIW4pcmV0dXJuIHQ7dmFyIHI9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gaShyLG4pLHQmJmkocix0KSxyfTtudC5wcm92aWRlPWh1O3ZhciB1ZSxnaSx1dz1mdW5jdGlvbihuLHQpe3JldHVybiB2b2lkIDA9PT10P246dH0sZmU9W10sZWU9ITEsb2U9ITE7InVuZGVmaW5lZCIhPXR5cGVvZiBzZXRJbW1lZGlhdGUmJmlpKHNldEltbWVkaWF0ZSk/Z2k9ZnVuY3Rpb24oKXtzZXRJbW1lZGlhdGUoZnIpfToidW5kZWZpbmVkIiE9dHlwZW9mIE1lc3NhZ2VDaGFubmVsJiYoaWkoTWVzc2FnZUNoYW5uZWwpfHwiW29iamVjdCBNZXNzYWdlQ2hhbm5lbENvbnN0cnVjdG9yXSI9PT1NZXNzYWdlQ2hhbm5lbC50b1N0cmluZygpKT8oc2U9bmV3IE1lc3NhZ2VDaGFubmVsLHBsPXNlLnBvcnQyLHNlLnBvcnQxLm9ubWVzc2FnZT1mcixnaT1mdW5jdGlvbigpe3BsLnBvc3RNZXNzYWdlKDEpfSk6Z2k9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZyLDApfTsidW5kZWZpbmVkIiE9dHlwZW9mIFByb21pc2UmJmlpKFByb21pc2UpPyh3bD1Qcm9taXNlLnJlc29sdmUoKSx1ZT1mdW5jdGlvbigpe3dsLnRoZW4oZnIpO253JiZzZXRUaW1lb3V0KG8pfSk6dWU9Z2k7dmFyIG5yLGJsPW5ldyBhcixrbD1rKGZ1bmN0aW9uKG4pe3ZhciB0PSImIj09PW4uY2hhckF0KDApLGk9In4iPT09KG49dD9uLnNsaWNlKDEpOm4pLmNoYXJBdCgwKSxyPSIhIj09PShuPWk/bi5zbGljZSgxKTpuKS5jaGFyQXQoMCk7cmV0dXJuIG49cj9uLnNsaWNlKDEpOm4se25hbWU6bixvbmNlOmksY2FwdHVyZTpyLHBhc3NpdmU6dH19KSxuaT1udWxsLGV0PVtdLGhlPVtdLHByPXt9LGNlPSExLGxlPSExLGxpPTAsZnc9MCx0dD1mdW5jdGlvbihuLHQsaSxyLHUpe3RoaXMudm09bjt1JiYobi5fd2F0Y2hlcj10aGlzKTtuLl93YXRjaGVycy5wdXNoKHRoaXMpO3I/KHRoaXMuZGVlcD0hIXIuZGVlcCx0aGlzLnVzZXI9ISFyLnVzZXIsdGhpcy5sYXp5PSEhci5sYXp5LHRoaXMuc3luYz0hIXIuc3luYyk6dGhpcy5kZWVwPXRoaXMudXNlcj10aGlzLmxhenk9dGhpcy5zeW5jPSExO3RoaXMuY2I9aTt0aGlzLmlkPSsrZnc7dGhpcy5hY3RpdmU9ITA7dGhpcy5kaXJ0eT10aGlzLmxhenk7dGhpcy5kZXBzPVtdO3RoaXMubmV3RGVwcz1bXTt0aGlzLmRlcElkcz1uZXcgYXI7dGhpcy5uZXdEZXBJZHM9bmV3IGFyO3RoaXMuZXhwcmVzc2lvbj0iIjsiZnVuY3Rpb24iPT10eXBlb2YgdD90aGlzLmdldHRlcj10Oih0aGlzLmdldHRlcj1mdW5jdGlvbihuKXtpZigha3AudGVzdChuKSl7dmFyIHQ9bi5zcGxpdCgiLiIpO3JldHVybiBmdW5jdGlvbihuKXtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl7aWYoIW4pcmV0dXJuO249blt0W2ldXX1yZXR1cm4gbn19fSh0KSx0aGlzLmdldHRlcnx8KHRoaXMuZ2V0dGVyPWZ1bmN0aW9uKCl7fSkpO3RoaXMudmFsdWU9dGhpcy5sYXp5P3ZvaWQgMDp0aGlzLmdldCgpfTt0dC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKG4pe3MudGFyZ2V0JiZhbC5wdXNoKHMudGFyZ2V0KTtzLnRhcmdldD1ufSh0aGlzKTt2YXIgbix0PXRoaXMudm07dHJ5e249dGhpcy5nZXR0ZXIuY2FsbCh0LHQpfWNhdGNoKG4pe2lmKCF0aGlzLnVzZXIpdGhyb3cgbjtjdChuLHQsJ2dldHRlciBmb3Igd2F0Y2hlciAiJyt0aGlzLmV4cHJlc3Npb24rJyInKX1maW5hbGx5e3RoaXMuZGVlcCYmYm8obik7cy50YXJnZXQ9YWwucG9wKCk7dGhpcy5jbGVhbnVwRGVwcygpfXJldHVybiBufTt0dC5wcm90b3R5cGUuYWRkRGVwPWZ1bmN0aW9uKG4pe3ZhciB0PW4uaWQ7dGhpcy5uZXdEZXBJZHMuaGFzKHQpfHwodGhpcy5uZXdEZXBJZHMuYWRkKHQpLHRoaXMubmV3RGVwcy5wdXNoKG4pLHRoaXMuZGVwSWRzLmhhcyh0KXx8bi5hZGRTdWIodGhpcykpfTt0dC5wcm90b3R5cGUuY2xlYW51cERlcHM9ZnVuY3Rpb24oKXtmb3IodmFyIGksbix0PXRoaXMuZGVwcy5sZW5ndGg7dC0tOylpPXRoaXMuZGVwc1t0XSx0aGlzLm5ld0RlcElkcy5oYXMoaS5pZCl8fGkucmVtb3ZlU3ViKHRoaXMpO249dGhpcy5kZXBJZHM7dGhpcy5kZXBJZHM9dGhpcy5uZXdEZXBJZHM7dGhpcy5uZXdEZXBJZHM9bjt0aGlzLm5ld0RlcElkcy5jbGVhcigpO249dGhpcy5kZXBzO3RoaXMuZGVwcz10aGlzLm5ld0RlcHM7dGhpcy5uZXdEZXBzPW47dGhpcy5uZXdEZXBzLmxlbmd0aD0wfTt0dC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5sYXp5P3RoaXMuZGlydHk9ITA6dGhpcy5zeW5jP3RoaXMucnVuKCk6ZnVuY3Rpb24obil7dmFyIGk9bi5pZCx0O2lmKG51bGw9PXByW2ldKXtpZihwcltpXT0hMCxsZSl7Zm9yKHQ9ZXQubGVuZ3RoLTE7dD5saSYmZXRbdF0uaWQ+bi5pZDspdC0tO2V0LnNwbGljZSh0KzEsMCxuKX1lbHNlIGV0LnB1c2gobik7Y2V8fChjZT0hMCxhdShseSkpfX0odGhpcyl9O3R0LnByb3RvdHlwZS5ydW49ZnVuY3Rpb24oKXt2YXIgbix0O2lmKHRoaXMuYWN0aXZlJiYobj10aGlzLmdldCgpLG4hPT10aGlzLnZhbHVlfHxoKG4pfHx0aGlzLmRlZXApKWlmKHQ9dGhpcy52YWx1ZSx0aGlzLnZhbHVlPW4sdGhpcy51c2VyKXRyeXt0aGlzLmNiLmNhbGwodGhpcy52bSxuLHQpfWNhdGNoKG4pe2N0KG4sdGhpcy52bSwnY2FsbGJhY2sgZm9yIHdhdGNoZXIgIicrdGhpcy5leHByZXNzaW9uKyciJyl9ZWxzZSB0aGlzLmNiLmNhbGwodGhpcy52bSxuLHQpfTt0dC5wcm90b3R5cGUuZXZhbHVhdGU9ZnVuY3Rpb24oKXt0aGlzLnZhbHVlPXRoaXMuZ2V0KCk7dGhpcy5kaXJ0eT0hMX07dHQucHJvdG90eXBlLmRlcGVuZD1mdW5jdGlvbigpe2Zvcih2YXIgbj10aGlzLmRlcHMubGVuZ3RoO24tLTspdGhpcy5kZXBzW25dLmRlcGVuZCgpfTt0dC5wcm90b3R5cGUudGVhcmRvd249ZnVuY3Rpb24oKXtpZih0aGlzLmFjdGl2ZSl7dGhpcy52bS5faXNCZWluZ0Rlc3Ryb3llZHx8aHQodGhpcy52bS5fd2F0Y2hlcnMsdGhpcyk7Zm9yKHZhciBuPXRoaXMuZGVwcy5sZW5ndGg7bi0tOyl0aGlzLmRlcHNbbl0ucmVtb3ZlU3ViKHRoaXMpO3RoaXMuYWN0aXZlPSExfX07b3Q9e2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLGdldDpvLHNldDpvfTtkbD17bGF6eTohMH07bHMoYXMucHJvdG90eXBlKTt2YXIgYWU9e2luaXQ6ZnVuY3Rpb24odCxpLHIsdSl7aWYoIXQuY29tcG9uZW50SW5zdGFuY2V8fHQuY29tcG9uZW50SW5zdGFuY2UuX2lzRGVzdHJveWVkKSh0LmNvbXBvbmVudEluc3RhbmNlPWZ1bmN0aW9uKHQsaSxyLHUpe3ZhciBmPXtfaXNDb21wb25lbnQ6ITAscGFyZW50OmksX3BhcmVudFZub2RlOnQsX3BhcmVudEVsbTpyfHxudWxsLF9yZWZFbG06dXx8bnVsbH0sZT10LmRhdGEuaW5saW5lVGVtcGxhdGU7cmV0dXJuIG4oZSkmJihmLnJlbmRlcj1lLnJlbmRlcixmLnN0YXRpY1JlbmRlckZucz1lLnN0YXRpY1JlbmRlckZucyksbmV3IHQuY29tcG9uZW50T3B0aW9ucy5DdG9yKGYpfSh0LG5pLHIsdSkpLiRtb3VudChpP3QuZWxtOnZvaWQgMCxpKTtlbHNlIGlmKHQuZGF0YS5rZWVwQWxpdmUpe3ZhciBmPXQ7YWUucHJlcGF0Y2goZixmKX19LHByZXBhdGNoOmZ1bmN0aW9uKG4sdCl7dmFyIGk9dC5jb21wb25lbnRPcHRpb25zOyFmdW5jdGlvbihuLHQsaSxyLHUpe3ZhciBoPSEhKHV8fG4uJG9wdGlvbnMuX3JlbmRlckNoaWxkcmVufHxyLmRhdGEuc2NvcGVkU2xvdHN8fG4uJHNjb3BlZFNsb3RzIT09cCksZSxzO2lmKG4uJG9wdGlvbnMuX3BhcmVudFZub2RlPXIsbi4kdm5vZGU9cixuLl92bm9kZSYmKG4uX3Zub2RlLnBhcmVudD1yKSxuLiRvcHRpb25zLl9yZW5kZXJDaGlsZHJlbj11LG4uJGF0dHJzPXIuZGF0YSYmci5kYXRhLmF0dHJzfHxwLG4uJGxpc3RlbmVycz1pfHxwLHQmJm4uJG9wdGlvbnMucHJvcHMpe3J0LnNob3VsZENvbnZlcnQ9ITE7Zm9yKHZhciBjPW4uX3Byb3BzLG89bi4kb3B0aW9ucy5fcHJvcEtleXN8fFtdLGY9MDtmPG8ubGVuZ3RoO2YrKyllPW9bZl0sY1tlXT1sdShlLG4uJG9wdGlvbnMucHJvcHMsdCxuKTtydC5zaG91bGRDb252ZXJ0PSEwO24uJG9wdGlvbnMucHJvcHNEYXRhPXR9aSYmKHM9bi4kb3B0aW9ucy5fcGFyZW50TGlzdGVuZXJzLG4uJG9wdGlvbnMuX3BhcmVudExpc3RlbmVycz1pLGlzKG4saSxzKSk7aCYmKG4uJHNsb3RzPXd1KHUsci5jb250ZXh0KSxuLiRmb3JjZVVwZGF0ZSgpKX0odC5jb21wb25lbnRJbnN0YW5jZT1uLmNvbXBvbmVudEluc3RhbmNlLGkucHJvcHNEYXRhLGkubGlzdGVuZXJzLHQsaS5jaGlsZHJlbil9LGluc2VydDpmdW5jdGlvbihuKXt2YXIgaT1uLmNvbnRleHQsdD1uLmNvbXBvbmVudEluc3RhbmNlO3QuX2lzTW91bnRlZHx8KHQuX2lzTW91bnRlZD0hMCxkKHQsIm1vdW50ZWQiKSk7bi5kYXRhLmtlZXBBbGl2ZSYmKGkuX2lzTW91bnRlZD9mdW5jdGlvbihuKXtuLl9pbmFjdGl2ZT0hMTtoZS5wdXNoKG4pfSh0KTpidSh0LCEwKSl9LGRlc3Ryb3k6ZnVuY3Rpb24obil7dmFyIHQ9bi5jb21wb25lbnRJbnN0YW5jZTt0Ll9pc0Rlc3Ryb3llZHx8KG4uZGF0YS5rZWVwQWxpdmU/ZnModCwhMCk6dC4kZGVzdHJveSgpKX19LGdsPU9iamVjdC5rZXlzKGFlKSxldz0xLG5hPTIsb3c9MDshZnVuY3Rpb24obil7bi5wcm90b3R5cGUuX2luaXQ9ZnVuY3Rpb24obil7dGhpcy5fdWlkPW93Kys7dGhpcy5faXNWdWU9ITA7biYmbi5faXNDb21wb25lbnQ/ZnVuY3Rpb24obix0KXt2YXIgaT1uLiRvcHRpb25zPU9iamVjdC5jcmVhdGUobi5jb25zdHJ1Y3Rvci5vcHRpb25zKSx1PXQuX3BhcmVudFZub2RlLHI7aS5wYXJlbnQ9dC5wYXJlbnQ7aS5fcGFyZW50Vm5vZGU9dTtpLl9wYXJlbnRFbG09dC5fcGFyZW50RWxtO2kuX3JlZkVsbT10Ll9yZWZFbG07cj11LmNvbXBvbmVudE9wdGlvbnM7aS5wcm9wc0RhdGE9ci5wcm9wc0RhdGE7aS5fcGFyZW50TGlzdGVuZXJzPXIubGlzdGVuZXJzO2kuX3JlbmRlckNoaWxkcmVuPXIuY2hpbGRyZW47aS5fY29tcG9uZW50VGFnPXIudGFnO3QucmVuZGVyJiYoaS5yZW5kZXI9dC5yZW5kZXIsaS5zdGF0aWNSZW5kZXJGbnM9dC5zdGF0aWNSZW5kZXJGbnMpfSh0aGlzLG4pOnRoaXMuJG9wdGlvbnM9cHQoZ3UodGhpcy5jb25zdHJ1Y3Rvciksbnx8e30sdGhpcyk7dGhpcy5fcmVuZGVyUHJveHk9dGhpczt0aGlzLl9zZWxmPXRoaXMsZnVuY3Rpb24obil7dmFyIGk9bi4kb3B0aW9ucyx0PWkucGFyZW50O2lmKHQmJiFpLmFic3RyYWN0KXtmb3IoO3QuJG9wdGlvbnMuYWJzdHJhY3QmJnQuJHBhcmVudDspdD10LiRwYXJlbnQ7dC4kY2hpbGRyZW4ucHVzaChuKX1uLiRwYXJlbnQ9dDtuLiRyb290PXQ/dC4kcm9vdDpuO24uJGNoaWxkcmVuPVtdO24uJHJlZnM9e307bi5fd2F0Y2hlcj1udWxsO24uX2luYWN0aXZlPW51bGw7bi5fZGlyZWN0SW5hY3RpdmU9ITE7bi5faXNNb3VudGVkPSExO24uX2lzRGVzdHJveWVkPSExO24uX2lzQmVpbmdEZXN0cm95ZWQ9ITF9KHRoaXMpLGZ1bmN0aW9uKG4pe24uX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpO24uX2hhc0hvb2tFdmVudD0hMTt2YXIgdD1uLiRvcHRpb25zLl9wYXJlbnRMaXN0ZW5lcnM7dCYmaXMobix0KX0odGhpcyksZnVuY3Rpb24obil7dmFyIHI7bi5fdm5vZGU9bnVsbDtuLl9zdGF0aWNUcmVlcz1udWxsO3ZhciBpPW4uJG9wdGlvbnMsdD1uLiR2bm9kZT1pLl9wYXJlbnRWbm9kZSx1PXQmJnQuY29udGV4dDtuLiRzbG90cz13dShpLl9yZW5kZXJDaGlsZHJlbix1KTtuLiRzY29wZWRTbG90cz1wO24uX2M9ZnVuY3Rpb24odCxpLHIsdSl7cmV0dXJuIG9yKG4sdCxpLHIsdSwhMSl9O24uJGNyZWF0ZUVsZW1lbnQ9ZnVuY3Rpb24odCxpLHIsdSl7cmV0dXJuIG9yKG4sdCxpLHIsdSwhMCl9O3I9dCYmdC5kYXRhO3l0KG4sIiRhdHRycyIsciYmci5hdHRyc3x8cCwwLCEwKTt5dChuLCIkbGlzdGVuZXJzIixpLl9wYXJlbnRMaXN0ZW5lcnN8fHAsMCwhMCl9KHRoaXMpO2QodGhpcywiYmVmb3JlQ3JlYXRlIiksZnVuY3Rpb24obil7dmFyIHQ9c3Mobi4kb3B0aW9ucy5pbmplY3Qsbik7dCYmKHJ0LnNob3VsZENvbnZlcnQ9ITEsT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKXt5dChuLGksdFtpXSl9KSxydC5zaG91bGRDb252ZXJ0PSEwKX0odGhpcyk7YXkodGhpcyksZnVuY3Rpb24obil7dmFyIHQ9bi4kb3B0aW9ucy5wcm92aWRlO3QmJihuLl9wcm92aWRlZD0iZnVuY3Rpb24iPT10eXBlb2YgdD90LmNhbGwobik6dCl9KHRoaXMpO2QodGhpcywiY3JlYXRlZCIpO3RoaXMuJG9wdGlvbnMuZWwmJnRoaXMuJG1vdW50KHRoaXMuJG9wdGlvbnMuZWwpfX0ociksZnVuY3Rpb24obil7dmFyIGk9e30sdDtpLmdldD1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhfTt0PXt9O3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3Byb3BzfTtPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsIiRkYXRhIixpKTtPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsIiRwcm9wcyIsdCk7bi5wcm90b3R5cGUuJHNldD1vdTtuLnByb3RvdHlwZS4kZGVsZXRlPWFvO24ucHJvdG90eXBlLiR3YXRjaD1mdW5jdGlvbihuLHQsaSl7aWYodih0KSlyZXR1cm4gZHUodGhpcyxuLHQsaSk7KGk9aXx8e30pLnVzZXI9ITA7dmFyIHI9bmV3IHR0KHRoaXMsbix0LGkpO3JldHVybiBpLmltbWVkaWF0ZSYmdC5jYWxsKHRoaXMsci52YWx1ZSksZnVuY3Rpb24oKXtyLnRlYXJkb3duKCl9fX0ociksZnVuY3Rpb24obil7dmFyIHQ9L15ob29rOi87bi5wcm90b3R5cGUuJG9uPWZ1bmN0aW9uKG4saSl7aWYoQXJyYXkuaXNBcnJheShuKSlmb3IodmFyIHI9MCx1PW4ubGVuZ3RoO3I8dTtyKyspdGhpcy4kb24obltyXSxpKTtlbHNlKHRoaXMuX2V2ZW50c1tuXXx8KHRoaXMuX2V2ZW50c1tuXT1bXSkpLnB1c2goaSksdC50ZXN0KG4pJiYodGhpcy5faGFzSG9va0V2ZW50PSEwKTtyZXR1cm4gdGhpc307bi5wcm90b3R5cGUuJG9uY2U9ZnVuY3Rpb24obix0KXtmdW5jdGlvbiByKCl7aS4kb2ZmKG4scik7dC5hcHBseShpLGFyZ3VtZW50cyl9dmFyIGk9dGhpcztyZXR1cm4gci5mbj10LGkuJG9uKG4sciksaX07bi5wcm90b3R5cGUuJG9mZj1mdW5jdGlvbihuLHQpe3ZhciByLGYsaSxlLHU7aWYoIWFyZ3VtZW50cy5sZW5ndGgpcmV0dXJuIHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXM7aWYoQXJyYXkuaXNBcnJheShuKSl7Zm9yKHI9MCxmPW4ubGVuZ3RoO3I8ZjtyKyspdGhpcy4kb2ZmKG5bcl0sdCk7cmV0dXJuIHRoaXN9aWYoaT10aGlzLl9ldmVudHNbbl0sIWkpcmV0dXJuIHRoaXM7aWYoIXQpcmV0dXJuIHRoaXMuX2V2ZW50c1tuXT1udWxsLHRoaXM7aWYodClmb3IodT1pLmxlbmd0aDt1LS07KWlmKChlPWlbdV0pPT09dHx8ZS5mbj09PXQpe2kuc3BsaWNlKHUsMSk7YnJlYWt9cmV0dXJuIHRoaXN9O24ucHJvdG90eXBlLiRlbWl0PWZ1bmN0aW9uKG4pe3ZhciBpPXRoaXMsdD1pLl9ldmVudHNbbl07aWYodCl7dD10Lmxlbmd0aD4xP2Z1KHQpOnQ7Zm9yKHZhciB1PWZ1KGFyZ3VtZW50cywxKSxyPTAsZj10Lmxlbmd0aDtyPGY7cisrKXRyeXt0W3JdLmFwcGx5KGksdSl9Y2F0Y2godCl7Y3QodCxpLCdldmVudCBoYW5kbGVyIGZvciAiJytuKyciJyl9fXJldHVybiBpfX0ociksZnVuY3Rpb24obil7bi5wcm90b3R5cGUuX3VwZGF0ZT1mdW5jdGlvbihuLHQpe3RoaXMuX2lzTW91bnRlZCYmZCh0aGlzLCJiZWZvcmVVcGRhdGUiKTt2YXIgaT10aGlzLiRlbCxyPXRoaXMuX3Zub2RlLHU9bmk7bmk9dGhpczt0aGlzLl92bm9kZT1uO3I/dGhpcy4kZWw9dGhpcy5fX3BhdGNoX18ocixuKToodGhpcy4kZWw9dGhpcy5fX3BhdGNoX18odGhpcy4kZWwsbix0LCExLHRoaXMuJG9wdGlvbnMuX3BhcmVudEVsbSx0aGlzLiRvcHRpb25zLl9yZWZFbG0pLHRoaXMuJG9wdGlvbnMuX3BhcmVudEVsbT10aGlzLiRvcHRpb25zLl9yZWZFbG09bnVsbCk7bmk9dTtpJiYoaS5fX3Z1ZV9fPW51bGwpO3RoaXMuJGVsJiYodGhpcy4kZWwuX192dWVfXz10aGlzKTt0aGlzLiR2bm9kZSYmdGhpcy4kcGFyZW50JiZ0aGlzLiR2bm9kZT09PXRoaXMuJHBhcmVudC5fdm5vZGUmJih0aGlzLiRwYXJlbnQuJGVsPXRoaXMuJGVsKX07bi5wcm90b3R5cGUuJGZvcmNlVXBkYXRlPWZ1bmN0aW9uKCl7dGhpcy5fd2F0Y2hlciYmdGhpcy5fd2F0Y2hlci51cGRhdGUoKX07bi5wcm90b3R5cGUuJGRlc3Ryb3k9ZnVuY3Rpb24oKXt2YXIgbix0O2lmKCF0aGlzLl9pc0JlaW5nRGVzdHJveWVkKXtmb3IoZCh0aGlzLCJiZWZvcmVEZXN0cm95IiksdGhpcy5faXNCZWluZ0Rlc3Ryb3llZD0hMCxuPXRoaXMuJHBhcmVudCwhbnx8bi5faXNCZWluZ0Rlc3Ryb3llZHx8dGhpcy4kb3B0aW9ucy5hYnN0cmFjdHx8aHQobi4kY2hpbGRyZW4sdGhpcyksdGhpcy5fd2F0Y2hlciYmdGhpcy5fd2F0Y2hlci50ZWFyZG93bigpLHQ9dGhpcy5fd2F0Y2hlcnMubGVuZ3RoO3QtLTspdGhpcy5fd2F0Y2hlcnNbdF0udGVhcmRvd24oKTt0aGlzLl9kYXRhLl9fb2JfXyYmdGhpcy5fZGF0YS5fX29iX18udm1Db3VudC0tO3RoaXMuX2lzRGVzdHJveWVkPSEwO3RoaXMuX19wYXRjaF9fKHRoaXMuX3Zub2RlLG51bGwpO2QodGhpcywiZGVzdHJveWVkIik7dGhpcy4kb2ZmKCk7dGhpcy4kZWwmJih0aGlzLiRlbC5fX3Z1ZV9fPW51bGwpO3RoaXMuJHZub2RlJiYodGhpcy4kdm5vZGUucGFyZW50PW51bGwpfX19KHIpLGZ1bmN0aW9uKG4pe2xzKG4ucHJvdG90eXBlKTtuLnByb3RvdHlwZS4kbmV4dFRpY2s9ZnVuY3Rpb24obil7cmV0dXJuIGF1KG4sdGhpcyl9O24ucHJvdG90eXBlLl9yZW5kZXI9ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHU9bi4kb3B0aW9ucyxlPXUucmVuZGVyLHI9dS5fcGFyZW50Vm5vZGUsZixpLHQ7aWYobi5faXNNb3VudGVkKWZvcihmIGluIG4uJHNsb3RzKWk9bi4kc2xvdHNbZl0sKGkuX3JlbmRlcmVkfHxpWzBdJiZpWzBdLmVsbSkmJihuLiRzbG90c1tmXT11cihpLCEwKSk7bi4kc2NvcGVkU2xvdHM9ciYmci5kYXRhLnNjb3BlZFNsb3RzfHxwO24uJHZub2RlPXI7dHJ5e3Q9ZS5jYWxsKG4uX3JlbmRlclByb3h5LG4uJGNyZWF0ZUVsZW1lbnQpfWNhdGNoKHUpe2N0KHUsbiwicmVuZGVyIik7dD1uLl92bm9kZX1yZXR1cm4gdCBpbnN0YW5jZW9mIGF8fCh0PWd0KCkpLHQucGFyZW50PXIsdH19KHIpO3ZlPVtTdHJpbmcsUmVnRXhwLEFycmF5XTt0YT17S2VlcEFsaXZlOntuYW1lOiJrZWVwLWFsaXZlIixhYnN0cmFjdDohMCxwcm9wczp7aW5jbHVkZTp2ZSxleGNsdWRlOnZlLG1heDpbU3RyaW5nLE51bWJlcl19LGNyZWF0ZWQ6ZnVuY3Rpb24oKXt0aGlzLmNhY2hlPU9iamVjdC5jcmVhdGUobnVsbCk7dGhpcy5rZXlzPVtdfSxkZXN0cm95ZWQ6ZnVuY3Rpb24oKXtmb3IodmFyIG4gaW4gdGhpcy5jYWNoZSluZih0aGlzLmNhY2hlLG4sdGhpcy5rZXlzKX0sd2F0Y2g6e2luY2x1ZGU6ZnVuY3Rpb24obil7YnModGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gc3Iobix0KX0pfSxleGNsdWRlOmZ1bmN0aW9uKG4pe2JzKHRoaXMsZnVuY3Rpb24odCl7cmV0dXJuIXNyKG4sdCl9KX19LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMuJHNsb3RzLmRlZmF1bHQsbj10cyhlKSxyPW4mJm4uY29tcG9uZW50T3B0aW9ucztpZihyKXt2YXIgdT13cyhyKSxvPXRoaXMuaW5jbHVkZSxzPXRoaXMuZXhjbHVkZTtpZihvJiYoIXV8fCFzcihvLHUpKXx8cyYmdSYmc3Iocyx1KSlyZXR1cm4gbjt2YXIgZj10aGlzLmNhY2hlLHQ9dGhpcy5rZXlzLGk9bnVsbD09bi5rZXk/ci5DdG9yLmNpZCsoci50YWc/Ijo6IityLnRhZzoiIik6bi5rZXk7ZltpXT8obi5jb21wb25lbnRJbnN0YW5jZT1mW2ldLmNvbXBvbmVudEluc3RhbmNlLGh0KHQsaSksdC5wdXNoKGkpKTooZltpXT1uLHQucHVzaChpKSx0aGlzLm1heCYmdC5sZW5ndGg+cGFyc2VJbnQodGhpcy5tYXgpJiZuZihmLHRbMF0sdCx0aGlzLl92bm9kZSkpO24uZGF0YS5rZWVwQWxpdmU9ITB9cmV0dXJuIG58fGUmJmVbMF19fX07IWZ1bmN0aW9uKG4pe3ZhciB0PXt9O3QuZ2V0PWZ1bmN0aW9uKCl7cmV0dXJuIHd9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJjb25maWciLHQpO24udXRpbD17d2Fybjp0dyxleHRlbmQ6aSxtZXJnZU9wdGlvbnM6cHQsZGVmaW5lUmVhY3RpdmU6eXR9O24uc2V0PW91O24uZGVsZXRlPWFvO24ubmV4dFRpY2s9YXU7bi5vcHRpb25zPU9iamVjdC5jcmVhdGUobnVsbCk7bHIuZm9yRWFjaChmdW5jdGlvbih0KXtuLm9wdGlvbnNbdCsicyJdPU9iamVjdC5jcmVhdGUobnVsbCl9KTtuLm9wdGlvbnMuX2Jhc2U9bjtpKG4ub3B0aW9ucy5jb21wb25lbnRzLHRhKSxmdW5jdGlvbihuKXtuLnVzZT1mdW5jdGlvbihuKXt2YXIgaT10aGlzLl9pbnN0YWxsZWRQbHVnaW5zfHwodGhpcy5faW5zdGFsbGVkUGx1Z2lucz1bXSksdDtyZXR1cm4gaS5pbmRleE9mKG4pPi0xP3RoaXM6KHQ9ZnUoYXJndW1lbnRzLDEpLHQudW5zaGlmdCh0aGlzKSwiZnVuY3Rpb24iPT10eXBlb2Ygbi5pbnN0YWxsP24uaW5zdGFsbC5hcHBseShuLHQpOiJmdW5jdGlvbiI9PXR5cGVvZiBuJiZuLmFwcGx5KG51bGwsdCksaS5wdXNoKG4pLHRoaXMpfX0obiksZnVuY3Rpb24obil7bi5taXhpbj1mdW5jdGlvbihuKXtyZXR1cm4gdGhpcy5vcHRpb25zPXB0KHRoaXMub3B0aW9ucyxuKSx0aGlzfX0obik7bnAobiksZnVuY3Rpb24obil7bHIuZm9yRWFjaChmdW5jdGlvbih0KXtuW3RdPWZ1bmN0aW9uKG4saSl7cmV0dXJuIGk/KCJjb21wb25lbnQiPT09dCYmdihpKSYmKGkubmFtZT1pLm5hbWV8fG4saT10aGlzLm9wdGlvbnMuX2Jhc2UuZXh0ZW5kKGkpKSwiZGlyZWN0aXZlIj09PXQmJiJmdW5jdGlvbiI9PXR5cGVvZiBpJiYoaT17YmluZDppLHVwZGF0ZTppfSksdGhpcy5vcHRpb25zW3QrInMiXVtuXT1pLGkpOnRoaXMub3B0aW9uc1t0KyJzIl1bbl19fSl9KG4pfShyKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoci5wcm90b3R5cGUsIiRpc1NlcnZlciIse2dldDpkaX0pO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLnByb3RvdHlwZSwiJHNzckNvbnRleHQiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy4kdm5vZGUmJnRoaXMuJHZub2RlLnNzckNvbnRleHR9fSk7ci52ZXJzaW9uPSIyLjUuMTMiO3ZhciB5ZSxpYSx3cixhdCxicixwZSx0cixrcixzdz1lKCJzdHlsZSxjbGFzcyIpLGh3PWUoImlucHV0LHRleHRhcmVhLG9wdGlvbixzZWxlY3QscHJvZ3Jlc3MiKSxyYT1mdW5jdGlvbihuLHQsaSl7cmV0dXJuInZhbHVlIj09PWkmJmh3KG4pJiYiYnV0dG9uIiE9PXR8fCJzZWxlY3RlZCI9PT1pJiYib3B0aW9uIj09PW58fCJjaGVja2VkIj09PWkmJiJpbnB1dCI9PT1ufHwibXV0ZWQiPT09aSYmInZpZGVvIj09PW59LHVhPWUoImNvbnRlbnRlZGl0YWJsZSxkcmFnZ2FibGUsc3BlbGxjaGVjayIpLGN3PWUoImFsbG93ZnVsbHNjcmVlbixhc3luYyxhdXRvZm9jdXMsYXV0b3BsYXksY2hlY2tlZCxjb21wYWN0LGNvbnRyb2xzLGRlY2xhcmUsZGVmYXVsdCxkZWZhdWx0Y2hlY2tlZCxkZWZhdWx0bXV0ZWQsZGVmYXVsdHNlbGVjdGVkLGRlZmVyLGRpc2FibGVkLGVuYWJsZWQsZm9ybW5vdmFsaWRhdGUsaGlkZGVuLGluZGV0ZXJtaW5hdGUsaW5lcnQsaXNtYXAsaXRlbXNjb3BlLGxvb3AsbXVsdGlwbGUsbXV0ZWQsbm9ocmVmLG5vcmVzaXplLG5vc2hhZGUsbm92YWxpZGF0ZSxub3dyYXAsb3BlbixwYXVzZW9uZXhpdCxyZWFkb25seSxyZXF1aXJlZCxyZXZlcnNlZCxzY29wZWQsc2VhbWxlc3Msc2VsZWN0ZWQsc29ydGFibGUsdHJhbnNsYXRlLHRydWVzcGVlZCx0eXBlbXVzdG1hdGNoLHZpc2libGUiKSx3ZT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsYmU9ZnVuY3Rpb24obil7cmV0dXJuIjoiPT09bi5jaGFyQXQoNSkmJiJ4bGluayI9PT1uLnNsaWNlKDAsNSl9LGZhPWZ1bmN0aW9uKG4pe3JldHVybiBiZShuKT9uLnNsaWNlKDYsbi5sZW5ndGgpOiIifSxkcj1mdW5jdGlvbihuKXtyZXR1cm4gbnVsbD09bnx8ITE9PT1ufSxsdz17c3ZnOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsbWF0aDoiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCJ9LGF3PWUoImh0bWwsYm9keSxiYXNlLGhlYWQsbGluayxtZXRhLHN0eWxlLHRpdGxlLGFkZHJlc3MsYXJ0aWNsZSxhc2lkZSxmb290ZXIsaGVhZGVyLGgxLGgyLGgzLGg0LGg1LGg2LGhncm91cCxuYXYsc2VjdGlvbixkaXYsZGQsZGwsZHQsZmlnY2FwdGlvbixmaWd1cmUscGljdHVyZSxocixpbWcsbGksbWFpbixvbCxwLHByZSx1bCxhLGIsYWJicixiZGksYmRvLGJyLGNpdGUsY29kZSxkYXRhLGRmbixlbSxpLGtiZCxtYXJrLHEscnAscnQscnRjLHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsbWVudWl0ZW0sc3VtbWFyeSxjb250ZW50LGVsZW1lbnQsc2hhZG93LHRlbXBsYXRlLGJsb2NrcXVvdGUsaWZyYW1lLHRmb290IiksZWE9ZSgic3ZnLGFuaW1hdGUsY2lyY2xlLGNsaXBwYXRoLGN1cnNvcixkZWZzLGRlc2MsZWxsaXBzZSxmaWx0ZXIsZm9udC1mYWNlLGZvcmVpZ25PYmplY3QsZyxnbHlwaCxpbWFnZSxsaW5lLG1hcmtlcixtYXNrLG1pc3NpbmctZ2x5cGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmVjdCxzd2l0Y2gsc3ltYm9sLHRleHQsdGV4dHBhdGgsdHNwYW4sdXNlLHZpZXciLCEwKSxrZT1mdW5jdGlvbihuKXtyZXR1cm4gYXcobil8fGVhKG4pfSxncj1PYmplY3QuY3JlYXRlKG51bGwpLGRlPWUoInRleHQsbnVtYmVyLHBhc3N3b3JkLHNlYXJjaCxlbWFpbCx0ZWwsdXJsIiksdnc9T2JqZWN0LmZyZWV6ZSh7Y3JlYXRlRWxlbWVudDpmdW5jdGlvbihuLHQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobik7cmV0dXJuInNlbGVjdCIhPT1uP2k6KHQuZGF0YSYmdC5kYXRhLmF0dHJzJiZ2b2lkIDAhPT10LmRhdGEuYXR0cnMubXVsdGlwbGUmJmkuc2V0QXR0cmlidXRlKCJtdWx0aXBsZSIsIm11bHRpcGxlIiksaSl9LGNyZWF0ZUVsZW1lbnROUzpmdW5jdGlvbihuLHQpe3JldHVybiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobHdbbl0sdCl9LGNyZWF0ZVRleHROb2RlOmZ1bmN0aW9uKG4pe3JldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShuKX0sY3JlYXRlQ29tbWVudDpmdW5jdGlvbihuKXtyZXR1cm4gZG9jdW1lbnQuY3JlYXRlQ29tbWVudChuKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKG4sdCxpKXtuLmluc2VydEJlZm9yZSh0LGkpfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihuLHQpe24ucmVtb3ZlQ2hpbGQodCl9LGFwcGVuZENoaWxkOmZ1bmN0aW9uKG4sdCl7bi5hcHBlbmRDaGlsZCh0KX0scGFyZW50Tm9kZTpmdW5jdGlvbihuKXtyZXR1cm4gbi5wYXJlbnROb2RlfSxuZXh0U2libGluZzpmdW5jdGlvbihuKXtyZXR1cm4gbi5uZXh0U2libGluZ30sdGFnTmFtZTpmdW5jdGlvbihuKXtyZXR1cm4gbi50YWdOYW1lfSxzZXRUZXh0Q29udGVudDpmdW5jdGlvbihuLHQpe24udGV4dENvbnRlbnQ9dH0sc2V0QXR0cmlidXRlOmZ1bmN0aW9uKG4sdCxpKXtuLnNldEF0dHJpYnV0ZSh0LGkpfX0pLHl3PXtjcmVhdGU6ZnVuY3Rpb24obix0KXtmaSh0KX0sdXBkYXRlOmZ1bmN0aW9uKG4sdCl7bi5kYXRhLnJlZiE9PXQuZGF0YS5yZWYmJihmaShuLCEwKSxmaSh0KSl9LGRlc3Ryb3k6ZnVuY3Rpb24obil7ZmkobiwhMCl9fSx0aT1uZXcgYSgiIix7fSxbXSksaXI9WyJjcmVhdGUiLCJhY3RpdmF0ZSIsInVwZGF0ZSIsInJlbW92ZSIsImRlc3Ryb3kiXSxwdz17Y3JlYXRlOmZmLHVwZGF0ZTpmZixkZXN0cm95OmZ1bmN0aW9uKG4pe2ZmKG4sdGkpfX0sd3c9T2JqZWN0LmNyZWF0ZShudWxsKSxidz1beXcscHddLGt3PXtjcmVhdGU6bmgsdXBkYXRlOm5ofSxkdz17Y3JlYXRlOmloLHVwZGF0ZTppaH0sZ3c9L1tcdykuK1wtXyRcXV0vLG51PSJfX3IiLGdlPSJfX2MiLG5iPXtjcmVhdGU6c2gsdXBkYXRlOnNofSx0Yj17Y3JlYXRlOmhoLHVwZGF0ZTpoaH0sb2E9ayhmdW5jdGlvbihuKXt2YXIgdD17fSxpPS86KC4rKS87cmV0dXJuIG4uc3BsaXQoLzsoPyFbXihdKlwpKS9nKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2lmKG4pe3ZhciByPW4uc3BsaXQoaSk7ci5sZW5ndGg+MSYmKHRbclswXS50cmltKCldPXJbMV0udHJpbSgpKX19KSx0fSksaWI9L14tLS8sc2E9L1xzKiFpbXBvcnRhbnQkLyxoYT1mdW5jdGlvbihuLHQsaSl7dmFyIHUscixmO2lmKGliLnRlc3QodCkpbi5zdHlsZS5zZXRQcm9wZXJ0eSh0LGkpO2Vsc2UgaWYoc2EudGVzdChpKSluLnN0eWxlLnNldFByb3BlcnR5KHQsaS5yZXBsYWNlKHNhLCIiKSwiaW1wb3J0YW50Iik7ZWxzZSBpZih1PXJiKHQpLEFycmF5LmlzQXJyYXkoaSkpZm9yKHI9MCxmPWkubGVuZ3RoO3I8ZjtyKyspbi5zdHlsZVt1XT1pW3JdO2Vsc2Ugbi5zdHlsZVt1XT1pfSxjYT1bIldlYmtpdCIsIk1veiIsIm1zIl0scmI9ayhmdW5jdGlvbihuKXt2YXIgcix0LGk7aWYoa3I9a3J8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLCJmaWx0ZXIiIT09KG49aXQobikpJiZuIGluIGtyKXJldHVybiBuO2ZvcihyPW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrbi5zbGljZSgxKSx0PTA7dDxjYS5sZW5ndGg7dCsrKWlmKGk9Y2FbdF0rcixpIGluIGtyKXJldHVybiBpfSksdWI9e2NyZWF0ZTpsaCx1cGRhdGU6bGh9LGxhPWsoZnVuY3Rpb24obil7cmV0dXJue2VudGVyQ2xhc3M6bisiLWVudGVyIixlbnRlclRvQ2xhc3M6bisiLWVudGVyLXRvIixlbnRlckFjdGl2ZUNsYXNzOm4rIi1lbnRlci1hY3RpdmUiLGxlYXZlQ2xhc3M6bisiLWxlYXZlIixsZWF2ZVRvQ2xhc3M6bisiLWxlYXZlLXRvIixsZWF2ZUFjdGl2ZUNsYXNzOm4rIi1sZWF2ZS1hY3RpdmUifX0pLGFhPWwmJiFjaSxhaT0idHJhbnNpdGlvbiIsbm89ImFuaW1hdGlvbiIsdHU9InRyYW5zaXRpb24iLGl1PSJ0cmFuc2l0aW9uZW5kIix0bz0iYW5pbWF0aW9uIix2YT0iYW5pbWF0aW9uZW5kIjthYSYmKHZvaWQgMD09PXdpbmRvdy5vbnRyYW5zaXRpb25lbmQmJnZvaWQgMCE9PXdpbmRvdy5vbndlYmtpdHRyYW5zaXRpb25lbmQmJih0dT0iV2Via2l0VHJhbnNpdGlvbiIsaXU9IndlYmtpdFRyYW5zaXRpb25FbmQiKSx2b2lkIDA9PT13aW5kb3cub25hbmltYXRpb25lbmQmJnZvaWQgMCE9PXdpbmRvdy5vbndlYmtpdGFuaW1hdGlvbmVuZCYmKHRvPSJXZWJraXRBbmltYXRpb24iLHZhPSJ3ZWJraXRBbmltYXRpb25FbmQiKSk7dmFyIHlhPWw/d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZT93aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lLmJpbmQod2luZG93KTpzZXRUaW1lb3V0OmZ1bmN0aW9uKG4pe3JldHVybiBuKCl9LGZiPS9cYih0cmFuc2Zvcm18YWxsKSgsfCQpLyxlYj1mdW5jdGlvbihpKXtmdW5jdGlvbiB5KHQpe3ZhciBpPXIucGFyZW50Tm9kZSh0KTtuKGkpJiZyLnJlbW92ZUNoaWxkKGksdCl9ZnVuY3Rpb24gcyh0LGksZSxvLHMpe2lmKHQuaXNSb290SW5zZXJ0PSFzLCFmdW5jdGlvbih0LGkscixlKXt2YXIgbz10LmRhdGEscztpZihuKG8pJiYocz1uKHQuY29tcG9uZW50SW5zdGFuY2UpJiZvLmtlZXBBbGl2ZSxuKG89by5ob29rKSYmbihvPW8uaW5pdCkmJm8odCwhMSxyLGUpLG4odC5jb21wb25lbnRJbnN0YW5jZSkpKXJldHVybiBnKHQsaSksdShzKSYmZnVuY3Rpb24odCxpLHIsdSl7Zm9yKHZhciBlLG89dDtvLmNvbXBvbmVudEluc3RhbmNlOylpZihvPW8uY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlLG4oZT1vLmRhdGEpJiZuKGU9ZS50cmFuc2l0aW9uKSl7Zm9yKGU9MDtlPGYuYWN0aXZhdGUubGVuZ3RoOysrZSlmLmFjdGl2YXRlW2VdKHRpLG8pO2kucHVzaChvKTticmVha31sKHIsdC5lbG0sdSl9KHQsaSxyLGUpLCEwfSh0LGksZSxvKSl7dmFyIGM9dC5kYXRhLGE9dC5jaGlsZHJlbixoPXQudGFnO24oaCk/KHQuZWxtPXQubnM/ci5jcmVhdGVFbGVtZW50TlModC5ucyxoKTpyLmNyZWF0ZUVsZW1lbnQoaCx0KSx0dCh0KSxudCh0LGEsaSksbihjKSYmdyh0LGkpLGwoZSx0LmVsbSxvKSk6dSh0LmlzQ29tbWVudCk/KHQuZWxtPXIuY3JlYXRlQ29tbWVudCh0LnRleHQpLGwoZSx0LmVsbSxvKSk6KHQuZWxtPXIuY3JlYXRlVGV4dE5vZGUodC50ZXh0KSxsKGUsdC5lbG0sbykpfX1mdW5jdGlvbiBnKHQsaSl7bih0LmRhdGEucGVuZGluZ0luc2VydCkmJihpLnB1c2guYXBwbHkoaSx0LmRhdGEucGVuZGluZ0luc2VydCksdC5kYXRhLnBlbmRpbmdJbnNlcnQ9bnVsbCk7dC5lbG09dC5jb21wb25lbnRJbnN0YW5jZS4kZWw7cCh0KT8odyh0LGkpLHR0KHQpKTooZmkodCksaS5wdXNoKHQpKX1mdW5jdGlvbiBsKHQsaSx1KXtuKHQpJiYobih1KT91LnBhcmVudE5vZGU9PT10JiZyLmluc2VydEJlZm9yZSh0LGksdSk6ci5hcHBlbmRDaGlsZCh0LGkpKX1mdW5jdGlvbiBudChuLHQsaSl7aWYoQXJyYXkuaXNBcnJheSh0KSlmb3IodmFyIHU9MDt1PHQubGVuZ3RoOysrdSlzKHRbdV0saSxuLmVsbSxudWxsLCEwKTtlbHNlIHZpKG4udGV4dCkmJnIuYXBwZW5kQ2hpbGQobi5lbG0sci5jcmVhdGVUZXh0Tm9kZShTdHJpbmcobi50ZXh0KSkpfWZ1bmN0aW9uIHAodCl7Zm9yKDt0LmNvbXBvbmVudEluc3RhbmNlOyl0PXQuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlO3JldHVybiBuKHQudGFnKX1mdW5jdGlvbiB3KHQsaSl7Zm9yKHZhciByPTA7cjxmLmNyZWF0ZS5sZW5ndGg7KytyKWYuY3JlYXRlW3JdKHRpLHQpO24obz10LmRhdGEuaG9vaykmJihuKG8uY3JlYXRlKSYmby5jcmVhdGUodGksdCksbihvLmluc2VydCkmJmkucHVzaCh0KSl9ZnVuY3Rpb24gdHQodCl7dmFyIGksdTtpZihuKGk9dC5mblNjb3BlSWQpKXIuc2V0QXR0cmlidXRlKHQuZWxtLGksIiIpO2Vsc2UgZm9yKHU9dDt1OyluKGk9dS5jb250ZXh0KSYmbihpPWkuJG9wdGlvbnMuX3Njb3BlSWQpJiZyLnNldEF0dHJpYnV0ZSh0LmVsbSxpLCIiKSx1PXUucGFyZW50O24oaT1uaSkmJmkhPT10LmNvbnRleHQmJmkhPT10LmZuQ29udGV4dCYmbihpPWkuJG9wdGlvbnMuX3Njb3BlSWQpJiZyLnNldEF0dHJpYnV0ZSh0LmVsbSxpLCIiKX1mdW5jdGlvbiBpdChuLHQsaSxyLHUsZil7Zm9yKDtyPD11OysrcilzKGlbcl0sZixuLHQpfWZ1bmN0aW9uIHYodCl7dmFyIGkscix1PXQuZGF0YTtpZihuKHUpKWZvcihuKGk9dS5ob29rKSYmbihpPWkuZGVzdHJveSkmJmkodCksaT0wO2k8Zi5kZXN0cm95Lmxlbmd0aDsrK2kpZi5kZXN0cm95W2ldKHQpO2lmKG4oaT10LmNoaWxkcmVuKSlmb3Iocj0wO3I8dC5jaGlsZHJlbi5sZW5ndGg7KytyKXYodC5jaGlsZHJlbltyXSl9ZnVuY3Rpb24gYih0LGkscix1KXtmb3IoO3I8PXU7KytyKXt2YXIgZj1pW3JdO24oZikmJihuKGYudGFnKT8ocnQoZiksdihmKSk6eShmLmVsbSkpfX1mdW5jdGlvbiBydCh0LGkpe2lmKG4oaSl8fG4odC5kYXRhKSl7dmFyIHIsdT1mLnJlbW92ZS5sZW5ndGgrMTtmb3IobihpKT9pLmxpc3RlbmVycys9dTppPWZ1bmN0aW9uKG4sdCl7ZnVuY3Rpb24gaSgpezA9PS0taS5saXN0ZW5lcnMmJnkobil9cmV0dXJuIGkubGlzdGVuZXJzPXQsaX0odC5lbG0sdSksbihyPXQuY29tcG9uZW50SW5zdGFuY2UpJiZuKHI9ci5fdm5vZGUpJiZuKHIuZGF0YSkmJnJ0KHIsaSkscj0wO3I8Zi5yZW1vdmUubGVuZ3RoOysrcilmLnJlbW92ZVtyXSh0LGkpO24ocj10LmRhdGEuaG9vaykmJm4ocj1yLnJlbW92ZSk/cih0LGkpOmkoKX1lbHNlIHkodC5lbG0pfWZ1bmN0aW9uIGV0KGksdSxmLGUsbyl7Zm9yKHZhciBkLGcsbnQseT0wLHc9MCx2PXUubGVuZ3RoLTEsbD11WzBdLGE9dVt2XSxwPWYubGVuZ3RoLTEsYz1mWzBdLGs9ZltwXSx0dD0hbzt5PD12JiZ3PD1wOyl0KGwpP2w9dVsrK3ldOnQoYSk/YT11Wy0tdl06d3QobCxjKT8oaChsLGMsZSksbD11WysreV0sYz1mWysrd10pOnd0KGEsayk/KGgoYSxrLGUpLGE9dVstLXZdLGs9ZlstLXBdKTp3dChsLGspPyhoKGwsayxlKSx0dCYmci5pbnNlcnRCZWZvcmUoaSxsLmVsbSxyLm5leHRTaWJsaW5nKGEuZWxtKSksbD11WysreV0saz1mWy0tcF0pOnd0KGEsYyk/KGgoYSxjLGUpLHR0JiZyLmluc2VydEJlZm9yZShpLGEuZWxtLGwuZWxtKSxhPXVbLS12XSxjPWZbKyt3XSk6KHQoZCkmJihkPWlwKHUseSx2KSksdChnPW4oYy5rZXkpP2RbYy5rZXldOmZ1bmN0aW9uKHQsaSxyLHUpe2Zvcih2YXIgZSxmPXI7Zjx1O2YrKylpZihlPWlbZl0sbihlKSYmd3QodCxlKSlyZXR1cm4gZn0oYyx1LHksdikpP3MoYyxlLGksbC5lbG0pOnd0KG50PXVbZ10sYyk/KGgobnQsYyxlKSx1W2ddPXZvaWQgMCx0dCYmci5pbnNlcnRCZWZvcmUoaSxudC5lbG0sbC5lbG0pKTpzKGMsZSxpLGwuZWxtKSxjPWZbKyt3XSk7eT52P2l0KGksdChmW3ArMV0pP251bGw6ZltwKzFdLmVsbSxmLHcscCxlKTp3PnAmJmIoMCx1LHksdil9ZnVuY3Rpb24gaChpLGUsbyxzKXt2YXIgdixoLGMsbCxhO2lmKGkhPT1lKWlmKHY9ZS5lbG09aS5lbG0sdShpLmlzQXN5bmNQbGFjZWhvbGRlcikpbihlLmFzeW5jRmFjdG9yeS5yZXNvbHZlZCk/ayhpLmVsbSxlLG8pOmUuaXNBc3luY1BsYWNlaG9sZGVyPSEwO2Vsc2UgaWYodShlLmlzU3RhdGljKSYmdShpLmlzU3RhdGljKSYmZS5rZXk9PT1pLmtleSYmKHUoZS5pc0Nsb25lZCl8fHUoZS5pc09uY2UpKSllLmNvbXBvbmVudEluc3RhbmNlPWkuY29tcG9uZW50SW5zdGFuY2U7ZWxzZXtpZihjPWUuZGF0YSxuKGMpJiZuKGg9Yy5ob29rKSYmbihoPWgucHJlcGF0Y2gpJiZoKGksZSksbD1pLmNoaWxkcmVuLGE9ZS5jaGlsZHJlbixuKGMpJiZwKGUpKXtmb3IoaD0wO2g8Zi51cGRhdGUubGVuZ3RoOysraClmLnVwZGF0ZVtoXShpLGUpO24oaD1jLmhvb2spJiZuKGg9aC51cGRhdGUpJiZoKGksZSl9dChlLnRleHQpP24obCkmJm4oYSk/bCE9PWEmJmV0KHYsbCxhLG8scyk6bihhKT8obihpLnRleHQpJiZyLnNldFRleHRDb250ZW50KHYsIiIpLGl0KHYsbnVsbCxhLDAsYS5sZW5ndGgtMSxvKSk6bihsKT9iKDAsbCwwLGwubGVuZ3RoLTEpOm4oaS50ZXh0KSYmci5zZXRUZXh0Q29udGVudCh2LCIiKTppLnRleHQhPT1lLnRleHQmJnIuc2V0VGV4dENvbnRlbnQodixlLnRleHQpO24oYykmJm4oaD1jLmhvb2spJiZuKGg9aC5wb3N0cGF0Y2gpJiZoKGksZSl9fWZ1bmN0aW9uIHV0KHQsaSxyKXtpZih1KHIpJiZuKHQucGFyZW50KSl0LnBhcmVudC5kYXRhLnBlbmRpbmdJbnNlcnQ9aTtlbHNlIGZvcih2YXIgZj0wO2Y8aS5sZW5ndGg7KytmKWlbZl0uZGF0YS5ob29rLmluc2VydChpW2ZdKX1mdW5jdGlvbiBrKHQsaSxyLGYpe3ZhciBlLHk9aS50YWcsbz1pLmRhdGEsaD1pLmNoaWxkcmVuLGwsdjtpZihmPWZ8fG8mJm8ucHJlLGkuZWxtPXQsdShpLmlzQ29tbWVudCkmJm4oaS5hc3luY0ZhY3RvcnkpKXJldHVybiBpLmlzQXN5bmNQbGFjZWhvbGRlcj0hMCwhMDtpZihuKG8pJiYobihlPW8uaG9vaykmJm4oZT1lLmluaXQpJiZlKGksITApLG4oZT1pLmNvbXBvbmVudEluc3RhbmNlKSkpcmV0dXJuIGcoaSxyKSwhMDtpZihuKHkpKXtpZihuKGgpKWlmKHQuaGFzQ2hpbGROb2RlcygpKWlmKG4oZT1vKSYmbihlPWUuZG9tUHJvcHMpJiZuKGU9ZS5pbm5lckhUTUwpKXtpZihlIT09dC5pbm5lckhUTUwpcmV0dXJuITF9ZWxzZXtmb3IodmFyIGE9ITAscz10LmZpcnN0Q2hpbGQsYz0wO2M8aC5sZW5ndGg7YysrKXtpZighc3x8IWsocyxoW2NdLHIsZikpe2E9ITE7YnJlYWt9cz1zLm5leHRTaWJsaW5nfWlmKCFhfHxzKXJldHVybiExfWVsc2UgbnQoaSxoLHIpO2lmKG4obykpe2w9ITE7Zm9yKHYgaW4gbylpZighZnQodikpe2w9ITA7dyhpLHIpO2JyZWFrfSFsJiZvLmNsYXNzJiZibyhvLmNsYXNzKX19ZWxzZSB0LmRhdGEhPT1pLnRleHQmJih0LmRhdGE9aS50ZXh0KTtyZXR1cm4hMH1mb3IodmFyIGMsZj17fSxkPWkubW9kdWxlcyxyPWkubm9kZU9wcyxmdCxvPTA7bzxpci5sZW5ndGg7KytvKWZvcihmW2lyW29dXT1bXSxjPTA7YzxkLmxlbmd0aDsrK2MpbihkW2NdW2lyW29dXSkmJmZbaXJbb11dLnB1c2goZFtjXVtpcltvXV0pO3JldHVybiBmdD1lKCJhdHRycyxjbGFzcyxzdGF0aWNDbGFzcyxzdGF0aWNTdHlsZSxrZXkiKSxmdW5jdGlvbihpLGUsbyxjLGwseSl7dmFyIGZ0LGQsZXQsZyxvdCx3LHN0LG50LHR0LGl0LHJ0O2lmKCF0KGUpKXtpZihmdD0hMSxkPVtdLHQoaSkpZnQ9ITAscyhlLGQsbCx5KTtlbHNlIGlmKGV0PW4oaS5ub2RlVHlwZSksIWV0JiZ3dChpLGUpKWgoaSxlLGQsYyk7ZWxzZXtpZihldCl7aWYoMT09PWkubm9kZVR5cGUmJmkuaGFzQXR0cmlidXRlKGZsKSYmKGkucmVtb3ZlQXR0cmlidXRlKGZsKSxvPSEwKSx1KG8pJiZrKGksZSxkKSlyZXR1cm4gdXQoZSxkLCEwKSxpO2k9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyBhKHIudGFnTmFtZShuKS50b0xvd2VyQ2FzZSgpLHt9LFtdLHZvaWQgMCxuKX0oaSl9aWYoZz1pLmVsbSxvdD1yLnBhcmVudE5vZGUoZykscyhlLGQsZy5fbGVhdmVDYj9udWxsOm90LHIubmV4dFNpYmxpbmcoZykpLG4oZS5wYXJlbnQpKWZvcih3PWUucGFyZW50LHN0PXAoZSk7dzspe2ZvcihudD0wO250PGYuZGVzdHJveS5sZW5ndGg7KytudClmLmRlc3Ryb3lbbnRdKHcpO2lmKHcuZWxtPWUuZWxtLHN0KXtmb3IodHQ9MDt0dDxmLmNyZWF0ZS5sZW5ndGg7Kyt0dClmLmNyZWF0ZVt0dF0odGksdyk7aWYoaXQ9dy5kYXRhLmhvb2suaW5zZXJ0LGl0Lm1lcmdlZClmb3IocnQ9MTtydDxpdC5mbnMubGVuZ3RoO3J0KyspaXQuZm5zW3J0XSgpfWVsc2UgZmkodyk7dz13LnBhcmVudH1uKG90KT9iKDAsW2ldLDAsMCk6bihpLnRhZykmJnYoaSl9cmV0dXJuIHV0KGUsZCxmdCksZS5lbG19bihpKSYmdihpKX19KHtub2RlT3BzOnZ3LG1vZHVsZXM6W2t3LGR3LG5iLHRiLHViLGw/e2NyZWF0ZTp0YyxhY3RpdmF0ZTp0YyxyZW1vdmU6ZnVuY3Rpb24obix0KXshMCE9PW4uZGF0YS5zaG93P2doKG4sdCk6dCgpfX06e31dLmNvbmNhdChidyl9KTtjaSYmZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigic2VsZWN0aW9uY2hhbmdlIixmdW5jdGlvbigpe3ZhciBuPWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7biYmbi52bW9kZWwmJnlmKG4sImlucHV0Iil9KTt2YXIgcGE9e2luc2VydGVkOmZ1bmN0aW9uKG4sdCxpLHIpeyJzZWxlY3QiPT09aS50YWc/KHIuZWxtJiYhci5lbG0uX3ZPcHRpb25zP2x0KGksInBvc3RwYXRjaCIsZnVuY3Rpb24oKXtwYS5jb21wb25lbnRVcGRhdGVkKG4sdCxpKX0pOmljKG4sdCxpLmNvbnRleHQpLG4uX3ZPcHRpb25zPVtdLm1hcC5jYWxsKG4ub3B0aW9ucyxocikpOigidGV4dGFyZWEiPT09aS50YWd8fGRlKG4udHlwZSkpJiYobi5fdk1vZGlmaWVycz10Lm1vZGlmaWVycyx0Lm1vZGlmaWVycy5sYXp5fHwobi5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGZjKSxncHx8KG4uYWRkRXZlbnRMaXN0ZW5lcigiY29tcG9zaXRpb25zdGFydCIsZnApLG4uYWRkRXZlbnRMaXN0ZW5lcigiY29tcG9zaXRpb25lbmQiLGZjKSksY2kmJihuLnZtb2RlbD0hMCkpKX0sY29tcG9uZW50VXBkYXRlZDpmdW5jdGlvbihuLHQsaSl7aWYoInNlbGVjdCI9PT1pLnRhZyl7aWMobix0LGkuY29udGV4dCk7dmFyIHU9bi5fdk9wdGlvbnMscj1uLl92T3B0aW9ucz1bXS5tYXAuY2FsbChuLm9wdGlvbnMsaHIpO3Iuc29tZShmdW5jdGlvbihuLHQpe3JldHVybiF2dChuLHVbdF0pfSkmJihuLm11bHRpcGxlP3QudmFsdWUuc29tZShmdW5jdGlvbihuKXtyZXR1cm4gdWMobixyKX0pOnQudmFsdWUhPT10Lm9sZFZhbHVlJiZ1Yyh0LnZhbHVlLHIpKSYmeWYobiwiY2hhbmdlIil9fX0sb2I9e21vZGVsOnBhLHNob3c6e2JpbmQ6ZnVuY3Rpb24obix0LGkpe3ZhciByPXQudmFsdWUsZj0oaT1wZihpKSkuZGF0YSYmaS5kYXRhLnRyYW5zaXRpb24sdT1uLl9fdk9yaWdpbmFsRGlzcGxheT0ibm9uZSI9PT1uLnN0eWxlLmRpc3BsYXk/IiI6bi5zdHlsZS5kaXNwbGF5O3ImJmY/KGkuZGF0YS5zaG93PSEwLGFmKGksZnVuY3Rpb24oKXtuLnN0eWxlLmRpc3BsYXk9dX0pKTpuLnN0eWxlLmRpc3BsYXk9cj91OiJub25lIn0sdXBkYXRlOmZ1bmN0aW9uKG4sdCxpKXt2YXIgcj10LnZhbHVlO3IhPT10Lm9sZFZhbHVlJiYoKGk9cGYoaSkpLmRhdGEmJmkuZGF0YS50cmFuc2l0aW9uPyhpLmRhdGEuc2hvdz0hMCxyP2FmKGksZnVuY3Rpb24oKXtuLnN0eWxlLmRpc3BsYXk9bi5fX3ZPcmlnaW5hbERpc3BsYXl9KTpnaChpLGZ1bmN0aW9uKCl7bi5zdHlsZS5kaXNwbGF5PSJub25lIn0pKTpuLnN0eWxlLmRpc3BsYXk9cj9uLl9fdk9yaWdpbmFsRGlzcGxheToibm9uZSIpfSx1bmJpbmQ6ZnVuY3Rpb24obix0LGkscix1KXt1fHwobi5zdHlsZS5kaXNwbGF5PW4uX192T3JpZ2luYWxEaXNwbGF5KX19fSx3YT17bmFtZTpTdHJpbmcsYXBwZWFyOkJvb2xlYW4sY3NzOkJvb2xlYW4sbW9kZTpTdHJpbmcsdHlwZTpTdHJpbmcsZW50ZXJDbGFzczpTdHJpbmcsbGVhdmVDbGFzczpTdHJpbmcsZW50ZXJUb0NsYXNzOlN0cmluZyxsZWF2ZVRvQ2xhc3M6U3RyaW5nLGVudGVyQWN0aXZlQ2xhc3M6U3RyaW5nLGxlYXZlQWN0aXZlQ2xhc3M6U3RyaW5nLGFwcGVhckNsYXNzOlN0cmluZyxhcHBlYXJBY3RpdmVDbGFzczpTdHJpbmcsYXBwZWFyVG9DbGFzczpTdHJpbmcsZHVyYXRpb246W051bWJlcixTdHJpbmcsT2JqZWN0XX0sc2I9e25hbWU6InRyYW5zaXRpb24iLHByb3BzOndhLGFic3RyYWN0OiEwLHJlbmRlcjpmdW5jdGlvbihuKXt2YXIgbD10aGlzLGU9dGhpcy4kc2xvdHMuZGVmYXVsdCxvLHUsdCxmLGgsdixjO2lmKGUmJihlPWUuZmlsdGVyKGZ1bmN0aW9uKG4pe3JldHVybiBuLnRhZ3x8ZXIobil9KSkubGVuZ3RoKXtpZigobz10aGlzLm1vZGUsdT1lWzBdLGZ1bmN0aW9uKG4pe2Zvcig7bj1uLnBhcmVudDspaWYobi5kYXRhLnRyYW5zaXRpb24pcmV0dXJuITB9KHRoaXMuJHZub2RlKSl8fCh0PXdmKHUpLCF0KSlyZXR1cm4gdTtpZih0aGlzLl9sZWF2aW5nKXJldHVybiBvYyhuLHUpO2Y9Il9fdHJhbnNpdGlvbi0iK3RoaXMuX3VpZCsiLSI7dC5rZXk9bnVsbD09dC5rZXk/dC5pc0NvbW1lbnQ/ZisiY29tbWVudCI6Zit0LnRhZzp2aSh0LmtleSk/MD09PVN0cmluZyh0LmtleSkuaW5kZXhPZihmKT90LmtleTpmK3Qua2V5OnQua2V5O3ZhciBzPSh0LmRhdGF8fCh0LmRhdGE9e30pKS50cmFuc2l0aW9uPWVjKHRoaXMpLGE9dGhpcy5fdm5vZGUscj13ZihhKTtpZih0LmRhdGEuZGlyZWN0aXZlcyYmdC5kYXRhLmRpcmVjdGl2ZXMuc29tZShmdW5jdGlvbihuKXtyZXR1cm4ic2hvdyI9PT1uLm5hbWV9KSYmKHQuZGF0YS5zaG93PSEwKSxyJiZyLmRhdGEmJiFmdW5jdGlvbihuLHQpe3JldHVybiB0LmtleT09PW4ua2V5JiZ0LnRhZz09PW4udGFnfSh0LHIpJiYhZXIocikmJighci5jb21wb25lbnRJbnN0YW5jZXx8IXIuY29tcG9uZW50SW5zdGFuY2UuX3Zub2RlLmlzQ29tbWVudCkpe2lmKGg9ci5kYXRhLnRyYW5zaXRpb249aSh7fSxzKSwib3V0LWluIj09PW8pcmV0dXJuIHRoaXMuX2xlYXZpbmc9ITAsbHQoaCwiYWZ0ZXJMZWF2ZSIsZnVuY3Rpb24oKXtsLl9sZWF2aW5nPSExO2wuJGZvcmNlVXBkYXRlKCl9KSxvYyhuLHUpO2lmKCJpbi1vdXQiPT09byl7aWYoZXIodCkpcmV0dXJuIGE7Yz1mdW5jdGlvbigpe3YoKX07bHQocywiYWZ0ZXJFbnRlciIsYyk7bHQocywiZW50ZXJDYW5jZWxsZWQiLGMpO2x0KGgsImRlbGF5TGVhdmUiLGZ1bmN0aW9uKG4pe3Y9bn0pfX1yZXR1cm4gdX19fSxiYT1pKHt0YWc6U3RyaW5nLG1vdmVDbGFzczpTdHJpbmd9LHdhKTtkZWxldGUgYmEubW9kZTtrYT17VHJhbnNpdGlvbjpzYixUcmFuc2l0aW9uR3JvdXA6e3Byb3BzOmJhLHJlbmRlcjpmdW5jdGlvbihuKXtmb3IodmFyIHQsaSxlPXRoaXMudGFnfHx0aGlzLiR2bm9kZS5kYXRhLnRhZ3x8InNwYW4iLG89T2JqZWN0LmNyZWF0ZShudWxsKSxyPXRoaXMucHJldkNoaWxkcmVuPXRoaXMuY2hpbGRyZW4scz10aGlzLiRzbG90cy5kZWZhdWx0fHxbXSxoPXRoaXMuY2hpbGRyZW49W10sYz1lYyh0aGlzKSx1PTA7dTxzLmxlbmd0aDt1KyspdD1zW3VdLHQudGFnJiZudWxsIT10LmtleSYmMCE9PVN0cmluZyh0LmtleSkuaW5kZXhPZigiX192bGlzdCIpJiYoaC5wdXNoKHQpLG9bdC5rZXldPXQsKHQuZGF0YXx8KHQuZGF0YT17fSkpLnRyYW5zaXRpb249Yyk7aWYocil7Zm9yKHZhciBsPVtdLGE9W10sZj0wO2Y8ci5sZW5ndGg7ZisrKWk9cltmXSxpLmRhdGEudHJhbnNpdGlvbj1jLGkuZGF0YS5wb3M9aS5lbG0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksb1tpLmtleV0/bC5wdXNoKGkpOmEucHVzaChpKTt0aGlzLmtlcHQ9bihlLG51bGwsbCk7dGhpcy5yZW1vdmVkPWF9cmV0dXJuIG4oZSxudWxsLGgpfSxiZWZvcmVVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLl9fcGF0Y2hfXyh0aGlzLl92bm9kZSx0aGlzLmtlcHQsITEsITApO3RoaXMuX3Zub2RlPXRoaXMua2VwdH0sdXBkYXRlZDpmdW5jdGlvbigpe3ZhciBuPXRoaXMucHJldkNoaWxkcmVuLHQ9dGhpcy5tb3ZlQ2xhc3N8fCh0aGlzLm5hbWV8fCJ2IikrIi1tb3ZlIjtuLmxlbmd0aCYmdGhpcy5oYXNNb3ZlKG5bMF0uZWxtLHQpJiYobi5mb3JFYWNoKGVwKSxuLmZvckVhY2gob3ApLG4uZm9yRWFjaChzcCksdGhpcy5fcmVmbG93PWRvY3VtZW50LmJvZHkub2Zmc2V0SGVpZ2h0LG4uZm9yRWFjaChmdW5jdGlvbihuKXtpZihuLmRhdGEubW92ZWQpe3ZhciBpPW4uZWxtLHI9aS5zdHlsZTtkdChpLHQpO3IudHJhbnNmb3JtPXIuV2Via2l0VHJhbnNmb3JtPXIudHJhbnNpdGlvbkR1cmF0aW9uPSIiO2kuYWRkRXZlbnRMaXN0ZW5lcihpdSxpLl9tb3ZlQ2I9ZnVuY3Rpb24gbihyKXtyJiYhL3RyYW5zZm9ybSQvLnRlc3Qoci5wcm9wZXJ0eU5hbWUpfHwoaS5yZW1vdmVFdmVudExpc3RlbmVyKGl1LG4pLGkuX21vdmVDYj1udWxsLHV0KGksdCkpfSl9fSkpfSxtZXRob2RzOntoYXNNb3ZlOmZ1bmN0aW9uKG4sdCl7dmFyIGkscjtyZXR1cm4gYWE/dGhpcy5faGFzTW92ZT90aGlzLl9oYXNNb3ZlOihpPW4uY2xvbmVOb2RlKCksbi5fdHJhbnNpdGlvbkNsYXNzZXMmJm4uX3RyYW5zaXRpb25DbGFzc2VzLmZvckVhY2goZnVuY3Rpb24obil7dmgoaSxuKX0pLGFoKGksdCksaS5zdHlsZS5kaXNwbGF5PSJub25lIix0aGlzLiRlbC5hcHBlbmRDaGlsZChpKSxyPWJoKGkpLHRoaXMuJGVsLnJlbW92ZUNoaWxkKGkpLHRoaXMuX2hhc01vdmU9ci5oYXNUcmFuc2Zvcm0pOiExfX19fTtyLmNvbmZpZy5tdXN0VXNlUHJvcD1yYTtyLmNvbmZpZy5pc1Jlc2VydmVkVGFnPWtlO3IuY29uZmlnLmlzUmVzZXJ2ZWRBdHRyPXN3O3IuY29uZmlnLmdldFRhZ05hbWVzcGFjZT1kcztyLmNvbmZpZy5pc1Vua25vd25FbGVtZW50PWZ1bmN0aW9uKG4pe2lmKCFsKXJldHVybiEwO2lmKGtlKG4pKXJldHVybiExO2lmKG49bi50b0xvd2VyQ2FzZSgpLG51bGwhPWdyW25dKXJldHVybiBncltuXTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KG4pO3JldHVybiBncltuXT1uLmluZGV4T2YoIi0iKT4tMT90LmNvbnN0cnVjdG9yPT09d2luZG93LkhUTUxVbmtub3duRWxlbWVudHx8dC5jb25zdHJ1Y3Rvcj09PXdpbmRvdy5IVE1MRWxlbWVudDovSFRNTFVua25vd25FbGVtZW50Ly50ZXN0KHQudG9TdHJpbmcoKSl9O2koci5vcHRpb25zLmRpcmVjdGl2ZXMsb2IpO2koci5vcHRpb25zLmNvbXBvbmVudHMsa2EpO3IucHJvdG90eXBlLl9fcGF0Y2hfXz1sP2ViOm87ci5wcm90b3R5cGUuJG1vdW50PWZ1bmN0aW9uKG4sdCl7cmV0dXJuIG49biYmbD91ZihuKTp2b2lkIDAsZnVuY3Rpb24obix0LGkpe24uJGVsPXQ7bi4kb3B0aW9ucy5yZW5kZXJ8fChuLiRvcHRpb25zLnJlbmRlcj1ndCk7ZChuLCJiZWZvcmVNb3VudCIpO3ZhciByO3JldHVybiByPWZ1bmN0aW9uKCl7bi5fdXBkYXRlKG4uX3JlbmRlcigpLGkpfSxuZXcgdHQobixyLG8sbnVsbCwhMCksaT0hMSxudWxsPT1uLiR2bm9kZSYmKG4uX2lzTW91bnRlZD0hMCxkKG4sIm1vdW50ZWQiKSksbn0odGhpcyxuLHQpfTtyLm5leHRUaWNrKGZ1bmN0aW9uKCl7dy5kZXZ0b29scyYmdnImJnZyLmVtaXQoImluaXQiLHIpfSwwKTt2YXIgcnUsaGI9L1x7XHsoKD86LnxcbikrPylcfVx9L2csZGE9L1stLiorP14ke30oKXxbXF1cL1xcXS9nLGNiPWsoZnVuY3Rpb24obil7dmFyIHQ9blswXS5yZXBsYWNlKGRhLCJcXCQmIiksaT1uWzFdLnJlcGxhY2UoZGEsIlxcJCYiKTtyZXR1cm4gbmV3IFJlZ0V4cCh0KyIoKD86LnxcXG4pKz8pIitpLCJnIil9KSxsYj17c3RhdGljS2V5czpbInN0YXRpY0NsYXNzIl0sdHJhbnNmb3JtTm9kZTpmdW5jdGlvbihuLHQpe3ZhciBpLHI7dC53YXJuO2k9ZihuLCJjbGFzcyIpO2kmJihuLnN0YXRpY0NsYXNzPUpTT04uc3RyaW5naWZ5KGkpKTtyPXkobiwiY2xhc3MiLCExKTtyJiYobi5jbGFzc0JpbmRpbmc9cil9LGdlbkRhdGE6ZnVuY3Rpb24obil7dmFyIHQ9IiI7cmV0dXJuIG4uc3RhdGljQ2xhc3MmJih0Kz0ic3RhdGljQ2xhc3M6IituLnN0YXRpY0NsYXNzKyIsIiksbi5jbGFzc0JpbmRpbmcmJih0Kz0iY2xhc3M6IituLmNsYXNzQmluZGluZysiLCIpLHR9fSxhYj17c3RhdGljS2V5czpbInN0YXRpY1N0eWxlIl0sdHJhbnNmb3JtTm9kZTpmdW5jdGlvbihuLHQpe3ZhciBpLHI7dC53YXJuO2k9ZihuLCJzdHlsZSIpO2kmJihuLnN0YXRpY1N0eWxlPUpTT04uc3RyaW5naWZ5KG9hKGkpKSk7cj15KG4sInN0eWxlIiwhMSk7ciYmKG4uc3R5bGVCaW5kaW5nPXIpfSxnZW5EYXRhOmZ1bmN0aW9uKG4pe3ZhciB0PSIiO3JldHVybiBuLnN0YXRpY1N0eWxlJiYodCs9InN0YXRpY1N0eWxlOiIrbi5zdGF0aWNTdHlsZSsiLCIpLG4uc3R5bGVCaW5kaW5nJiYodCs9InN0eWxlOigiK24uc3R5bGVCaW5kaW5nKyIpLCIpLHR9fSx2Yj1mdW5jdGlvbihuKXtyZXR1cm4gcnU9cnV8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLHJ1LmlubmVySFRNTD1uLHJ1LnRleHRDb250ZW50fSx5Yj1lKCJhcmVhLGJhc2UsYnIsY29sLGVtYmVkLGZyYW1lLGhyLGltZyxpbnB1dCxpc2luZGV4LGtleWdlbixsaW5rLG1ldGEscGFyYW0sc291cmNlLHRyYWNrLHdiciIpLHBiPWUoImNvbGdyb3VwLGRkLGR0LGxpLG9wdGlvbnMscCx0ZCx0Zm9vdCx0aCx0aGVhZCx0cixzb3VyY2UiKSx3Yj1lKCJhZGRyZXNzLGFydGljbGUsYXNpZGUsYmFzZSxibG9ja3F1b3RlLGJvZHksY2FwdGlvbixjb2wsY29sZ3JvdXAsZGQsZGV0YWlscyxkaWFsb2csZGl2LGRsLGR0LGZpZWxkc2V0LGZpZ2NhcHRpb24sZmlndXJlLGZvb3Rlcixmb3JtLGgxLGgyLGgzLGg0LGg1LGg2LGhlYWQsaGVhZGVyLGhncm91cCxocixodG1sLGxlZ2VuZCxsaSxtZW51aXRlbSxtZXRhLG9wdGdyb3VwLG9wdGlvbixwYXJhbSxycCxydCxzb3VyY2Usc3R5bGUsc3VtbWFyeSx0Ym9keSx0ZCx0Zm9vdCx0aCx0aGVhZCx0aXRsZSx0cix0cmFjayIpLGJiPS9eXHMqKFteXHMiJzw+XC89XSspKD86XHMqKD0pXHMqKD86IihbXiJdKikiK3wnKFteJ10qKScrfChbXlxzIic9PD5gXSspKSk/LyxnYT0iW2EtekEtWl9dW1xcd1xcLVxcLl0qIixudj0iKCg/OiIrZ2ErIlxcOik/IitnYSsiKSIsdHY9bmV3IFJlZ0V4cCgiXjwiK252KSxrYj0vXlxzKihcLz8pPi8saXY9bmV3IFJlZ0V4cCgiXjxcXC8iK252KyJbXj5dKj4iKSxkYj0vXjwhRE9DVFlQRSBbXj5dKz4vaSxydj0vXjwhLS0vLHV2PS9ePCFcWy8sZnY9ITE7IngiLnJlcGxhY2UoL3goLik/L2csZnVuY3Rpb24obix0KXtmdj0iIj09PXR9KTt2YXIgZXYsb3YsaW8scm8sdW8sZm8sZW8sc3YsaHYsb28sdXUsY3Y9ZSgic2NyaXB0LHN0eWxlLHRleHRhcmVhIiwhMCksbHY9e30sZ2I9eyImbHQ7IjoiPCIsIiZndDsiOiI+IiwiJnF1b3Q7IjonIicsIiZhbXA7IjoiJiIsIiYjMTA7IjoiXG4iLCImIzk7IjoiXHQifSxuaz0vJig/Omx0fGd0fHF1b3R8YW1wKTsvZyx0az0vJig/Omx0fGd0fHF1b3R8YW1wfCMxMHwjOSk7L2csaWs9ZSgicHJlLHRleHRhcmVhIiwhMCksYXY9ZnVuY3Rpb24obix0KXtyZXR1cm4gbiYmaWsobikmJiJcbiI9PT10WzBdfSx2dj0vXkB8XnYtb246Lyx5dj0vXnYtfF5AfF46Lyxyaz0vKC4qPylccysoPzppbnxvZilccysoLiopLyxwdj0vLChbXixcfVxdXSopKD86LChbXixcfVxdXSopKT8kLyx1az0vXlwofFwpJC9nLGZrPS86KC4qKSQvLHd2PS9eOnxedi1iaW5kOi8sYnY9L1wuW14uXSsvZyxlaz1rKHZiKSxvaz0vXnhtbG5zOk5TXGQrLyxzaz0vXk5TXGQrOi8sa3Y9W2xiLGFiLHtwcmVUcmFuc2Zvcm1Ob2RlOmZ1bmN0aW9uKG4sdCl7dmFyIGUscix1O2lmKCJpbnB1dCI9PT1uLnRhZyYmKGU9bi5hdHRyc01hcCxlWyJ2LW1vZGVsIl0mJihlWyJ2LWJpbmQ6dHlwZSJdfHxlWyI6dHlwZSJdKSkpe3ZhciBvPXkobiwidHlwZSIpLHM9ZihuLCJ2LWlmIiwhMCksaD1zPyImJigiK3MrIikiOiIiLGw9bnVsbCE9ZihuLCJ2LWVsc2UiLCEwKSxjPWYobiwidi1lbHNlLWlmIiwhMCksaT1iZihuKTtyZXR1cm4gaGMoaSksc2YoaSwidHlwZSIsImNoZWNrYm94IiksY3IoaSx0KSxpLnByb2Nlc3NlZD0hMCxpLmlmPSIoIitvKyIpPT09J2NoZWNrYm94JyIraCxvaShpLHtleHA6aS5pZixibG9jazppfSkscj1iZihuKSxmKHIsInYtZm9yIiwhMCksc2YociwidHlwZSIsInJhZGlvIiksY3Iocix0KSxvaShpLHtleHA6IigiK28rIik9PT0ncmFkaW8nIitoLGJsb2NrOnJ9KSx1PWJmKG4pLGYodSwidi1mb3IiLCEwKSxzZih1LCI6dHlwZSIsbyksY3IodSx0KSxvaShpLHtleHA6cyxibG9jazp1fSksbD9pLmVsc2U9ITA6YyYmKGkuZWxzZWlmPWMpLGl9fX1dLGhrPXtleHBlY3RIVE1MOiEwLG1vZHVsZXM6a3YsZGlyZWN0aXZlczp7bW9kZWw6ZnVuY3Rpb24obix0KXt2YXIgaT10LnZhbHVlLHI9dC5tb2RpZmllcnMsdT1uLnRhZyxmPW4uYXR0cnNNYXAudHlwZTtpZihuLmNvbXBvbmVudClyZXR1cm4gdWgobixpLHIpLCExO2lmKCJzZWxlY3QiPT09dSkhZnVuY3Rpb24obix0LGkpe3ZhciByPSd2YXIgJCRzZWxlY3RlZFZhbCA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbCgkZXZlbnQudGFyZ2V0Lm9wdGlvbnMsZnVuY3Rpb24obyl7cmV0dXJuIG8uc2VsZWN0ZWR9KS5tYXAoZnVuY3Rpb24obyl7dmFyIHZhbCA9ICJfdmFsdWUiIGluIG8gPyBvLl92YWx1ZSA6IG8udmFsdWU7cmV0dXJuICcrKGkmJmkubnVtYmVyPyJfbih2YWwpIjoidmFsIikrIn0pOyI7cj1yKyIgIitlaSh0LCIkZXZlbnQudGFyZ2V0Lm11bHRpcGxlID8gJCRzZWxlY3RlZFZhbCA6ICQkc2VsZWN0ZWRWYWxbMF0iKTtrdChuLCJjaGFuZ2UiLHIsbnVsbCwhMCl9KG4saSxyKTtlbHNlIGlmKCJpbnB1dCI9PT11JiYiY2hlY2tib3giPT09ZikhZnVuY3Rpb24obix0LGkpe3ZhciBmPWkmJmkubnVtYmVyLHI9eShuLCJ2YWx1ZSIpfHwibnVsbCIsdT15KG4sInRydWUtdmFsdWUiKXx8InRydWUiLGU9eShuLCJmYWxzZS12YWx1ZSIpfHwiZmFsc2UiO2J0KG4sImNoZWNrZWQiLCJBcnJheS5pc0FycmF5KCIrdCsiKT9faSgiK3QrIiwiK3IrIik+LTEiKygidHJ1ZSI9PT11PyI6KCIrdCsiKSI6IjpfcSgiK3QrIiwiK3UrIikiKSk7a3QobiwiY2hhbmdlIiwidmFyICQkYT0iK3QrIiwkJGVsPSRldmVudC50YXJnZXQsJCRjPSQkZWwuY2hlY2tlZD8oIit1KyIpOigiK2UrIik7aWYoQXJyYXkuaXNBcnJheSgkJGEpKXt2YXIgJCR2PSIrKGY/Il9uKCIrcisiKSI6cikrIiwkJGk9X2koJCRhLCQkdik7aWYoJCRlbC5jaGVja2VkKXskJGk8MCYmKCIrdCsiPSQkYS5jb25jYXQoWyQkdl0pKX1lbHNleyQkaT4tMSYmKCIrdCsiPSQkYS5zbGljZSgwLCQkaSkuY29uY2F0KCQkYS5zbGljZSgkJGkrMSkpKX19ZWxzZXsiK2VpKHQsIiQkYyIpKyJ9IixudWxsLCEwKX0obixpLHIpO2Vsc2UgaWYoImlucHV0Ij09PXUmJiJyYWRpbyI9PT1mKSFmdW5jdGlvbihuLHQsaSl7dmFyIHU9aSYmaS5udW1iZXIscj15KG4sInZhbHVlIil8fCJudWxsIjtidChuLCJjaGVja2VkIiwiX3EoIit0KyIsIisocj11PyJfbigiK3IrIikiOnIpKyIpIik7a3QobiwiY2hhbmdlIixlaSh0LHIpLG51bGwsITApfShuLGkscik7ZWxzZSBpZigiaW5wdXQiPT09dXx8InRleHRhcmVhIj09PXUpIWZ1bmN0aW9uKG4sdCxpKXt2YXIgZT1uLmF0dHJzTWFwLnR5cGUsZj1pfHx7fSxvPWYubGF6eSxzPWYubnVtYmVyLGg9Zi50cmltLGM9IW8mJiJyYW5nZSIhPT1lLGw9bz8iY2hhbmdlIjoicmFuZ2UiPT09ZT9udToiaW5wdXQiLHI9IiRldmVudC50YXJnZXQudmFsdWUiLHU7aCYmKHI9IiRldmVudC50YXJnZXQudmFsdWUudHJpbSgpIik7cyYmKHI9Il9uKCIrcisiKSIpO3U9ZWkodCxyKTtjJiYodT0iaWYoJGV2ZW50LnRhcmdldC5jb21wb3NpbmcpcmV0dXJuOyIrdSk7YnQobiwidmFsdWUiLCIoIit0KyIpIik7a3QobixsLHUsbnVsbCwhMCk7KGh8fHMpJiZrdChuLCJibHVyIiwiJGZvcmNlVXBkYXRlKCkiKX0obixpLHIpO2Vsc2UgaWYoIXcuaXNSZXNlcnZlZFRhZyh1KSlyZXR1cm4gdWgobixpLHIpLCExO3JldHVybiEwfSx0ZXh0OmZ1bmN0aW9uKG4sdCl7dC52YWx1ZSYmYnQobiwidGV4dENvbnRlbnQiLCJfcygiK3QudmFsdWUrIikiKX0saHRtbDpmdW5jdGlvbihuLHQpe3QudmFsdWUmJmJ0KG4sImlubmVySFRNTCIsIl9zKCIrdC52YWx1ZSsiKSIpfX0saXNQcmVUYWc6ZnVuY3Rpb24obil7cmV0dXJuInByZSI9PT1ufSxpc1VuYXJ5VGFnOnliLG11c3RVc2VQcm9wOnJhLGNhbkJlTGVmdE9wZW5UYWc6cGIsaXNSZXNlcnZlZFRhZzprZSxnZXRUYWdOYW1lc3BhY2U6ZHMsc3RhdGljS2V5czpmdW5jdGlvbihuKXtyZXR1cm4gbi5yZWR1Y2UoZnVuY3Rpb24obix0KXtyZXR1cm4gbi5jb25jYXQodC5zdGF0aWNLZXlzfHxbXSl9LFtdKS5qb2luKCIsIil9KGt2KX0sY2s9ayhmdW5jdGlvbihuKXtyZXR1cm4gZSgidHlwZSx0YWcsYXR0cnNMaXN0LGF0dHJzTWFwLHBsYWluLHBhcmVudCxjaGlsZHJlbixhdHRycyIrKG4/IiwiK246IiIpKX0pLGxrPS9eXHMqKFtcdyRfXSt8XChbXildKj9cKSlccyo9PnxeZnVuY3Rpb25ccypcKC8sYWs9L15ccypbQS1aYS16XyRdW1x3JF0qKD86XC5bQS1aYS16XyRdW1x3JF0qfFxbJy4qPyddfFxbIi4qPyJdfFxbXGQrXXxcW1tBLVphLXpfJF1bXHckXSpdKSpccyokLyxkdj17ZXNjOjI3LHRhYjo5LGVudGVyOjEzLHNwYWNlOjMyLHVwOjM4LGxlZnQ6MzcscmlnaHQ6MzksZG93bjo0MCwiZGVsZXRlIjpbOCw0Nl19LHN0PWZ1bmN0aW9uKG4pe3JldHVybiJpZigiK24rIilyZXR1cm4gbnVsbDsifSxndj17c3RvcDoiJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOyIscHJldmVudDoiJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IixzZWxmOnN0KCIkZXZlbnQudGFyZ2V0ICE9PSAkZXZlbnQuY3VycmVudFRhcmdldCIpLGN0cmw6c3QoIiEkZXZlbnQuY3RybEtleSIpLHNoaWZ0OnN0KCIhJGV2ZW50LnNoaWZ0S2V5IiksYWx0OnN0KCIhJGV2ZW50LmFsdEtleSIpLG1ldGE6c3QoIiEkZXZlbnQubWV0YUtleSIpLGxlZnQ6c3QoIididXR0b24nIGluICRldmVudCAmJiAkZXZlbnQuYnV0dG9uICE9PSAwIiksbWlkZGxlOnN0KCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMSIpLHJpZ2h0OnN0KCInYnV0dG9uJyBpbiAkZXZlbnQgJiYgJGV2ZW50LmJ1dHRvbiAhPT0gMiIpfSx2az17b246ZnVuY3Rpb24obix0KXtuLndyYXBMaXN0ZW5lcnM9ZnVuY3Rpb24obil7cmV0dXJuIl9nKCIrbisiLCIrdC52YWx1ZSsiKSJ9fSxiaW5kOmZ1bmN0aW9uKG4sdCl7bi53cmFwRGF0YT1mdW5jdGlvbihpKXtyZXR1cm4iX2IoIitpKyIsJyIrbi50YWcrIicsIit0LnZhbHVlKyIsIisodC5tb2RpZmllcnMmJnQubW9kaWZpZXJzLnByb3A/InRydWUiOiJmYWxzZSIpKyh0Lm1vZGlmaWVycyYmdC5tb2RpZmllcnMuc3luYz8iLHRydWUiOiIiKSsiKSJ9fSxjbG9hazpvfSx5az1mdW5jdGlvbihuKXt0aGlzLm9wdGlvbnM9bjt0aGlzLndhcm49bi53YXJufHxyaDt0aGlzLnRyYW5zZm9ybXM9a2kobi5tb2R1bGVzLCJ0cmFuc2Zvcm1Db2RlIik7dGhpcy5kYXRhR2VuRm5zPWtpKG4ubW9kdWxlcywiZ2VuRGF0YSIpO3RoaXMuZGlyZWN0aXZlcz1pKGkoe30sdmspLG4uZGlyZWN0aXZlcyk7dmFyIHQ9bi5pc1Jlc2VydmVkVGFnfHxnO3RoaXMubWF5YmVDb21wb25lbnQ9ZnVuY3Rpb24obil7cmV0dXJuIXQobi50YWcpfTt0aGlzLm9uY2VJZD0wO3RoaXMuc3RhdGljUmVuZGVyRm5zPVtdfSxueT0obmV3IFJlZ0V4cCgiXFxiIisiZG8saWYsZm9yLGxldCxuZXcsdHJ5LHZhcixjYXNlLGVsc2Usd2l0aCxhd2FpdCxicmVhayxjYXRjaCxjbGFzcyxjb25zdCxzdXBlcix0aHJvdyx3aGlsZSx5aWVsZCxkZWxldGUsZXhwb3J0LGltcG9ydCxyZXR1cm4sc3dpdGNoLGRlZmF1bHQsZXh0ZW5kcyxmaW5hbGx5LGNvbnRpbnVlLGRlYnVnZ2VyLGZ1bmN0aW9uLGFyZ3VtZW50cyIuc3BsaXQoIiwiKS5qb2luKCJcXGJ8XFxiIikrIlxcYiIpLG5ldyBSZWdFeHAoIlxcYiIrImRlbGV0ZSx0eXBlb2Ysdm9pZCIuc3BsaXQoIiwiKS5qb2luKCJcXHMqXFwoW15cXCldKlxcKXxcXGIiKSsiXFxzKlxcKFteXFwpXSpcXCkiKSxmdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24odCl7ZnVuY3Rpb24gcihyLHUpe3ZhciBmPU9iamVjdC5jcmVhdGUodCkscz1bXSxoPVtdLGUsbztpZihmLndhcm49ZnVuY3Rpb24obix0KXsodD9oOnMpLnB1c2gobil9LHUpe3UubW9kdWxlcyYmKGYubW9kdWxlcz0odC5tb2R1bGVzfHxbXSkuY29uY2F0KHUubW9kdWxlcykpO3UuZGlyZWN0aXZlcyYmKGYuZGlyZWN0aXZlcz1pKE9iamVjdC5jcmVhdGUodC5kaXJlY3RpdmVzfHxudWxsKSx1LmRpcmVjdGl2ZXMpKTtmb3IoZSBpbiB1KSJtb2R1bGVzIiE9PWUmJiJkaXJlY3RpdmVzIiE9PWUmJihmW2VdPXVbZV0pfXJldHVybiBvPW4ocixmKSxvLmVycm9ycz1zLG8udGlwcz1oLG99cmV0dXJue2NvbXBpbGU6cixjb21waWxlVG9GdW5jdGlvbnM6ZnVuY3Rpb24obil7dmFyIHQ9T2JqZWN0LmNyZWF0ZShudWxsKTtyZXR1cm4gZnVuY3Rpb24ocix1KXt2YXIgZjtpZigodT1pKHt9LHUpKS53YXJuLGRlbGV0ZSB1Lndhcm4sZj11LmRlbGltaXRlcnM/U3RyaW5nKHUuZGVsaW1pdGVycykrcjpyLHRbZl0pcmV0dXJuIHRbZl07dmFyIG89bihyLHUpLGU9e30scz1bXTtyZXR1cm4gZS5yZW5kZXI9dGwoby5yZW5kZXIscyksZS5zdGF0aWNSZW5kZXJGbnM9by5zdGF0aWNSZW5kZXJGbnMubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB0bChuLHMpfSksdFtmXT1lfX0ocil9fX0oZnVuY3Rpb24obix0KXt2YXIgaT1jcChuLnRyaW0oKSx0KSxyO3JldHVybiExIT09dC5vcHRpbWl6ZSYmZnVuY3Rpb24obix0KXtuJiYoaHY9Y2sodC5zdGF0aWNLZXlzfHwiIiksb289dC5pc1Jlc2VydmVkVGFnfHxnLGtmKG4pLGRmKG4sITEpKX0oaSx0KSxyPWFjKGksdCkse2FzdDppLHJlbmRlcjpyLnJlbmRlcixzdGF0aWNSZW5kZXJGbnM6ci5zdGF0aWNSZW5kZXJGbnN9fSkoaGspLmNvbXBpbGVUb0Z1bmN0aW9ucykscGs9ISFsJiZpbCghMSksd2s9ISFsJiZpbCghMCksYms9ayhmdW5jdGlvbihuKXt2YXIgdD11ZihuKTtyZXR1cm4gdCYmdC5pbm5lckhUTUx9KSxraz1yLnByb3RvdHlwZS4kbW91bnQ7cmV0dXJuIHIucHJvdG90eXBlLiRtb3VudD1mdW5jdGlvbihuLHQpe3ZhciByLGk7aWYoKG49biYmdWYobikpPT09ZG9jdW1lbnQuYm9keXx8bj09PWRvY3VtZW50LmRvY3VtZW50RWxlbWVudClyZXR1cm4gdGhpcztpZihyPXRoaXMuJG9wdGlvbnMsIXIucmVuZGVyKXtpZihpPXIudGVtcGxhdGUsaSlpZigic3RyaW5nIj09dHlwZW9mIGkpIiMiPT09aS5jaGFyQXQoMCkmJihpPWJrKGkpKTtlbHNle2lmKCFpLm5vZGVUeXBlKXJldHVybiB0aGlzO2k9aS5pbm5lckhUTUx9ZWxzZSBuJiYoaT1mdW5jdGlvbihuKXtpZihuLm91dGVySFRNTClyZXR1cm4gbi5vdXRlckhUTUw7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cmV0dXJuIHQuYXBwZW5kQ2hpbGQobi5jbG9uZU5vZGUoITApKSx0LmlubmVySFRNTH0obikpO2lmKGkpe3ZhciB1PW55KGkse3Nob3VsZERlY29kZU5ld2xpbmVzOnBrLHNob3VsZERlY29kZU5ld2xpbmVzRm9ySHJlZjp3ayxkZWxpbWl0ZXJzOnIuZGVsaW1pdGVycyxjb21tZW50czpyLmNvbW1lbnRzfSx0aGlzKSxmPXUucmVuZGVyLGU9dS5zdGF0aWNSZW5kZXJGbnM7ci5yZW5kZXI9ZjtyLnN0YXRpY1JlbmRlckZucz1lfX1yZXR1cm4ga2suY2FsbCh0aGlzLG4sdCl9LHIuY29tcGlsZT1ueSxyfSk7IWZ1bmN0aW9uKG4sdCl7Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzJiYib2JqZWN0Ij09dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz10KCk6ImZ1bmN0aW9uIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoW10sdCk6Im9iamVjdCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuYXhpb3M9dCgpOm4uYXhpb3M9dCgpfSh0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQocil7aWYoaVtyXSlyZXR1cm4gaVtyXS5leHBvcnRzO3ZhciB1PWlbcl09e2V4cG9ydHM6e30saWQ6cixsb2FkZWQ6ITF9O3JldHVybiBuW3JdLmNhbGwodS5leHBvcnRzLHUsdS5leHBvcnRzLHQpLHUubG9hZGVkPSEwLHUuZXhwb3J0c312YXIgaT17fTtyZXR1cm4gdC5tPW4sdC5jPWksdC5wPSIiLHQoMCl9KFtmdW5jdGlvbihuLHQsaSl7bi5leHBvcnRzPWkoMSl9LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gZShuKXt2YXIgdD1uZXcgdShuKSxpPXModS5wcm90b3R5cGUucmVxdWVzdCx0KTtyZXR1cm4gZi5leHRlbmQoaSx1LnByb3RvdHlwZSx0KSxmLmV4dGVuZChpLHQpLGl9dmFyIGY9aSgyKSxzPWkoMyksdT1pKDUpLG89aSg2KSxyPWUobyk7ci5BeGlvcz11O3IuY3JlYXRlPWZ1bmN0aW9uKG4pe3JldHVybiBlKGYubWVyZ2UobyxuKSl9O3IuQ2FuY2VsPWkoMjMpO3IuQ2FuY2VsVG9rZW49aSgyNCk7ci5pc0NhbmNlbD1pKDIwKTtyLmFsbD1mdW5jdGlvbihuKXtyZXR1cm4gUHJvbWlzZS5hbGwobil9O3Iuc3ByZWFkPWkoMjUpO24uZXhwb3J0cz1yO24uZXhwb3J0cy5kZWZhdWx0PXJ9LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuKXtyZXR1cm4iW29iamVjdCBBcnJheV0iPT09ci5jYWxsKG4pfWZ1bmN0aW9uIGgobil7cmV0dXJuIltvYmplY3QgQXJyYXlCdWZmZXJdIj09PXIuY2FsbChuKX1mdW5jdGlvbiBjKG4pe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgRm9ybURhdGEmJm4gaW5zdGFuY2VvZiBGb3JtRGF0YX1mdW5jdGlvbiBsKG4pe3JldHVybiJ1bmRlZmluZWQiIT10eXBlb2YgQXJyYXlCdWZmZXImJkFycmF5QnVmZmVyLmlzVmlldz9BcnJheUJ1ZmZlci5pc1ZpZXcobik6biYmbi5idWZmZXImJm4uYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ9ZnVuY3Rpb24gYShuKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIG59ZnVuY3Rpb24gdihuKXtyZXR1cm4ibnVtYmVyIj09dHlwZW9mIG59ZnVuY3Rpb24geShuKXtyZXR1cm4idW5kZWZpbmVkIj09dHlwZW9mIG59ZnVuY3Rpb24gZShuKXtyZXR1cm4gbnVsbCE9PW4mJiJvYmplY3QiPT10eXBlb2Ygbn1mdW5jdGlvbiBwKG4pe3JldHVybiJbb2JqZWN0IERhdGVdIj09PXIuY2FsbChuKX1mdW5jdGlvbiB3KG4pe3JldHVybiJbb2JqZWN0IEZpbGVdIj09PXIuY2FsbChuKX1mdW5jdGlvbiBiKG4pe3JldHVybiJbb2JqZWN0IEJsb2JdIj09PXIuY2FsbChuKX1mdW5jdGlvbiBvKG4pe3JldHVybiJbb2JqZWN0IEZ1bmN0aW9uXSI9PT1yLmNhbGwobil9ZnVuY3Rpb24gayhuKXtyZXR1cm4gZShuKSYmbyhuLnBpcGUpfWZ1bmN0aW9uIGQobil7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBVUkxTZWFyY2hQYXJhbXMmJm4gaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXN9ZnVuY3Rpb24gZyhuKXtyZXR1cm4gbi5yZXBsYWNlKC9eXHMqLywiIikucmVwbGFjZSgvXHMqJC8sIiIpfWZ1bmN0aW9uIG50KCl7cmV0dXJuKCJ1bmRlZmluZWQiPT10eXBlb2YgbmF2aWdhdG9yfHwiUmVhY3ROYXRpdmUiIT09bmF2aWdhdG9yLnByb2R1Y3QpJiYidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdyYmInVuZGVmaW5lZCIhPXR5cGVvZiBkb2N1bWVudH1mdW5jdGlvbiBmKG4sdCl7dmFyIGksZixyO2lmKG51bGwhPT1uJiYidW5kZWZpbmVkIiE9dHlwZW9mIG4paWYoIm9iamVjdCI9PXR5cGVvZiBufHx1KG4pfHwobj1bbl0pLHUobikpZm9yKGk9MCxmPW4ubGVuZ3RoO2k8ZjtpKyspdC5jYWxsKG51bGwsbltpXSxpLG4pO2Vsc2UgZm9yKHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmdC5jYWxsKG51bGwsbltyXSxyLG4pfWZ1bmN0aW9uIHMoKXtmdW5jdGlvbiBpKHQsaSl7bltpXT0ib2JqZWN0Ij09dHlwZW9mIG5baV0mJiJvYmplY3QiPT10eXBlb2YgdD9zKG5baV0sdCk6dH1mb3IodmFyIG49e30sdD0wLHI9YXJndW1lbnRzLmxlbmd0aDt0PHI7dCsrKWYoYXJndW1lbnRzW3RdLGkpO3JldHVybiBufWZ1bmN0aW9uIHR0KG4sdCxpKXtyZXR1cm4gZih0LGZ1bmN0aW9uKHQscil7bltyXT1pJiYiZnVuY3Rpb24iPT10eXBlb2YgdD9pdCh0LGkpOnR9KSxufXZhciBpdD1pKDMpLHJ0PWkoNCkscj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO24uZXhwb3J0cz17aXNBcnJheTp1LGlzQXJyYXlCdWZmZXI6aCxpc0J1ZmZlcjpydCxpc0Zvcm1EYXRhOmMsaXNBcnJheUJ1ZmZlclZpZXc6bCxpc1N0cmluZzphLGlzTnVtYmVyOnYsaXNPYmplY3Q6ZSxpc1VuZGVmaW5lZDp5LGlzRGF0ZTpwLGlzRmlsZTp3LGlzQmxvYjpiLGlzRnVuY3Rpb246byxpc1N0cmVhbTprLGlzVVJMU2VhcmNoUGFyYW1zOmQsaXNTdGFuZGFyZEJyb3dzZXJFbnY6bnQsZm9yRWFjaDpmLG1lcmdlOnMsZXh0ZW5kOnR0LHRyaW06Z319LGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtuLmV4cG9ydHM9ZnVuY3Rpb24obix0KXtyZXR1cm4gZnVuY3Rpb24oKXtmb3IodmFyIHI9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgpLGk9MDtpPHIubGVuZ3RoO2krKylyW2ldPWFyZ3VtZW50c1tpXTtyZXR1cm4gbi5hcHBseSh0LHIpfX19LGZ1bmN0aW9uKG4pe2Z1bmN0aW9uIHQobil7cmV0dXJuISFuLmNvbnN0cnVjdG9yJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5jb25zdHJ1Y3Rvci5pc0J1ZmZlciYmbi5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihuKX1mdW5jdGlvbiBpKG4pe3JldHVybiJmdW5jdGlvbiI9PXR5cGVvZiBuLnJlYWRGbG9hdExFJiYiZnVuY3Rpb24iPT10eXBlb2Ygbi5zbGljZSYmdChuLnNsaWNlKDAsMCkpfQovKiEKCSAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXIKCSAqCgkgKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8ZmVyb3NzQGZlcm9zcy5vcmc+IDxodHRwOi8vZmVyb3NzLm9yZz4KCSAqIEBsaWNlbnNlICBNSVQKCSAqLwpuLmV4cG9ydHM9ZnVuY3Rpb24obil7cmV0dXJuIG51bGwhPW4mJih0KG4pfHxpKG4pfHwhIW4uX2lzQnVmZmVyKX19LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuKXt0aGlzLmRlZmF1bHRzPW47dGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IGYscmVzcG9uc2U6bmV3IGZ9fXZhciBlPWkoNikscj1pKDIpLGY9aSgxNyksbz1pKDE4KTt1LnByb3RvdHlwZS5yZXF1ZXN0PWZ1bmN0aW9uKG4peyJzdHJpbmciPT10eXBlb2YgbiYmKG49ci5tZXJnZSh7dXJsOmFyZ3VtZW50c1swXX0sYXJndW1lbnRzWzFdKSk7bj1yLm1lcmdlKGUsdGhpcy5kZWZhdWx0cyx7bWV0aG9kOiJnZXQifSxuKTtuLm1ldGhvZD1uLm1ldGhvZC50b0xvd2VyQ2FzZSgpO3ZhciB0PVtvLHZvaWQgMF0saT1Qcm9taXNlLnJlc29sdmUobik7Zm9yKHRoaXMuaW50ZXJjZXB0b3JzLnJlcXVlc3QuZm9yRWFjaChmdW5jdGlvbihuKXt0LnVuc2hpZnQobi5mdWxmaWxsZWQsbi5yZWplY3RlZCl9KSx0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3QucHVzaChuLmZ1bGZpbGxlZCxuLnJlamVjdGVkKX0pO3QubGVuZ3RoOylpPWkudGhlbih0LnNoaWZ0KCksdC5zaGlmdCgpKTtyZXR1cm4gaX07ci5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsIm9wdGlvbnMiXSxmdW5jdGlvbihuKXt1LnByb3RvdHlwZVtuXT1mdW5jdGlvbih0LGkpe3JldHVybiB0aGlzLnJlcXVlc3Qoci5tZXJnZShpfHx7fSx7bWV0aG9kOm4sdXJsOnR9KSl9fSk7ci5mb3JFYWNoKFsicG9zdCIsInB1dCIsInBhdGNoIl0sZnVuY3Rpb24obil7dS5wcm90b3R5cGVbbl09ZnVuY3Rpb24odCxpLHUpe3JldHVybiB0aGlzLnJlcXVlc3Qoci5tZXJnZSh1fHx7fSx7bWV0aG9kOm4sdXJsOnQsZGF0YTppfSkpfX0pO24uZXhwb3J0cz11fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGYobix0KXshci5pc1VuZGVmaW5lZChuKSYmci5pc1VuZGVmaW5lZChuWyJDb250ZW50LVR5cGUiXSkmJihuWyJDb250ZW50LVR5cGUiXT10KX1mdW5jdGlvbiBlKCl7dmFyIG47cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdD9uPWkoOCk6InVuZGVmaW5lZCIhPXR5cGVvZiBwcm9jZXNzJiYobj1pKDgpKSxufXZhciByPWkoMiksbz1pKDcpLHM9eyJDb250ZW50LVR5cGUiOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQifSx1PXthZGFwdGVyOmUoKSx0cmFuc2Zvcm1SZXF1ZXN0OltmdW5jdGlvbihuLHQpe3JldHVybiBvKHQsIkNvbnRlbnQtVHlwZSIpLHIuaXNGb3JtRGF0YShuKXx8ci5pc0FycmF5QnVmZmVyKG4pfHxyLmlzQnVmZmVyKG4pfHxyLmlzU3RyZWFtKG4pfHxyLmlzRmlsZShuKXx8ci5pc0Jsb2Iobik/bjpyLmlzQXJyYXlCdWZmZXJWaWV3KG4pP24uYnVmZmVyOnIuaXNVUkxTZWFyY2hQYXJhbXMobik/KGYodCwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgiKSxuLnRvU3RyaW5nKCkpOnIuaXNPYmplY3Qobik/KGYodCwiYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04IiksSlNPTi5zdHJpbmdpZnkobikpOm59XSx0cmFuc2Zvcm1SZXNwb25zZTpbZnVuY3Rpb24obil7aWYoInN0cmluZyI9PXR5cGVvZiBuKXRyeXtuPUpTT04ucGFyc2Uobil9Y2F0Y2gobil7fXJldHVybiBufV0sdGltZW91dDowLHhzcmZDb29raWVOYW1lOiJYU1JGLVRPS0VOIix4c3JmSGVhZGVyTmFtZToiWC1YU1JGLVRPS0VOIixtYXhDb250ZW50TGVuZ3RoOi0xLHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uKG4pe3JldHVybiBuPj0yMDAmJm48MzAwfX07dS5oZWFkZXJzPXtjb21tb246e0FjY2VwdDoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qIn19O3IuZm9yRWFjaChbImRlbGV0ZSIsImdldCIsImhlYWQiXSxmdW5jdGlvbihuKXt1LmhlYWRlcnNbbl09e319KTtyLmZvckVhY2goWyJwb3N0IiwicHV0IiwicGF0Y2giXSxmdW5jdGlvbihuKXt1LmhlYWRlcnNbbl09ci5tZXJnZShzKX0pO24uZXhwb3J0cz11fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciByPWkoMik7bi5leHBvcnRzPWZ1bmN0aW9uKG4sdCl7ci5mb3JFYWNoKG4sZnVuY3Rpb24oaSxyKXtyIT09dCYmci50b1VwcGVyQ2FzZSgpPT09dC50b1VwcGVyQ2FzZSgpJiYoblt0XT1pLGRlbGV0ZSBuW3JdKX0pfX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1pKDIpLGU9aSg5KSxvPWkoMTIpLHM9aSgxMyksdT1pKDE0KSxmPWkoMTApLGg9InVuZGVmaW5lZCIhPXR5cGVvZiB3aW5kb3cmJndpbmRvdy5idG9hJiZ3aW5kb3cuYnRvYS5iaW5kKHdpbmRvdyl8fGkoMTUpO24uZXhwb3J0cz1mdW5jdGlvbihuKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24odCxjKXt2YXIgYT1uLmRhdGEsdj1uLmhlYWRlcnMsYixrLGQseTtyLmlzRm9ybURhdGEoYSkmJmRlbGV0ZSB2WyJDb250ZW50LVR5cGUiXTt2YXIgbD1uZXcgWE1MSHR0cFJlcXVlc3QscD0ib25yZWFkeXN0YXRlY2hhbmdlIix3PSExO2lmKCh3aW5kb3cuWE1MSHR0cFJlcXVlc3R8fCJ1bmRlZmluZWQiPT10eXBlb2Ygd2luZG93fHwhd2luZG93LlhEb21haW5SZXF1ZXN0fHwid2l0aENyZWRlbnRpYWxzImluIGx8fHUobi51cmwpfHwobD1uZXcgd2luZG93LlhEb21haW5SZXF1ZXN0LHA9Im9ubG9hZCIsdz0hMCxsLm9ucHJvZ3Jlc3M9ZnVuY3Rpb24oKXt9LGwub250aW1lb3V0PWZ1bmN0aW9uKCl7fSksbi5hdXRoKSYmKGI9bi5hdXRoLnVzZXJuYW1lfHwiIixrPW4uYXV0aC5wYXNzd29yZHx8IiIsdi5BdXRob3JpemF0aW9uPSJCYXNpYyAiK2goYisiOiIraykpLChsLm9wZW4obi5tZXRob2QudG9VcHBlckNhc2UoKSxvKG4udXJsLG4ucGFyYW1zLG4ucGFyYW1zU2VyaWFsaXplciksITApLGwudGltZW91dD1uLnRpbWVvdXQsbFtwXT1mdW5jdGlvbigpe2lmKGwmJig0PT09bC5yZWFkeVN0YXRlfHx3KSYmKDAhPT1sLnN0YXR1c3x8bC5yZXNwb25zZVVSTCYmMD09PWwucmVzcG9uc2VVUkwuaW5kZXhPZigiZmlsZToiKSkpe3ZhciBpPSJnZXRBbGxSZXNwb25zZUhlYWRlcnMiaW4gbD9zKGwuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpOm51bGwscj1uLnJlc3BvbnNlVHlwZSYmInRleHQiIT09bi5yZXNwb25zZVR5cGU/bC5yZXNwb25zZTpsLnJlc3BvbnNlVGV4dCx1PXtkYXRhOnIsc3RhdHVzOjEyMjM9PT1sLnN0YXR1cz8yMDQ6bC5zdGF0dXMsc3RhdHVzVGV4dDoxMjIzPT09bC5zdGF0dXM/Ik5vIENvbnRlbnQiOmwuc3RhdHVzVGV4dCxoZWFkZXJzOmksY29uZmlnOm4scmVxdWVzdDpsfTtlKHQsYyx1KTtsPW51bGx9fSxsLm9uZXJyb3I9ZnVuY3Rpb24oKXtjKGYoIk5ldHdvcmsgRXJyb3IiLG4sbnVsbCxsKSk7bD1udWxsfSxsLm9udGltZW91dD1mdW5jdGlvbigpe2MoZigidGltZW91dCBvZiAiK24udGltZW91dCsibXMgZXhjZWVkZWQiLG4sIkVDT05OQUJPUlRFRCIsbCkpO2w9bnVsbH0sci5pc1N0YW5kYXJkQnJvd3NlckVudigpKSYmKGQ9aSgxNikseT0obi53aXRoQ3JlZGVudGlhbHN8fHUobi51cmwpKSYmbi54c3JmQ29va2llTmFtZT9kLnJlYWQobi54c3JmQ29va2llTmFtZSk6dm9pZCAwLHkmJih2W24ueHNyZkhlYWRlck5hbWVdPXkpKSwic2V0UmVxdWVzdEhlYWRlciJpbiBsJiZyLmZvckVhY2godixmdW5jdGlvbihuLHQpeyJ1bmRlZmluZWQiPT10eXBlb2YgYSYmImNvbnRlbnQtdHlwZSI9PT10LnRvTG93ZXJDYXNlKCk/ZGVsZXRlIHZbdF06bC5zZXRSZXF1ZXN0SGVhZGVyKHQsbil9KSxuLndpdGhDcmVkZW50aWFscyYmKGwud2l0aENyZWRlbnRpYWxzPSEwKSxuLnJlc3BvbnNlVHlwZSl0cnl7bC5yZXNwb25zZVR5cGU9bi5yZXNwb25zZVR5cGV9Y2F0Y2godCl7aWYoImpzb24iIT09bi5yZXNwb25zZVR5cGUpdGhyb3cgdDt9ImZ1bmN0aW9uIj09dHlwZW9mIG4ub25Eb3dubG9hZFByb2dyZXNzJiZsLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixuLm9uRG93bmxvYWRQcm9ncmVzcyk7ImZ1bmN0aW9uIj09dHlwZW9mIG4ub25VcGxvYWRQcm9ncmVzcyYmbC51cGxvYWQmJmwudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoInByb2dyZXNzIixuLm9uVXBsb2FkUHJvZ3Jlc3MpO24uY2FuY2VsVG9rZW4mJm4uY2FuY2VsVG9rZW4ucHJvbWlzZS50aGVuKGZ1bmN0aW9uKG4pe2wmJihsLmFib3J0KCksYyhuKSxsPW51bGwpfSk7dm9pZCAwPT09YSYmKGE9bnVsbCk7bC5zZW5kKGEpfSl9fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciByPWkoMTApO24uZXhwb3J0cz1mdW5jdGlvbihuLHQsaSl7dmFyIHU9aS5jb25maWcudmFsaWRhdGVTdGF0dXM7aS5zdGF0dXMmJnUmJiF1KGkuc3RhdHVzKT90KHIoIlJlcXVlc3QgZmFpbGVkIHdpdGggc3RhdHVzIGNvZGUgIitpLnN0YXR1cyxpLmNvbmZpZyxudWxsLGkucmVxdWVzdCxpKSk6bihpKX19LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7dmFyIHI9aSgxMSk7bi5leHBvcnRzPWZ1bmN0aW9uKG4sdCxpLHUsZil7dmFyIGU9bmV3IEVycm9yKG4pO3JldHVybiByKGUsdCxpLHUsZil9fSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7bi5leHBvcnRzPWZ1bmN0aW9uKG4sdCxpLHIsdSl7cmV0dXJuIG4uY29uZmlnPXQsaSYmKG4uY29kZT1pKSxuLnJlcXVlc3Q9cixuLnJlc3BvbnNlPXUsbn19LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdShuKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KG4pLnJlcGxhY2UoLyU0MC9naSwiQCIpLnJlcGxhY2UoLyUzQS9naSwiOiIpLnJlcGxhY2UoLyUyNC9nLCIkIikucmVwbGFjZSgvJTJDL2dpLCIsIikucmVwbGFjZSgvJTIwL2csIisiKS5yZXBsYWNlKC8lNUIvZ2ksIlsiKS5yZXBsYWNlKC8lNUQvZ2ksIl0iKX12YXIgcj1pKDIpO24uZXhwb3J0cz1mdW5jdGlvbihuLHQsaSl7dmFyIGYsZTtyZXR1cm4gdD8oaT9mPWkodCk6ci5pc1VSTFNlYXJjaFBhcmFtcyh0KT9mPXQudG9TdHJpbmcoKTooZT1bXSxyLmZvckVhY2godCxmdW5jdGlvbihuLHQpe251bGwhPT1uJiYidW5kZWZpbmVkIiE9dHlwZW9mIG4mJihyLmlzQXJyYXkobikmJih0Kz0iW10iKSxyLmlzQXJyYXkobil8fChuPVtuXSksci5mb3JFYWNoKG4sZnVuY3Rpb24obil7ci5pc0RhdGUobik/bj1uLnRvSVNPU3RyaW5nKCk6ci5pc09iamVjdChuKSYmKG49SlNPTi5zdHJpbmdpZnkobikpO2UucHVzaCh1KHQpKyI9Iit1KG4pKX0pKX0pLGY9ZS5qb2luKCImIikpLGYmJihuKz0obi5pbmRleE9mKCI/Iik9PT0tMT8iPyI6IiYiKStmKSxuKTpufX0sZnVuY3Rpb24obix0LGkpeyJ1c2Ugc3RyaWN0Ijt2YXIgcj1pKDIpLHU9WyJhZ2UiLCJhdXRob3JpemF0aW9uIiwiY29udGVudC1sZW5ndGgiLCJjb250ZW50LXR5cGUiLCJldGFnIiwiZXhwaXJlcyIsImZyb20iLCJob3N0IiwiaWYtbW9kaWZpZWQtc2luY2UiLCJpZi11bm1vZGlmaWVkLXNpbmNlIiwibGFzdC1tb2RpZmllZCIsImxvY2F0aW9uIiwibWF4LWZvcndhcmRzIiwicHJveHktYXV0aG9yaXphdGlvbiIsInJlZmVyZXIiLCJyZXRyeS1hZnRlciIsInVzZXItYWdlbnQiXTtuLmV4cG9ydHM9ZnVuY3Rpb24obil7dmFyIHQsZixlLGk9e307cmV0dXJuIG4/KHIuZm9yRWFjaChuLnNwbGl0KCJcbiIpLGZ1bmN0aW9uKG4pe2lmKGU9bi5pbmRleE9mKCI6IiksdD1yLnRyaW0obi5zdWJzdHIoMCxlKSkudG9Mb3dlckNhc2UoKSxmPXIudHJpbShuLnN1YnN0cihlKzEpKSx0KXtpZihpW3RdJiZ1LmluZGV4T2YodCk+PTApcmV0dXJuO2lbdF09InNldC1jb29raWUiPT09dD8oaVt0XT9pW3RdOltdKS5jb25jYXQoW2ZdKTppW3RdP2lbdF0rIiwgIitmOmZ9fSksaSk6aX19LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7dmFyIHI9aSgyKTtuLmV4cG9ydHM9ci5pc1N0YW5kYXJkQnJvd3NlckVudigpP2Z1bmN0aW9uKCl7ZnVuY3Rpb24gaSh0KXt2YXIgaT10O3JldHVybiB1JiYobi5zZXRBdHRyaWJ1dGUoImhyZWYiLGkpLGk9bi5ocmVmKSxuLnNldEF0dHJpYnV0ZSgiaHJlZiIsaSkse2hyZWY6bi5ocmVmLHByb3RvY29sOm4ucHJvdG9jb2w/bi5wcm90b2NvbC5yZXBsYWNlKC86JC8sIiIpOiIiLGhvc3Q6bi5ob3N0LHNlYXJjaDpuLnNlYXJjaD9uLnNlYXJjaC5yZXBsYWNlKC9eXD8vLCIiKToiIixoYXNoOm4uaGFzaD9uLmhhc2gucmVwbGFjZSgvXiMvLCIiKToiIixob3N0bmFtZTpuLmhvc3RuYW1lLHBvcnQ6bi5wb3J0LHBhdGhuYW1lOiIvIj09PW4ucGF0aG5hbWUuY2hhckF0KDApP24ucGF0aG5hbWU6Ii8iK24ucGF0aG5hbWV9fXZhciB0LHU9Lyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSxuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTtyZXR1cm4gdD1pKHdpbmRvdy5sb2NhdGlvbi5ocmVmKSxmdW5jdGlvbihuKXt2YXIgdT1yLmlzU3RyaW5nKG4pP2kobik6bjtyZXR1cm4gdS5wcm90b2NvbD09PXQucHJvdG9jb2wmJnUuaG9zdD09PXQuaG9zdH19KCk6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4hMH19KCl9LGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtmdW5jdGlvbiB0KCl7dGhpcy5tZXNzYWdlPSJTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXIifWZ1bmN0aW9uIGkobil7Zm9yKHZhciB1LGYsZT1TdHJpbmcobiksbz0iIixpPTAscz1yO2UuY2hhckF0KDB8aSl8fChzPSI9IixpJTEpO28rPXMuY2hhckF0KDYzJnU+PjgtaSUxKjgpKXtpZihmPWUuY2hhckNvZGVBdChpKz0uNzUpLGY+MjU1KXRocm93IG5ldyB0O3U9dTw8OHxmfXJldHVybiBvfXZhciByPSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPSI7dC5wcm90b3R5cGU9bmV3IEVycm9yO3QucHJvdG90eXBlLmNvZGU9NTt0LnByb3RvdHlwZS5uYW1lPSJJbnZhbGlkQ2hhcmFjdGVyRXJyb3IiO24uZXhwb3J0cz1pfSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO3ZhciByPWkoMik7bi5leHBvcnRzPXIuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKT9mdW5jdGlvbigpe3JldHVybnt3cml0ZTpmdW5jdGlvbihuLHQsaSx1LGYsZSl7dmFyIG89W107by5wdXNoKG4rIj0iK2VuY29kZVVSSUNvbXBvbmVudCh0KSk7ci5pc051bWJlcihpKSYmby5wdXNoKCJleHBpcmVzPSIrbmV3IERhdGUoaSkudG9HTVRTdHJpbmcoKSk7ci5pc1N0cmluZyh1KSYmby5wdXNoKCJwYXRoPSIrdSk7ci5pc1N0cmluZyhmKSYmby5wdXNoKCJkb21haW49IitmKTtlPT09ITAmJm8ucHVzaCgic2VjdXJlIik7ZG9jdW1lbnQuY29va2llPW8uam9pbigiOyAiKX0scmVhZDpmdW5jdGlvbihuKXt2YXIgdD1kb2N1bWVudC5jb29raWUubWF0Y2gobmV3IFJlZ0V4cCgiKF58O1xccyopKCIrbisiKT0oW147XSopIikpO3JldHVybiB0P2RlY29kZVVSSUNvbXBvbmVudCh0WzNdKTpudWxsfSxyZW1vdmU6ZnVuY3Rpb24obil7dGhpcy53cml0ZShuLCIiLERhdGUubm93KCktODY0ZTUpfX19KCk6ZnVuY3Rpb24oKXtyZXR1cm57d3JpdGU6ZnVuY3Rpb24oKXt9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH0scmVtb3ZlOmZ1bmN0aW9uKCl7fX19KCl9LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcigpe3RoaXMuaGFuZGxlcnM9W119dmFyIHU9aSgyKTtyLnByb3RvdHlwZS51c2U9ZnVuY3Rpb24obix0KXtyZXR1cm4gdGhpcy5oYW5kbGVycy5wdXNoKHtmdWxmaWxsZWQ6bixyZWplY3RlZDp0fSksdGhpcy5oYW5kbGVycy5sZW5ndGgtMX07ci5wcm90b3R5cGUuZWplY3Q9ZnVuY3Rpb24obil7dGhpcy5oYW5kbGVyc1tuXSYmKHRoaXMuaGFuZGxlcnNbbl09bnVsbCl9O3IucHJvdG90eXBlLmZvckVhY2g9ZnVuY3Rpb24obil7dS5mb3JFYWNoKHRoaXMuaGFuZGxlcnMsZnVuY3Rpb24odCl7bnVsbCE9PXQmJm4odCl9KX07bi5leHBvcnRzPXJ9LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gcihuKXtuLmNhbmNlbFRva2VuJiZuLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKX12YXIgZj1pKDIpLHU9aSgxOSksZT1pKDIwKSxvPWkoNikscz1pKDIxKSxoPWkoMjIpO24uZXhwb3J0cz1mdW5jdGlvbihuKXtyKG4pO24uYmFzZVVSTCYmIXMobi51cmwpJiYobi51cmw9aChuLmJhc2VVUkwsbi51cmwpKTtuLmhlYWRlcnM9bi5oZWFkZXJzfHx7fTtuLmRhdGE9dShuLmRhdGEsbi5oZWFkZXJzLG4udHJhbnNmb3JtUmVxdWVzdCk7bi5oZWFkZXJzPWYubWVyZ2Uobi5oZWFkZXJzLmNvbW1vbnx8e30sbi5oZWFkZXJzW24ubWV0aG9kXXx8e30sbi5oZWFkZXJzfHx7fSk7Zi5mb3JFYWNoKFsiZGVsZXRlIiwiZ2V0IiwiaGVhZCIsInBvc3QiLCJwdXQiLCJwYXRjaCIsImNvbW1vbiJdLGZ1bmN0aW9uKHQpe2RlbGV0ZSBuLmhlYWRlcnNbdF19KTt2YXIgdD1uLmFkYXB0ZXJ8fG8uYWRhcHRlcjtyZXR1cm4gdChuKS50aGVuKGZ1bmN0aW9uKHQpe3JldHVybiByKG4pLHQuZGF0YT11KHQuZGF0YSx0LmhlYWRlcnMsbi50cmFuc2Zvcm1SZXNwb25zZSksdH0sZnVuY3Rpb24odCl7cmV0dXJuIGUodCl8fChyKG4pLHQmJnQucmVzcG9uc2UmJih0LnJlc3BvbnNlLmRhdGE9dSh0LnJlc3BvbnNlLmRhdGEsdC5yZXNwb25zZS5oZWFkZXJzLG4udHJhbnNmb3JtUmVzcG9uc2UpKSksUHJvbWlzZS5yZWplY3QodCl9KX19LGZ1bmN0aW9uKG4sdCxpKXsidXNlIHN0cmljdCI7dmFyIHI9aSgyKTtuLmV4cG9ydHM9ZnVuY3Rpb24obix0LGkpe3JldHVybiByLmZvckVhY2goaSxmdW5jdGlvbihpKXtuPWkobix0KX0pLG59fSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7bi5leHBvcnRzPWZ1bmN0aW9uKG4pe3JldHVybiEoIW58fCFuLl9fQ0FOQ0VMX18pfX0sZnVuY3Rpb24obil7InVzZSBzdHJpY3QiO24uZXhwb3J0cz1mdW5jdGlvbihuKXtyZXR1cm4vXihbYS16XVthLXpcZFwrXC1cLl0qOik/XC9cLy9pLnRlc3Qobil9fSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7bi5leHBvcnRzPWZ1bmN0aW9uKG4sdCl7cmV0dXJuIHQ/bi5yZXBsYWNlKC9cLyskLywiIikrIi8iK3QucmVwbGFjZSgvXlwvKy8sIiIpOm59fSxmdW5jdGlvbihuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChuKXt0aGlzLm1lc3NhZ2U9bn10LnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiJDYW5jZWwiKyh0aGlzLm1lc3NhZ2U/IjogIit0aGlzLm1lc3NhZ2U6IiIpfTt0LnByb3RvdHlwZS5fX0NBTkNFTF9fPSEwO24uZXhwb3J0cz10fSxmdW5jdGlvbihuLHQsaSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHIobil7dmFyIGksdDtpZigiZnVuY3Rpb24iIT10eXBlb2Ygbil0aHJvdyBuZXcgVHlwZUVycm9yKCJleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uIik7dGhpcy5wcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKG4pe2k9bn0pO3Q9dGhpcztuKGZ1bmN0aW9uKG4pe3QucmVhc29ufHwodC5yZWFzb249bmV3IHUobiksaSh0LnJlYXNvbikpfSl9dmFyIHU9aSgyMyk7ci5wcm90b3R5cGUudGhyb3dJZlJlcXVlc3RlZD1mdW5jdGlvbigpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29uO307ci5zb3VyY2U9ZnVuY3Rpb24oKXt2YXIgbix0PW5ldyByKGZ1bmN0aW9uKHQpe249dH0pO3JldHVybnt0b2tlbjp0LGNhbmNlbDpufX07bi5leHBvcnRzPXJ9LGZ1bmN0aW9uKG4peyJ1c2Ugc3RyaWN0IjtuLmV4cG9ydHM9ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBuLmFwcGx5KG51bGwsdCl9fX1dKX0p","CacheKey":"zihdN0KDVkhJDPQWrB8uWTDyFpo"}